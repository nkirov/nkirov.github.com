<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=windows-1251">
   <meta name="GENERATOR" content="Mozilla/4.75 [en] (Win95; U) [Netscape]">
   <title>l03</title>
</head>
<body>
<b>3. Описание и управление на процеси</b><b></b>
<p>* ОС трябва да организира изпълнението на няколко процеса, за да максимизира
използването на процесора докато осигурява разумно време за отговор.
<br>* ОС трябва да разпределя ресурси на процесите в съответствие със специфичните
им изисквания и приоритети, като в същото време избягва "мъртва хватка".
<br>* ОС поддържа връзките между процесите и създаването на процеси от
потребителите.
<br>
<hr WIDTH="100%">
<br>3.1 Състояния на процеси
<br>Процесорът изпълнява машинни инструкции, съхраняващи се в ОП.
<br>Списъкът на инструкциите на един процес се нарича <b>следа </b>на процеса.
<br>Пример:
<br>--- <a href="http://www.math.bas.bg/~nkirov/bfu/Os/F3-1.PDF">FIGURE
3.1</a> ---
<br>--- FIGURE 3.2 ---
<br>--- FIGURE 3.3 ---
<br>** Модел с 2 състояния
<br>-- изпълнение (running)
<br>-- неизпълнение (nonrunning)
<br>--- <a href="http://www.math.bas.bg/~nkirov/bfu/Os/F3-4.PDF">FIGURE
3.4</a> ---
<br>** Създаване и унищожаване на процеси
<br>- създаване на процеси
<br>Причини за създаване на процес:
<br>--- ново пакетно задание (new batch job) - с команди на ОС
<br>--- диалогов login - потребител влиза в системата
<br>--- създаден от ОС за осигуряване на услуга - във връзка с потребителска
програма, без да чака потребителят
<br>--- породен от съществуващ процес (parent and child processes)
<br>- унищожаване на процеси
<br>Причини за унищожаване на процес:
<br>--- нормално завършване
<br>--- превишаване на максималната време
<br>--- няма памет
<br>--- нарушаване на границите на паметта
<br>--- грешка от защита
<br>--- аритметична грешка
<br>--- превишаване на времето за чакане на събитие
<br>--- входно-изходна грешка
<br>--- невалидна инструкция
<br>--- инструкция, изпълнявана само от ОС
<br>--- неправилна работа с данни
<br>--- намеса на оператор или ОС
<br>--- завършване на родителски процес
<br>--- по заявка на родителски процес
<br>** Модел с 5 състояния
<br>Състоянията са:
<br>&nbsp;&nbsp; 1. Running - изпълнение
<br>&nbsp;&nbsp; 2. Ready&nbsp;&nbsp; - готов
<br>&nbsp;&nbsp; 3. Blocked- блокиран (чака събитие)
<br>&nbsp;&nbsp; 4. New&nbsp;&nbsp;&nbsp;&nbsp; - нов
<br>&nbsp;&nbsp; 5. Exit&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; - прекратен
<br>Преходи между различните състояния:
<br>--- <a href="http://www.math.bas.bg/~nkirov/bfu/Os/F3-5.PDF">FIGURE
3.5</a> ---
<br>--- FIGURE 3.6 ---
<br>** Преустановени процеси (suspended processes)
<br>-- за необходимостта от размяна (swapping)
<br>Нови състояния на процесите:
<br>&nbsp;&nbsp;&nbsp; 1. Ready
<br>&nbsp;&nbsp;&nbsp; 2. Blocked
<br>&nbsp;&nbsp;&nbsp; 3. Blocked, suspend
<br>&nbsp;&nbsp;&nbsp; 4. Ready, suspend
<br>Преходи между различните състояния:
<br>--- FIGURE 3.7 ---
<br>-- други употреби на преустановени процеси
<br>Обобщени характеристики на преустановени процеси:
<br>&nbsp;&nbsp; 1. Процесът не е готов за непосредствено изпълнение
<br>&nbsp;&nbsp; 2. Независимост от блокировка
<br>&nbsp;&nbsp; 3. Поставяне в това състояние с цел недопускане до изпълнение
<br>&nbsp;&nbsp; 4. Смяна на това състояние става само с "нарочна заповед"
<br>Причини за преустановяване на процес:
<br>- размяна
<br>- друга причина за ОС
<br>- диалогово искане на потребителя
<br>- по време, ако се изпълнява периодично
<br>- искане на родителя
<br>
<hr WIDTH="100%">
<br>3.2 Описание на процеси
<br>--- FIGURE 3.8 ---
<br>** Структури за управлението на ОС
<br>--- FIGURE 3.9 ---
<br>-- таблици на паметта за:
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ОП - оперативна памет (main memory)
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ВП - виртуална памет (virtual
memory)
<br>-- I/O таблици
<br>-- таблици за файлове
<br>-- таблици на процеси
<br>** Структури за управление на процеси
<br>-- разполагане на процесите (process location)
<br>&nbsp;&nbsp; Типични елементи на изображение на процеса (process image):
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; User Data
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; User Program
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; System Stack
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Process Control Block (PCB)
<br>-- атрибути на процесите
<br>&nbsp;&nbsp; Типични елементи на контролния блок на процес (PCB):
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Process Identification
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Processor State Information
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Process Control Information
<br>--- <a href="http://www.math.bas.bg/~nkirov/bfu/Os/F3-10.pdf">FIGURE
3.10</a> ---
<br>--- <a href="http://www.math.bas.bg/~nkirov/bfu/Os/F3-11.pdf">FIGURE
3.11</a> ---
<br>--- FIGURE 3.12 ---
<br>-- ролята на контролния блок на процес
<br>
<hr WIDTH="100%">
<br>3.3 Управление на процеси
<br>** Режими на изпълнение (modes of execution)
<br>Функции на ядрото:
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; - организация на процесите
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; - организация на паметта
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; - органицация на входа и изхода
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; - поддържащи функции
<br>** Създаване на процеси
<br>Дейности на ОС за създаване на процес:
<br>&nbsp;&nbsp;&nbsp;&nbsp; 1. Създаване на идентификатор на процеса и
записването му в таблицата на първичните процеси (primary process table).
<br>&nbsp;&nbsp;&nbsp;&nbsp; 2. Отделяне на памет за процеса
<br>&nbsp;&nbsp;&nbsp;&nbsp; 3. Инициализация на контролния блок
<br>&nbsp;&nbsp;&nbsp;&nbsp; 4. Създаване на необходимите връзки
<br>&nbsp;&nbsp;&nbsp;&nbsp; 5. Други структури от данни
<br>** Превключване на процеси
<br>-- кога ?
<br>&nbsp;&nbsp;&nbsp; --- прекъсване на часовника
<br>&nbsp;&nbsp;&nbsp; --- I/O прекъсване
<br>&nbsp;&nbsp;&nbsp; --- недостатъчно памет
<br>-- превключване на режими: ядро-потребител
<br>-- промяна на състоянията на процесите
<br>&nbsp;&nbsp;&nbsp; Действия на ОС при превключване на процеси:
<br>&nbsp;&nbsp;&nbsp;&nbsp; 1. Запазване на контекста на процеса, който
ще се прекъсва
<br>&nbsp;&nbsp;&nbsp;&nbsp; 2. Обновяване на PCB
<br>&nbsp;&nbsp;&nbsp;&nbsp; 3. Преместване на PCB в съответната опашка
<br>&nbsp;&nbsp;&nbsp;&nbsp; 4. Избиране на друг процес за изпълнение
<br>&nbsp;&nbsp;&nbsp;&nbsp; 5. Обновяване на PCB на избрания процес
<br>&nbsp;&nbsp;&nbsp;&nbsp; 6. Обновяване на паметта с новите данни
<br>&nbsp;&nbsp;&nbsp;&nbsp; 7. Възстановяване на състоянието на процесора
във вида при предишното прекъсване на процеса
<br>** Изпълнение на ОС
<br>-- ядро, което не е процес
<br>-- изпълнение в потребителски процеси
<br>--- FIGURE 3.13 ---
<br>--- <a href="http://www.math.bas.bg/~nkirov/bfu/Os/F3-14.pdf">FIGURE
3.14</a> ---
<br>-- базирана на процеси ОС
<br>
<hr WIDTH="100%">
<br>3.4 Организация на процесите в UNIX SVR4
<br>** Състояния на процесите
<br>--- <a href="http://www.math.bas.bg/~nkirov/bfu/Os/F3-15.pdf">FIGURE
3.15</a> ---
<br>** Описание на процесите
<br>** Управление на процесите
<br>
<hr WIDTH="100%">
</body>
</html>
