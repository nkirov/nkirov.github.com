<HTML>
<HEAD>
   <META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=windows-1251">
   <META NAME="Author" CONTENT="Nikolay Kirov">
   <META NAME="GENERATOR" CONTENT="Mozilla/4.04 [en] (Win95; I) [Netscape]">
   <TITLE>Pec2</TITLE>
</HEAD>
<BODY>

<HR WIDTH="100%">
<BR><B>1. Функции</B>
<BR><IMG SRC="bullet.gif" HEIGHT=18 WIDTH=20> Използване на функции
<BR><B><TT><FONT COLOR="#009900">&nbsp;&nbsp; cout &lt;&lt; sqrt(x);</FONT></TT></B>
<BR>* Входна стойност или стойност на параметъра: променлива, израз, константа
<BR>- различен брой на параметрите:
<BR><B><TT><FONT COLOR="#009900">&nbsp;main(), sqrt(x), pow(x,y)</FONT></TT></B>
<BR>- неявни параметри - за член-функции:
<BR><B><TT>&nbsp;<FONT COLOR="#009900">harry.get_salary(), t.add_seconds(10)</FONT></TT></B>
<BR>- всеки параметър е от определен тип:
<BR><B><TT>&nbsp;<FONT COLOR="#009900">fabs(x), getline(cin,s),&nbsp;</FONT></TT></B>
<BR>* Изходна стойност или стойност на функцията
<BR>- стойността има определен тип:
<BR><B><TT>&nbsp;<FONT COLOR="#009900">sqrt(x), main(), c.get_center(),
m.get_text(), getline(cin,s)</FONT></TT></B>

<P><IMG SRC="bullet.gif" HEIGHT=18 WIDTH=20> Писане на функции
<BR>Да пресметнем стойността на влог с начална сума 10000 лв. след 10 години
при месечно начисляване на лихвата. Нека годишната лихва да е p%.
<BR><B><TT><FONT COLOR="#009900">double future_value(double p)</FONT></TT></B>
<BR><B><TT><FONT COLOR="#009900">{</FONT></TT></B>
<BR><B><TT><FONT COLOR="#009900">&nbsp;double b = 1000*pow(1 + p/(12*100),
12*10);</FONT></TT></B>
<BR><B><TT><FONT COLOR="#009900">&nbsp;return b;</FONT></TT></B>
<BR><B><TT><FONT COLOR="#009900">}</FONT></TT></B>
<BR>Тип на резултата, име на функцията, тип на параметъра, име на парамeтъра.

<P><B><TT><FONT COLOR="#3333FF">#include &lt;iostream></FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">#include &lt;cmath></FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">using namespace std;</FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">double future_value(double p)</FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">{</FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">&nbsp;double b = 1000*pow(1 + p/(12*100),
12*10);</FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">&nbsp;return b;</FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">}</FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">int main()</FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">{</FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">&nbsp;cout &lt;&lt; "Please enter the
interest rate in percent: ";</FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">&nbsp;double rate;</FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">&nbsp;cin >> rate;</FONT></TT></B>

<P><B><TT><FONT COLOR="#3333FF">&nbsp;double balance = future_value(rate);</FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">&nbsp;cout &lt;&lt; "After 10 years, the
balance is " &lt;&lt; balance &lt;&lt; "\n";</FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">&nbsp;return 0;</FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">}</FONT></TT></B>

<P><IMG SRC="bullet.gif" HEIGHT=18 WIDTH=20 ALIGN=ABSBOTTOM> Документиране
на функции

<P><IMG SRC="bullet.gif" HEIGHT=18 WIDTH=20 ALIGN=ABSBOTTOM> Връщане на
стойност
<BR>* Оператор <B><TT><FONT COLOR="#009900">return</FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">#include &lt;iostream></FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">#include &lt;cmath></FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">using namespace std;</FONT></TT></B>

<P><B><TT><FONT COLOR="#3333FF">double future_value(double initial_balance,
double p, int nyear)</FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">{ if (nyear &lt; 0) return 0;</FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">&nbsp; if (p &lt; 0) returen 0;</FONT></TT></B>
<BR>&nbsp;&nbsp;<B><TT><FONT COLOR="#3333FF"> double b = 1000*pow(1 + p/(12*100),
12*10);</FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">&nbsp; return b;</FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">}</FONT></TT></B><B><TT><FONT COLOR="#3333FF"></FONT></TT></B>

<P><B><TT><FONT COLOR="#3333FF">int main()</FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">{</FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">&nbsp;cout &lt;&lt; "Interest rate in
percent: ";</FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">&nbsp;double rate;</FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">&nbsp;cin >> rate;</FONT></TT></B>

<P><B><TT><FONT COLOR="#3333FF">&nbsp;double bal = future_value(10000,
rate, 10);</FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">&nbsp;cout &lt;&lt; "After 10 years, the
balance is " &lt;&lt; bal &lt;&lt; "\n";</FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">&nbsp;return 0;</FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">}</FONT></TT></B>
<BR>* Предикат - проверка дали точка лежи в кръг.
<BR><B><TT><FONT COLOR="#3333FF">#include "ccc_win.cpp"</FONT></TT></B>

<P><B><TT><FONT COLOR="#3333FF">bool is_inside(Point p, Circle c)</FONT></TT></B>
<BR><B><FONT COLOR="#3333FF"><TT>/*</TT> </FONT><TT><FONT COLOR="#000099">PURPOSE:&nbsp;
tests whether a point lies inside a circle</FONT></TT></B>
<BR><B><TT><FONT COLOR="#000099">&nbsp; RECEIVES: p - a point, c - a circle</FONT></TT></B>
<BR><B><TT><FONT COLOR="#000099">&nbsp; RETURNS:&nbsp; true if p lies inside
c</FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">*/</FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">{&nbsp; double dx = p.get_x() - c.get_center().get_x();</FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">&nbsp;&nbsp; double dy = p.get_y() - c.get_center().get_y();</FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">&nbsp;&nbsp; double r = c.get_radius();</FONT></TT></B>

<P><B><TT><FONT COLOR="#3333FF">&nbsp;&nbsp; return dx * dx + dy * dy &lt;=
r * r;</FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">}</FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">int main()</FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">{&nbsp; Circle c(Point(1, 1), 2);</FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">&nbsp;&nbsp; cwin &lt;&lt; c;</FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">&nbsp;&nbsp; Point m = cwin.get_mouse("Please
click inside the circle.");</FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">&nbsp;&nbsp; if (is_inside(m, c))</FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cwin &lt;&lt;
Message(Point(3, 3), "Congratulations!");</FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">&nbsp;&nbsp; else</FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cwin &lt;&lt;
Message(Point(3, 3), "You missed!");</FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">&nbsp;&nbsp; return 0;</FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">}</FONT></TT></B>

<P><IMG SRC="bullet.gif" HEIGHT=18 WIDTH=20 ALIGN=ABSBOTTOM> Параметри
на функции
<BR>* Формални параметри&nbsp; - параметри-променливи, декларират се при
дефиницията на функцията
<BR>* Фактически параметри - изрази за инициализация на параметрите-променливи,
задават се при извикване на функцията

<P><IMG SRC="bullet.gif" HEIGHT=18 WIDTH=20 ALIGN=ABSBOTTOM> Процедури
<BR>* Функция, която не връща стойност се нарича процедура.
<BR>* Процедура за отпечатване на обект от тип <TT><FONT COLOR="#009900">Time</FONT></TT>
<BR><B><TT><FONT COLOR="#3333FF">#include &lt;iostream></FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">#include &lt;iomanip></FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">using namespace std;</FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">#include "ccc_time.cpp"</FONT></TT></B>

<P><B><TT><FONT COLOR="#3333FF">void print_time(Time t)</FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">/*</FONT><FONT COLOR="#000099"> PURPOSE:&nbsp;
Print a time in the format h:mm:ss</FONT></TT></B>
<BR><B><TT><FONT COLOR="#000099">&nbsp;&nbsp; RECEIVES: t - the time to
print</FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">*/</FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">{&nbsp; cout &lt;&lt; t.get_hours() &lt;&lt;
":";</FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">&nbsp;&nbsp; if (t.get_minutes() &lt;
10) cout &lt;&lt; "0";</FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">&nbsp;&nbsp; cout &lt;&lt; t.get_minutes()
&lt;&lt; ":";</FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">&nbsp;&nbsp; if (t.get_seconds() &lt;
10) cout &lt;&lt; "0";</FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">&nbsp;&nbsp; cout &lt;&lt; t.get_seconds();</FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">}</FONT></TT></B>

<P><B><TT><FONT COLOR="#3333FF">int main()</FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">{&nbsp; Time liftoff(7, 0, 15);</FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">&nbsp;&nbsp; Time now;</FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">&nbsp;&nbsp; cout &lt;&lt; "Liftoff: ";</FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">&nbsp;&nbsp; print_time(liftoff);</FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">&nbsp;&nbsp; cout &lt;&lt; "\n";</FONT></TT></B>

<P><B><TT><FONT COLOR="#3333FF">&nbsp;&nbsp; cout &lt;&lt; "Now: ";</FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">&nbsp;&nbsp; print_time(now);</FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">&nbsp;&nbsp; cout &lt;&lt; "\n";</FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">&nbsp;&nbsp; return 0;</FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">}</FONT></TT></B>

<P><IMG SRC="bullet.gif" HEIGHT=18 WIDTH=20 ALIGN=ABSBOTTOM> Параметри-псевдоними
<BR>* Параметър-псевдоним не е нова променлива, а псевдоним на съществуваща
променлива в извикващата функция.
<BR><B><TT><FONT COLOR="#3333FF">#include &lt;iostream></FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">using namespace std;</FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">#include "ccc_empl.cpp"</FONT></TT></B>

<P><B><TT><FONT COLOR="#3333FF">void raise_salary(Employee&amp; e, double
by)</FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">/* </FONT><FONT COLOR="#000099">PURPOSE:&nbsp;
Raise an employee salary</FONT></TT></B>
<BR><B><TT><FONT COLOR="#000099">&nbsp;&nbsp; RECEIVES: e - employee receiving
raise</FONT></TT></B>
<BR><B><TT><FONT COLOR="#000099">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
by - the percentage of the raise</FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">*/</FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">{&nbsp; double new_salary = e.get_salary()
* (1 + by / 100);</FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">&nbsp;&nbsp; e.set_salary(new_salary);</FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">}</FONT></TT></B>

<P><B><TT><FONT COLOR="#3333FF">int main()</FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">{&nbsp; Employee harry("Hacker, Harry",
45000.00);</FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">&nbsp;&nbsp; raise_salary(harry, 5);</FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">&nbsp;&nbsp; cout &lt;&lt; "New salary:
" &lt;&lt; harry.get_salary() &lt;&lt; "\n";</FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">&nbsp;&nbsp; return 0;</FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">}</FONT></TT></B>

<P><IMG SRC="bullet.gif" HEIGHT=18 WIDTH=20 ALIGN=ABSBOTTOM> Постъпково
прецизиране, създаване на кода, проиграване

<P><IMG SRC="bullet.gif" HEIGHT=18 WIDTH=20 ALIGN=ABSBOTTOM> Рекурсия
<BR>* Функцията&nbsp; <B>n!</B>&nbsp; (n факториел),&nbsp; <B>n! = 1.2.3.4...n</B>
<BR>&nbsp;
<TABLE BORDER CELLSPACING=4 CELLPADDING=4 COLS=2 WIDTH="22%" >
<TR>
<TD>n</TD>

<TD>n!</TD>
</TR>

<TR>
<TD>0</TD>

<TD>1</TD>
</TR>

<TR>
<TD>1</TD>

<TD>1</TD>
</TR>

<TR>
<TD>2</TD>

<TD>2</TD>
</TR>

<TR>
<TD>3</TD>

<TD>6</TD>
</TR>

<TR>
<TD>4</TD>

<TD>24</TD>
</TR>

<TR>
<TD>5</TD>

<TD>120</TD>
</TR>

<TR>
<TD>6</TD>

<TD>720</TD>
</TR>

<TR>
<TD>7</TD>

<TD>5040</TD>
</TR>
</TABLE>
<B><TT><FONT COLOR="#3333FF">#include &lt;iostream></FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">using namespace std;</FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">long factorial(int n)</FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">{&nbsp; if (n == 0) return 1;</FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">&nbsp;&nbsp; else</FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">&nbsp;&nbsp; {&nbsp; long result = n *
factorial(n - 1);</FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return
result;&nbsp;&nbsp; }</FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">}</FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">int main()</FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">{&nbsp; cout &lt;&lt; "Please enter a
number: ";</FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">&nbsp;&nbsp; int n;</FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">&nbsp;&nbsp; cin >> n;</FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">&nbsp;&nbsp; cout &lt;&lt; n &lt;&lt;
"! = " &lt;&lt; factorial(n) &lt;&lt; "\n";</FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">&nbsp;&nbsp; return 0;</FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">}</FONT></TT></B>
<BR>
<HR WIDTH="100%">
</BODY>
</HTML>
