<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
    <meta content="text/html; charset=UTF-8" http-equiv="content-type">
    <title>Chapter 6</title>
  </head>
  <body>
    <h2>7. Дървета - втора част<br>
    </h2>
    Дефиниция и приложения<br>
    Двоично дърво АТД<br>
    Свойства на двоичните дървета <br>
    Обхождане на двоично дърво:<br>
    - Preorder обхождане (клд)<br>
    - Postorder обхождане (лдк)<br>
    - Изчисляване на аритметичен израз<br>
    - Inorder обхождане (лкд)<br>
    - Двоични дървета за търсене<br>
    - Ойлерово обхождане<br>
    Структури от данни за представяне на дървета <br>
    - Вектор-базирана структура<br>
    - Свързана структура<br>
    -- Възли и позиции на двоично дърво<br>
    -- Функции за обновяване на двоично дърво<br>
    -- С++ реализация на двиочно дърво АТД като свързана структура<br>
    Представяне на дърво с двоично дърво<br>
    <hr width="100%" size="2">
    <h3>Двоични дървета</h3>
    <big>Двоично дърво е <a href="ch06-1_bg.html">наредено дърво</a>, в
      което всеки възел има <i>най-много</i> две деца (преки
      наследници). <br>
      Двоичното дърво е <i>правилно</i>, ако всеки вътрешен възел има <i>точно















        две</i> деца.<br>
    </big>
    <table style="width: 100%; text-align: left;" cellspacing="2"
      cellpadding="2" border="0">
      <tbody>
        <tr>
          <td style="vertical-align: top;"><img alt="" src="pic3.jpg"
              style="width: 333px; height: 299px;"></td>
          <td style="vertical-align: middle;">
            <ul>
              <li><big>Двоично дърво е дърво със следните свойства:</big></li>
              <ul>
                <li><big>Всеки вътрешен възел има две деца.</big></li>
                <li><big>Децата на възел са наредена двойка.</big></li>
              </ul>
              <li><big>Ще наричаме децата на вътрешен възел ляво дете и
                  дясно дете.</big></li>
              <li><br>
              </li>
              <li><big>Алтернативна рекурсивна (рекурентна) дефиниция:
                  двоично дърво е или</big></li>
              <ul>
                <li><big>дърво, състояща се от един възел (корен) или</big></li>
                <li><big>дърво, чийто корен има наредена двойка
                    наследници (ляво и дясно поддърво), всеки от които е
                    двоично дърво.</big></li>
              </ul>
            </ul>
          </td>
        </tr>
      </tbody>
    </table>
    <br>
    <big>Примери: аритметичен израз, дърво на решенията</big><big><br>
      <span style="font-weight: bold;"><br>
        Дърво за аритметичен израз<br>
      </span></big>
    <table style="width: 100%; text-align: left;" cellspacing="2"
      cellpadding="2" border="0">
      <tbody>
        <tr>
          <td style="vertical-align: top;"> <img alt="" src="pic4.jpg"
              style="width: 336px; height: 224px;"><br>
          </td>
          <td>
            <ul>
              <li><big>Двоично дърво, свързано с аритметичен израз:</big></li>
              <ul>
                <li><big>вътрешни възли - операции;</big></li>
                <li><big>външни възли - операнди (аргументи).<br>
                  </big></li>
              </ul>
              <li><big>Пример: дърво за аритметичния израз<br>
                  2 * (<span style="font-style: italic;">a</span> −1) +
                  (3 *<span style="font-style: italic;"> b</span>)</big></li>
            </ul>
          </td>
        </tr>
      </tbody>
    </table>
    <big><span style="font-weight: bold;"></span></big><big><span
        style="font-weight: bold;"><br>
      </span><span style="font-weight: bold;"></span></big><b><big>Дърво
        на решенията</big></b><big><br>
    </big>
    <table width="100%" cellspacing="2" cellpadding="2" border="0">
      <tbody>
        <tr>
          <td valign="top"><img alt="tree" src="pic5.jpg" width="513"
              height="200"></td>
          <td valign="middle">
            <ul>
              <li><big>Двоично дърво свързано с вземане на
                  решение:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;


















                  <br>
                </big></li>
              <ul>
                <big> </big>
                <li><big>вътрешни възли - въпроси с отговор да/не;</big></li>
                <big> </big>
                <li><big>външни възли - решения.</big></li>
              </ul>
              <big> </big>
              <li><big>Пример: <br>
                </big></li>
              <li><big>решение за хранене</big></li>
            </ul>
          </td>
        </tr>
      </tbody>
    </table>
    <big> </big> <big><span style="font-weight: bold;"> </span></big>
    <hr width="100%" size="2">
    <h4><big><span style="font-weight: bold;">Двоично дърво АТД</span></big></h4>
    <ul>
      <li><big>Двоично дърво АТД (</big><big>BinaryTree ADT) разширява
          дърво AТД, т.е. то наследява всички методи на <a
            href="ch06-1_bg.html">дърво АТД</a>.</big></li>
      <li><big>Допълнителни методи:</big></li>
      <ul>
        <li><big>Position <span style="color: rgb(255, 0, 0);">leftChild</span>(p)</big></li>
        <li><big>Position <span style="color: rgb(255, 0, 0);">rightChild</span>(p)</big></li>
        <li><big>Position <span style="color: rgb(255, 0, 0);">sibling</span>(p)</big></li>
      </ul>
      <li><big>Методи за промяна на дървото се определят от структурата
          за конкретната реализация на двоично дърво АТД.<br>
        </big></li>
    </ul>
    <big>Интерфейс за двоично дърво<br>
    </big><br>
    <big><span style="font-weight: bold;"> </span><a
        href="6.14a_InspectableBinaryTree.h-InspectableBinaryTree.html">html-6.14a</a>
      (InspectableBinaryTree)<br>
      <a href="6.14b_BinaryTree.h-BinaryTree.html">html-6.14b</a>
      (BinaryTree)<br>
    </big>
    <ul>
      <li><a href="BinaryTree.cpp"><big><span style="font-family:
              monospace;">BinaryTree.cpp</span></big></a></li>
    </ul>
    <h4><big><span style="font-weight: bold;"></span></big></h4>
    <hr width="100%" size="2">
    <h4><big><span style="font-weight: bold;">Свойства на двоичните
          дървета<br>
        </span></big></h4>
    <big>Множеството от всички възли на двоичното дърво <span
        style="font-style: italic;">T</span>, които имат една и съща
      дълбочина <span style="font-style: italic;">d</span>, се нарича <i>ниво</i>
      (level) <span style="font-style: italic;">d</span> на <span
        style="font-style: italic;">T</span>.<br>
    </big>&nbsp;<br>
    <big><span style="font-weight: bold;"></span>Твърдение: Нека <span
        style="font-style: italic;">T</span> е правилно двоично дърво с
      <span style="font-style: italic;">n</span> възли и нека <span
        style="font-style: italic;">h</span> е височината на <span
        style="font-style: italic;">T</span>. Тогава <span
        style="font-style: italic;">T</span> има следните свойства:<br>
    </big>
    <ol>
      <li> <big>Броят на външните възли <span style="font-style:
            italic;">e</span> на <span style="font-style: italic;">T</span>
          е: <span style="font-style: italic;">h</span> + 1 </big><span
          style="font-style: italic;"><big>≤ </big></span><big> <span
            style="font-style: italic;">e</span> </big><span
          style="font-style: italic;"><big>≤ </big></span><big> 2<sup><span
              style="font-style: italic;">h</span></sup> </big> </li>
      <li> <big>Броят на вътрешните възли <span style="font-style:
            italic;">i</span> на <span style="font-style: italic;">T</span>
          е: <span style="font-style: italic;">h</span> </big><span
          style="font-style: italic;"><big>≤ </big></span><big> <span
            style="font-style: italic;">i</span> </big><span
          style="font-style: italic;"><big>≤ </big></span><big> </big><big>
          2<sup><span style="font-style: italic;">h</span></sup> </big><big><span
            style="font-style: italic;">−</span></big><big><span
            style="font-style: italic;"> </span>1</big> </li>
      <li> <big>Общият брой на възлите <span style="font-style:
            italic;">n</span> на<i> T</i> е: 2</big><big><span
            style="font-style: italic;">h</span> + 1 </big><span
          style="font-style: italic;"><big>≤ </big></span><big> <span
            style="font-style: italic;">n</span> </big><span
          style="font-style: italic;"><big>≤ </big></span><big> </big><big>
          2<sup><span style="font-style: italic;">h+</span>1</sup> <span
            style="font-style: italic;"></span></big><big><span
            style="font-style: italic;">−</span></big><big><span
            style="font-style: italic;"></span> 1</big> </li>
      <li> <big>Височината <span style="font-style: italic;">h</span>
          на <i>T</i> е: log(<span style="font-style: italic;">n</span>
          + 1) </big><big><span style="font-style: italic;">−</span></big><big>
          1 </big><span style="font-style: italic;"><big>≤ </big></span><big>
          <span style="font-style: italic;">h</span> </big><span
          style="font-style: italic;"><big>≤ </big></span><big> (<span
            style="font-style: italic;">n </span></big><big><span
            style="font-style: italic;">−</span></big><big><span
            style="font-style: italic;"></span> 1)/2</big> </li>
    </ol>
    <big><span style="font-weight: bold;"></span>В правилното двоично
      дърво <span style="font-style: italic;">T</span>, броят на
      външните възли <span style="font-style: italic;">e</span> е с 1
      повече от броя на вътрешните възли <span style="font-style:
        italic;">i</span>, т.е. <span style="font-style: italic;">e</span>
      = <span style="font-style: italic;">i</span> + 1 (доказателство).<br>
      <br>
    </big>
    <table style="width: 100%; text-align: left;" cellspacing="2"
      cellpadding="2" border="0">
      <tbody>
        <tr>
          <td style="vertical-align: top;"><big><img alt=""
                src="pic6.jpg" style="width: 260px; height: 170px;"><br>
              <br>
              <img alt="" src="pic7.jpg" style="width: 226px; height:
                217px;"></big></td>
          <td style="vertical-align: top;">
            <ul>
              <li><big>Означения:<br>
                  <span style="font-style: italic;">n</span> - брой на
                  възлите;<br>
                  <span style="font-style: italic;">e</span> - брой на
                  външните възли;<br>
                  <span style="font-style: italic;">i</span> - брой на
                  вътрешните възли;<br>
                  <span style="font-style: italic;">h</span> - височина
                  на дървото.</big></li>
            </ul>
            <ul>
              <li><big>Свойства:</big></li>
              <ul>
                <li> <span style="font-style: italic;"><big>e = i +</big></span><big>
                    1</big> </li>
                <li> <span style="font-style: italic;"><big>n = </big></span><big>2<span
                      style="font-style: italic;">e −</span> 1</big> </li>
                <li><span style="font-style: italic;"><big>h ≤ i</big></span></li>
                <li> <span style="font-style: italic;"><big>h ≤ </big></span><big>(<span
                      style="font-style: italic;">n −</span> 1)/2</big>
                </li>
                <li> <span style="font-style: italic;"><big>e ≤ </big></span><big>2<sup
                      style="font-style: italic;">h</sup></big> </li>
                <li> <span style="font-style: italic;"><big>h ≥</big></span><big>
                    log</big><sub>2</sub><big><span style="font-style:
                      italic;">e</span></big> </li>
                <li> <span style="font-style: italic;"><big>h ≥ </big></span><big>log</big><sub>2</sub><big>(<span
                      style="font-style: italic;">n +</span> 1) − 1</big>
                </li>
              </ul>
            </ul>
          </td>
        </tr>
      </tbody>
    </table>
    <br>
    <big><span style="font-weight: bold;"></span></big>
    <hr width="100%" size="2">
    <h4><big><span style="font-weight: bold;">Обхождане на двоично дърво</span></big></h4>
    <big><span style="font-weight: bold;"> </span><span
        style="font-weight: bold;">Preorder обхождане на двоично дърво</span>
      <br>
      (корен, ляво поддърво, дясно поддърво - клд) <br>
    </big>
    <blockquote>
      <pre><big><font color="#a000a0">void</font> <font color="#000000">binaryPreorderPrint</font>(<font color="#a000a0">const</font> Tree&amp; T, <font color="#a000a0">const</font> Position&amp; v) <br>{ cout &lt;&lt; v.<font color="#000000">element</font>();		<font color="#0000ff">// print element</font><br>  <font color="#00a000">if</font> (isInternal(v))		<font color="#0000ff">// visit children</font><br>  {  cout &lt;&lt; <font color="#0000ff">" "</font>;<br>     <font color="#000000">binaryPreorderPrint</font>(T, T.leftChild(v));<br><font color="#000000">     binaryPreorderPrint</font>(T, T.rightChild(v));<br>  }<br>}</big></pre>
    </blockquote>
    <big><span style="font-weight: bold;">Postorder обхождане на двоично
        дърво</span> <br>
      (ляво поддърво, дясно поддърво, корен - лдк) <br>
    </big>
    <blockquote>
      <pre><big><font color="#a000a0">void</font> <font color="#000000">binaryPostorderPrint</font>(<font color="#a000a0">const</font> Tree&amp; T, <font color="#a000a0">const</font> Position&amp; v) <br>{ <font color="#00a000">if</font> (isInternal(v)) <font color="#0000ff">   // visit children</font><br>  { cout &lt;&lt; <font color="#0000ff">" "</font>;<br> <font color="#000000">   binaryPostorderPrint</font>(T, T.leftChild(v));<br><font color="#000000">    binaryPostorderPrint</font>(T, T.rightChild(v));<br>  }<br>  cout &lt;&lt; v.<font color="#000000">element</font>(); <font color="#0000ff">// print element</font><br>}</big></pre>
    </blockquote>
    &nbsp; <big><span style="font-weight: bold;">Изчисляване на
        аритметичен израз</span><br>
    </big>
    <table style="width: 100%; text-align: left;" cellspacing="2"
      cellpadding="2" border="0">
      <tbody>
        <tr>
          <td style="vertical-align: top;"> <img alt="" src="pic8.jpg"
              style="width: 337px; height: 222px;"><br>
          </td>
          <td style="vertical-align: middle;" valign="middle">
            <ul>
              <li><big>Специализация на postorder обхождане:<br>
                </big></li>
              <ul>
                <li><big>рекурсивен метод, връщаш стойността на
                    аритметичния израз в поддървото;</big></li>
                <li><big>при посещение на вътрешен възел се извършва
                    аритметично действие с аргументи стойностите на
                    двете поддървета.</big></li>
              </ul>
              <li><big>Време за изпълнение <i>O</i>(<i>n</i>)
                  (линейно).</big></li>
              <li><big>2*(5 - 1) + 3*2<br>
                </big></li>
            </ul>
          </td>
        </tr>
      </tbody>
    </table>
    <big><br>
    </big><font size="+1">2 5 1 - x 3 2 x +</font><big><br>
      <a
href="https://bg.wikipedia.org/wiki/%D0%9E%D0%B1%D1%80%D0%B0%D1%82%D0%B5%D0%BD_%D0%BF%D0%BE%D0%BB%D1%81%D0%BA%D0%B8_%D0%B7%D0%B0%D0%BF%D0%B8%D1%81">Обратен















        полски запис</a><br>
      Пресмятане на аритметичен израз, записан като обратен полски
      запис.<br>
      Стек: (2), (2,5), (2,5,1), (2,[5,1,-]), (2,4), ([2,4,x]), (8),
      (8,3), (8,3,2), (8,[3,2,x]), (8,6), ([8,6,+]), (14)<br>
    </big>
    <ul>
    </ul>
    <table style="text-align: left; width: 547px; height: 176px;"
      cellspacing="0" cellpadding="2" border="1">
      <tbody>
        <tr>
          <td style="vertical-align: top;"><big>Algorithm <span
                style="font-style: italic; color: rgb(255, 0, 0);">evalExpr</span><span
                style="color: rgb(255, 0, 0);">(</span><span
                style="font-style: italic; color: rgb(255, 0, 0);">v</span><span
                style="color: rgb(255, 0, 0);">)</span><br>
              &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if <span
                style="font-style: italic; color: rgb(51, 102, 102);">isExternal</span><span
                style="color: rgb(51, 102, 102);"> (</span><span
                style="font-style: italic; color: rgb(51, 102, 102);">v</span><span
                style="color: rgb(51, 102, 102);">)</span><br>
              &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
return
































              <span style="font-style: italic; color: rgb(51, 102,
                102);">v.element</span><span style="color: rgb(51, 102,
                102);"> ()</span><br>
              &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; else<br>
              &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span
                style="font-style: italic; color: rgb(51, 102, 102);">x</span>
              ← <span style="font-style: italic; color: rgb(51, 102,
                102);">evalExpr</span><span style="color: rgb(51, 102,
                102);">(</span><span style="font-style: italic; color:
                rgb(51, 102, 102);">leftChild</span><span style="color:
                rgb(51, 102, 102);"> (</span><span style="font-style:
                italic; color: rgb(51, 102, 102);">v</span><span
                style="color: rgb(51, 102, 102);">))</span><br>
              &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span
                style="font-style: italic; color: rgb(51, 102, 102);">y</span>
              ← <span style="font-style: italic; color: rgb(51, 102,
                102);">evalExpr</span><span style="color: rgb(51, 102,
                102);">(</span><span style="font-style: italic; color:
                rgb(51, 102, 102);">rightChild</span><span style="color:
                rgb(51, 102, 102);"> (</span><span style="font-style:
                italic; color: rgb(51, 102, 102);">v</span><span
                style="color: rgb(51, 102, 102);">))</span><br>
              &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ◊ ←
              <span style="color: rgb(51, 102, 102);">operator stored at
              </span><span style="font-style: italic; color: rgb(51,
                102, 102);">v</span><br>
              &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
              return <span style="font-style: italic; color: rgb(51,
                102, 102);">x</span> ◊ <span style="font-style: italic;
                color: rgb(51, 102, 102);">y</span></big></td>
        </tr>
      </tbody>
    </table>
    <big><span style="font-weight: bold;"><br>
      </span></big>
    <hr width="100%" size="2"><big><span style="font-weight: bold;">Inorder














        обхождане на двоично дърво</span> <br>
      (ляво поддърво, корен, дясно поддърво - лкд)<br>
      <br>
    </big>
    <table style="text-align: left; width: 100%;" cellspacing="2"
      cellpadding="2" border="0">
      <tbody>
        <tr>
          <td style="vertical-align: top;"><img style="width: 335px;
              height: 227px;" alt="" src="pic9.jpg"></td>
          <td style="vertical-align: top;">
            <ul>
              <li><big>При Inorder обхождане възелът се посещава след
                  лявото му поддърво и преди дясното му поддърво.</big></li>
              <li><big>Приложение: чертаене на двоично дърво</big></li>
              <ul>
                <li><big><i>x</i>(<i>v</i>) = inorder ранг на <i>v</i></big></li>
                <li><big><i>y</i>(<i>v</i>) = дълбочина на <i>v</i></big></li>
              </ul>
              <li><big>Посещения отляво-надясно.</big></li>
              <li><big>(1, 3), (2, 2), (3, 3), (4, 2), (5, 3), (6, 0),
                  (7, 2), (8, 1), (9, 2)<br>
                </big></li>
            </ul>
          </td>
        </tr>
      </tbody>
    </table>
    <br>
    <table style="text-align: left; width: 505px; height: 138px;"
      cellspacing="0" cellpadding="2" border="1">
      <tbody>
        <tr>
          <td style="vertical-align: top;"><big>Algorithm <span
                style="color: rgb(255, 0, 0);"><span style="font-style:
                  italic;">inOrder</span>(<span style="font-style:
                  italic;">v</span>)</span><br>
              &nbsp;&nbsp; if <span style="font-style: italic; color:
                rgb(51, 102, 102);">isInternal </span><span
                style="color: rgb(51, 102, 102);">(</span><span
                style="font-style: italic; color: rgb(51, 102, 102);">v</span><span
                style="color: rgb(51, 102, 102);">) </span><br>
              &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:
                rgb(51, 102, 102);"> </span><span style="font-style:
                italic; color: rgb(51, 102, 102);">inOrder</span><span
                style="color: rgb(51, 102, 102);">(</span><span
                style="font-style: italic; color: rgb(51, 102, 102);">leftChild</span><span
                style="color: rgb(51, 102, 102);"> (</span><span
                style="font-style: italic; color: rgb(51, 102, 102);">v</span><span
                style="color: rgb(51, 102, 102);">))</span><br>
              &nbsp;&nbsp; <span style="font-style: italic; color:
                rgb(51, 102, 102);">visit</span><span style="color:
                rgb(51, 102, 102);">(</span><span style="font-style:
                italic; color: rgb(51, 102, 102);">v</span><span
                style="color: rgb(51, 102, 102);">)</span><br>
              &nbsp;&nbsp; if <span style="font-style: italic; color:
                rgb(51, 102, 102);">isInternal </span><span
                style="color: rgb(51, 102, 102);">(</span><span
                style="font-style: italic; color: rgb(51, 102, 102);">v</span><span
                style="color: rgb(51, 102, 102);">)</span><br>
              &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="font-style:
                italic; color: rgb(51, 102, 102);">inOrder</span><span
                style="color: rgb(51, 102, 102);">(</span><span
                style="font-style: italic; color: rgb(51, 102, 102);">rightChild</span><span
                style="color: rgb(51, 102, 102);"> (</span><span
                style="font-style: italic; color: rgb(51, 102, 102);">v</span><span
                style="color: rgb(51, 102, 102);">))</span></big></td>
        </tr>
      </tbody>
    </table>
    <blockquote>
      <pre><big><font color="#a000a0">void</font> <font color="#000000">binaryInorderPrint</font>(<font color="#a000a0">const</font> Tree&amp; T, <font color="#a000a0">const</font> Position&amp; v) <br>{ <font color="#00a000">if</font> (isInternal(v)) <font color="#0000ff">       // visit left child</font><br>   <font color="#000000">  binaryInorderPrint</font>(T, T.leftChild(v));<br>  cout &lt;&lt; v.<font color="#000000">element</font>(); <font color="#0000ff">     // print element<br></font><font color="#00a000">  if</font> (isInternal(v)) <font color="#0000ff">       // visit right child</font><br><font color="#000000">     binaryInorderPrint</font>(T, T.rightChild(v));}</big></pre>
    </blockquote>
    <big> <span style="font-weight: bold;"></span></big>
    <hr width="100%" size="2"><big><span style="font-weight: bold;">Двоични














        дървета за търсене (търсещи двоични дървета)<br>
        <br>
      </span>Двоично дърво за търсене е двоично дърво, за което всеки
      вътрешен възел <span style="font-style: italic;">v</span> съдържа
      елемент <span style="font-style: italic;">e</span>, такъв, че:<br>
    </big>
    <ul>
      <big> </big>
      <li><big>елементите от <i>лявото</i> поддърво на <span
            style="font-style: italic;">v</span> са <i>по-малки</i> от
          или равни на&nbsp;<span style="font-style: italic;">e</span> и
        </big></li>
      <big> </big>
      <li><big>елементите от <i>дясното</i> поддърво на <span
            style="font-style: italic;">v</span> са <i>по-големи</i> от
          или равни на&nbsp;<span style="font-style: italic;">e</span>.</big></li>
    </ul>
    <p><font size="+1">Пример: Двоичното дърво е: 6(2(1, 4), 9(8,-))</font><br>
    </p>
    <ul>
    </ul>
    <table width="100%" cellspacing="2" cellpadding="2" border="1">
      <tbody>
        <tr>
          <td valign="top"><img style="width: 373px; height: 176px;"
              alt="" src="../ch09/pic1.jpg" width="373" height="176"></td>
          <td valign="top">Търсим 4:<br>
            4 &lt; 6 - ляво<br>
            4 &gt; 2 - дясно<br>
            4 = 4 - намерено!<br>
            Търсим 7:<br>
            7 &gt; 6 - дясно<br>
            7 &lt; 9 - ляво<br>
            7 &lt; 8 - ляво<br>
            листо - няма!<br>
          </td>
        </tr>
      </tbody>
    </table>
    <ul>
      <big> </big>
    </ul>
    <blockquote> <big> </big>
      <pre><big><span style="font-family: mon;"></span><font color="#000000">Position searchBinaryTree</font>(<font color="#a000a0">const</font> Tree&amp; T, <font color="#a000a0">const</font> Position&amp; v, <font color="#a000a0">const<span style="color: rgb(0, 0, 0);"> Object&amp; e</span></font>)<br>{ <font color="#00a000">if</font> (isInternal(v))<br>    <font color="#00a000">if</font> (v.element() == e) <font color="#00a000">return</font> v; <font color="#0000ff">                // found!<br>    </font><font color="#00a000">else if</font> (v.element() &lt; e)<font color="#000000"><br>         searchBinaryTree(T, T.leftChild(v), e); </font><font color="#00a000"><font color="#0000ff">   // search left subtree</font></font><font color="#00a000"><font color="#000000"><br></font>    else </font><font color="#000000">searchBinaryTree(T, T.rightChild(v), e);</font><font color="#0000ff">   // search right subtree</font><br><font color="#000000">  </font><font color="#00a000">else return ...                                   <span style="color: rgb(51, 51, 255);">// not found!</span></font><br>}</big></pre>
    </blockquote>
    <big>Времето <i>t</i> за търсене в двоичното дърво <span
        style="font-style: italic;">T</span> е пропорционално на
      височината на <span style="font-style: italic;">T</span>, т.е. <span
        style="font-style: italic;">t &gt;= O</span>(log <span
        style="font-style: italic;">n</span>) и&nbsp; <i>t</i> &lt;= <span
        style="font-family: symbol;">Omega</span>(<span
        style="font-style: italic;">n</span>).<span style="font-weight:
        bold;"><br style="font-weight: bold;">
      </span><span style="font-weight: bold;"></span></big>
    <hr width="100%" size="2"><big><span style="font-weight: bold;">Унифицирано














        обхождане</span><span style="font-weight: bold;"> - ойлерово
        обхождане на двоично дърво </span><br>
      <br>
    </big>
    <table style="text-align: left; width: 100%;" cellspacing="2"
      cellpadding="2" border="0">
      <tbody>
        <tr>
          <td style="vertical-align: top;"> <img style="width: 495px;
              height: 257px;" alt="" src="pic10.jpg"><br>
          </td>
          <td style="vertical-align: top;" valign="middle">
            <ul>
              <li><big>Обобщено обхождане на двоично дърво.<br>
                </big></li>
              <li><big>Съдържа като специални случи preorder, postorder
                  и inorder обхождания.</big></li>
              <li><big>Разходка около дървото с посещение на всеки възел
                  три пъти::</big></li>
              <ul>
                <li><big>L - отляво (preorder)</big></li>
                <li><big>B - отдолу (inorder)</big></li>
                <li><big>R - отдясно (postorder)<br>
                  </big></li>
              </ul>
            </ul>
          </td>
        </tr>
      </tbody>
    </table>
    <font size="+1"><tt>+ x 2 2 2 x - 5 5 5 - 1 1 1 - x + x 3 3 3 x 2 2
        2 x +</tt><tt><br>
      </tt><tt>L L L B R B L L B R R L B R R R B L L B R B L B R R R<br>
        <br>
      </tt></font><font size="+1">Съкратен запис:</font><font size="+1"><tt><br>
      </tt></font><font size="+1"><tt>+ x 2 x - 5 - 1 - x + x 3 x 2 x +</tt></font>
    <hr style="width: 100%; height: 2px;">
    <h3>Структури от данни за представяне на дървета<br>
    </h3>
    <h4>Вектор-базирана структура за двоични дървета</h4>
    <p><font size="+1">Позициите са представени като рангове (индекси)
        на вектор (масив).</font><br>
    </p>
    <table width="100%" cellspacing="2" cellpadding="2" border="0">
      <tbody>
        <tr>
          <td valign="top"><img alt="" src="pic3.jpg" style="width:
              333px; height: 299px;" width="333" height="299"></td>
          <td valign="top"><big><tt>4 </tt>успоредни вектори, например:<tt>
                <br>
                - obj </tt>съдържа обектите на контейнера;<tt><br>
                - pred </tt>съдържа ранга на родителя;<tt><br>
                - left </tt>съдържа ранга на лявото дете;<tt><br>
                - right </tt>съдържа ранга на дясното дете.<tt><br>
                <br>
                rank:&nbsp;&nbsp; 0 1 2 3 4 5 6 7 8 9 </tt><tt><br>
              </tt><tt> </tt><tt>obj:&nbsp;&nbsp;&nbsp; - A B C D E F G
                H I </tt><tt><br>
              </tt><tt> </tt><tt>pred:&nbsp;&nbsp; - - 1 1 2 2 3 3 5 5</tt><tt><br>
              </tt><tt> left:&nbsp;&nbsp; - 2 4 6 - 8 - - - -</tt><tt><br>
              </tt><tt> right:&nbsp; - 3 5 7 - 9 - - - -<br>
                <br>
              </tt>Или един вектор от обекти:<tt><br>
                (A,-,2,3), (B,1,4,5), (C,1,6,7),(D,2,-,-), (E,2,8,9),
                (F,3,-,-), (G,3,-,-), (H,5,-,-), (I,5,-,-)<br>
              </tt></big></td>
        </tr>
      </tbody>
    </table>
    <h4>Свързана структура за двоични дървета</h4>
    <ul>
      <li><big>Възел е представен като обект, който съдържа:</big></li>
      <ul>
        <li><big>елемент;</big></li>
        <li><big>връзка към родител;</big></li>
        <li><big>връзка към ляв наследник;</big></li>
        <li><big>връзка към десен наследник.</big></li>
      </ul>
      <li><big>Обектите-възли са представени като позиции АТД.</big></li>
    </ul>
    <table style="text-align: left; width: 100%;" cellspacing="2"
      cellpadding="2" border="0">
      <tbody>
        <tr>
          <td style="text-align: center; vertical-align: middle;"> <img
              style="width: 296px; height: 212px;" alt=""
              src="pic13.jpg"><br>
          </td>
          <td style="vertical-align: top;"> <img style="width: 441px;
              height: 405px;" alt="" src="pic14.jpg"><br>
          </td>
        </tr>
      </tbody>
    </table>
    <big><span style="font-weight: bold;">Възли и позиции на двоично
        дърво<br>
        <br>
      </span> <a href="6.27_LinkedBinaryTree.h-Node.html">html-6.27</a>
      (Node)<br>
      <a href="6.28_LinkedBinaryTree.h-Position.html">html-6.28</a>
      (Position)<br>
      <span style="font-weight: bold;"></span></big>
    <hr width="100%" size="2"><big><span style="font-weight: bold;"><br>
        Функции за обновяване на двоично дърво</span></big> <br>
    <br>
    Добавяме още две функции към интерфейса на двоично дърво АТД:<br>
    <ul>
      <li> <font size="+1"><tt>void <font color="#ff0000">expandExternal</font>(const























            Position&amp; v)</tt></font></li>
      <li> <font size="+1"><tt>Position <font color="#ff0000">removeAboveExternal</font>(const
























            Position&amp; v)&nbsp;&nbsp;&nbsp; </tt></font></li>
    </ul>
    <b>С++ реализация на двиочно дърво АТД като </b><b>свързана
      структура</b><br>
    <br>
    <a href="6.29_LinkedBinaryTree.h-LinkedBinaryTree1.html">html-6.29</a>
    (LinkedBinaryTree1)<br>
    <a href="6.30_LinkedBinaryTree.h-LinkedBinaryTree2.html">html-6.30</a>
    (LinkedBinaryTree2)<br>
    <br>
    <a style="font-family: monospace;" href="LinkedBinaryTree.cpp">LinkedBinaryTree.cpp</a><br>
    <span style="font-weight: bold;"></span>
    <hr width="100%" size="2"><span style="font-weight: bold;"><br>
      Свързана структура за дървета&nbsp;</span>
    <ul>
      <li><big>Възел е представен като обект, който съдържа:<br>
        </big></li>
      <ul>
        <li><big>елемент;</big></li>
        <li><big>връзка към родител;</big></li>
        <li><big>редица от връзки към наследници.</big></li>
      </ul>
      <li><big>Възлите са представени като позиции АТД.</big></li>
    </ul>
    <big> </big>
    <table style="text-align: left; width: 100%;" cellspacing="2"
      cellpadding="2" border="0">
      <tbody>
        <tr>
          <td style="text-align: center; vertical-align: middle;"> <img
              style="width: 297px; height: 226px;" alt=""
              src="pic11.jpg"><br>
          </td>
          <td style="vertical-align: top;"> <img style="width: 440px;
              height: 428px;" alt="" src="pic12.jpg"><br>
          </td>
        </tr>
      </tbody>
    </table>
    <h4><big><span style="font-weight: bold;"></span></big></h4>
    <hr width="100%" size="2">
    <h4><big><span style="font-weight: bold;">Представяне на дърво с
          двоично дърво<br>
        </span></big></h4>
    <big>Представянето на общо (наредено) дърво <span
        style="font-style: italic;">T</span>&nbsp; се получава с
      трансформация на <span style="font-style: italic;">T</span>&nbsp;
      в двоично дърво <span style="font-style: italic;">T '</span>. <br>
      Трансформацията е следната:<br>
    </big>
    <ul>
      <li><big>На всеки възел <span style="font-style: italic;">u</span>
          от <span style="font-style: italic;">T</span> съответства
          вътрешен възел <span style="font-style: italic;">u'</span> от
          <span style="font-style: italic;">T '</span>.</big></li>
      <big> </big>
      <li><big>Ако <span style="font-style: italic;">u</span> е външен
          възел на <span style="font-style: italic;">T</span> и няма
          брат/сестра непосредствено след него/нея (в наредбата на
          децата), то децата на <span style="font-style: italic;">u'</span>
          са външни възли на <i>T '</i>.</big></li>
      <big> </big>
      <li><big>Ако <span style="font-style: italic;">u</span> е
          вътрешен възел на <span style="font-style: italic;">T</span>
          и <span style="font-style: italic;">v</span> е първо дете на
          <span style="font-style: italic;">u</span> в <span
            style="font-style: italic;">T</span>, то <span
            style="font-style: italic;">v'</span> e ляво дете на <span
            style="font-style: italic;">u'</span> в <span
            style="font-style: italic;">T '</span>.</big></li>
      <big> </big>
      <li><big>Ако възел <span style="font-style: italic;">v</span> има
          брат/сестра <span style="font-style: italic;">w</span>
          непосредствено след него/нея, тогава <span style="font-style:
            italic;">w'</span> е дясно дете на <span style="font-style:
            italic;">v'</span> в <span style="font-style: italic;">T '</span>.&nbsp;</big></li>
    </ul>
    <big><i>Пример:</i></big><br>
    <img alt="" src="Nary_to_binary_tree_conversion.png" width="531"
      height="331"><br>
    <font size="+1"><i>Пример:</i></font><br>
    <br style="font-weight: bold;">
    <br>
    <big style="font-weight: bold;"><img alt=""
        src="../../../../2022/CITB308/slides/ch06/pic15.jpg" width="348"
        height="263"><br>
      <br>
      <br>
    </big><br>
    <big style="font-weight: bold;"><img alt=""
        src="../../../../2022/CITB308/slides/ch06/pic16.jpg" width="454"
        height="330"><br>
      <br>
      Допълнителни връзки:</big><br>
    <big> <a
        href="http://www.cs.purdue.edu/homes/ayg/CS251/slides/chap5.pdf">http://www.cs.purdue.edu/homes/ayg/CS251/slides/chap5.pdf</a><br>
    </big>
    <hr style="width: 100%; height: 2px;">
  </body>
</html>
