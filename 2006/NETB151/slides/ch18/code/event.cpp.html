<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html><body>
<pre>
<tt>
01: <b><font color="#000080">#include</font></b> <font color="#FF0000">&lt;wx/wx.h&gt;</font>
02: 
03: <b><font color="#0000FF">const</font></b> <font color="#009900">int</font> ID_SAY_HELLO <font color="#990000">=</font> <font color="#993399">1000</font><font color="#990000">;</font>
04: <b><font color="#0000FF">const</font></b> <font color="#009900">int</font> ID_SAY_GOODBYE <font color="#990000">=</font> <font color="#993399">1001</font><font color="#990000">;</font>
05: 
06: <i><font color="#9A1900">/**</font></i>
07: <i><font color="#9A1900">   A frame with a simple menu that adds greetings to a </font></i>
08: <i><font color="#9A1900">   text control.</font></i>
09: <i><font color="#9A1900">*/</font></i>
10: <b><font color="#0000FF">class</font></b> EventFrame <font color="#990000">:</font> <b><font color="#0000FF">public</font></b> wxFrame
11: <font color="#FF0000">{</font>
12: <b><font color="#0000FF">public</font></b><font color="#990000">:</font>
13:    <i><font color="#9A1900">/**</font></i>
14: <i><font color="#9A1900">      Constructs the menu and text control.</font></i>
15: <i><font color="#9A1900">   */</font></i>
16:    <b><font color="#000000">EventFrame</font></b><font color="#990000">(</font><font color="#990000">)</font><font color="#990000">;</font>
17:    <i><font color="#9A1900">/**</font></i>
18: <i><font color="#9A1900">      Adds a "Hello, World!" message to the text control.</font></i>
19: <i><font color="#9A1900">      @param event the event descriptor</font></i>
20: <i><font color="#9A1900">   */</font></i>
21:    <font color="#009900">void</font> <b><font color="#000000">OnSayHello</font></b><font color="#990000">(</font>wxCommandEvent<font color="#990000">&amp;</font> event<font color="#990000">)</font><font color="#990000">;</font>
22:    <i><font color="#9A1900">/**</font></i>
23: <i><font color="#9A1900">      Adds a "Goodbye, World!" message to the text control.</font></i>
24: <i><font color="#9A1900">      @param event the event descriptor</font></i>
25: <i><font color="#9A1900">   */</font></i>
26:    <font color="#009900">void</font> <b><font color="#000000">OnSayGoodbye</font></b><font color="#990000">(</font>wxCommandEvent<font color="#990000">&amp;</font> event<font color="#990000">)</font><font color="#990000">;</font>
27: <b><font color="#0000FF">private</font></b><font color="#990000">:</font>
28:    wxTextCtrl<font color="#990000">*</font> text<font color="#990000">;</font>
29:    <b><font color="#000000">DECLARE_EVENT_TABLE</font></b><font color="#990000">(</font><font color="#990000">)</font>
30: <font color="#FF0000">}</font><font color="#990000">;</font>
31: 
32: <i><font color="#9A1900">/**</font></i>
33: <i><font color="#9A1900">   An application to demonstrate the handling of menu events.</font></i>
34: <i><font color="#9A1900">*/</font></i>
35: <b><font color="#0000FF">class</font></b> EventApp <font color="#990000">:</font> <b><font color="#0000FF">public</font></b> wxApp
36: <font color="#FF0000">{</font>
37: <b><font color="#0000FF">public</font></b><font color="#990000">:</font>
38:    <i><font color="#9A1900">/**</font></i>
39: <i><font color="#9A1900">      Constructs the frame.</font></i>
40: <i><font color="#9A1900">   */</font></i>
41:    <b><font color="#000000">EventApp</font></b><font color="#990000">(</font><font color="#990000">)</font><font color="#990000">;</font>
42:    <i><font color="#9A1900">/**</font></i>
43: <i><font color="#9A1900">      Shows the frame.</font></i>
44: <i><font color="#9A1900">      @return true</font></i>
45: <i><font color="#9A1900">   */</font></i>
46:    <b><font color="#0000FF">virtual</font></b> <font color="#009900">bool</font> <b><font color="#000000">OnInit</font></b><font color="#990000">(</font><font color="#990000">)</font><font color="#990000">;</font>
47: <b><font color="#0000FF">private</font></b><font color="#990000">:</font>
48:    EventFrame<font color="#990000">*</font> frame<font color="#990000">;</font>
49: <font color="#FF0000">}</font><font color="#990000">;</font>
50: 
51: <b><font color="#000000">DECLARE_APP</font></b><font color="#990000">(</font>EventApp<font color="#990000">)</font>
52: 
53: <b><font color="#000000">IMPLEMENT_APP</font></b><font color="#990000">(</font>EventApp<font color="#990000">)</font>
54: 
55: <b><font color="#000000">BEGIN_EVENT_TABLE</font></b><font color="#990000">(</font>EventFrame<font color="#990000">,</font> wxFrame<font color="#990000">)</font>
56:    <b><font color="#000000">EVT_MENU</font></b><font color="#990000">(</font>ID_SAY_HELLO<font color="#990000">,</font> EventFrame<font color="#990000">:</font><font color="#990000">:</font>OnSayHello<font color="#990000">)</font>
57:    <b><font color="#000000">EVT_MENU</font></b><font color="#990000">(</font>ID_SAY_GOODBYE<font color="#990000">,</font> EventFrame<font color="#990000">:</font><font color="#990000">:</font>OnSayGoodbye<font color="#990000">)</font> 
58: <b><font color="#000000">END_EVENT_TABLE</font></b><font color="#990000">(</font><font color="#990000">)</font>
59: 
60: EventFrame<font color="#990000">:</font><font color="#990000">:</font><b><font color="#000000">EventFrame</font></b><font color="#990000">(</font><font color="#990000">)</font> 
61:    <font color="#990000">:</font> <b><font color="#000000">wxFrame</font></b><font color="#990000">(</font>NULL<font color="#990000">,</font> <font color="#990000">-</font><font color="#993399">1</font><font color="#990000">,</font> <font color="#FF0000">"EventFrame"</font><font color="#990000">)</font>
62: <font color="#FF0000">{</font>
63:    text <font color="#990000">=</font> <b><font color="#0000FF">new</font></b> <b><font color="#000000">wxTextCtrl</font></b><font color="#990000">(</font><b><font color="#0000FF">this</font></b><font color="#990000">,</font> <font color="#990000">-</font><font color="#993399">1</font><font color="#990000">,</font> <font color="#FF0000">""</font><font color="#990000">,</font>
64:       wxDefaultPosition<font color="#990000">,</font> wxDefaultSize<font color="#990000">,</font> wxTE_MULTILINE<font color="#990000">)</font><font color="#990000">;</font>
65: 
66:    <i><font color="#9A1900">// initialize menu</font></i>
67:    wxMenu<font color="#990000">*</font> menu <font color="#990000">=</font> <b><font color="#0000FF">new</font></b> <b><font color="#000000">wxMenu</font></b><font color="#990000">(</font><font color="#990000">)</font><font color="#990000">;</font>
68:    menu<font color="#990000">-</font><font color="#990000">&gt;</font><b><font color="#000000">Append</font></b><font color="#990000">(</font>ID_SAY_HELLO<font color="#990000">,</font> <font color="#FF0000">"Hello"</font><font color="#990000">)</font><font color="#990000">;</font>
69:    menu<font color="#990000">-</font><font color="#990000">&gt;</font><b><font color="#000000">Append</font></b><font color="#990000">(</font>ID_SAY_GOODBYE<font color="#990000">,</font> <font color="#FF0000">"Goodbye"</font><font color="#990000">)</font><font color="#990000">;</font>
70: 
71:    <i><font color="#9A1900">// add menu to menu bar</font></i>
72:    wxMenuBar<font color="#990000">*</font> menuBar <font color="#990000">=</font> <b><font color="#0000FF">new</font></b> <b><font color="#000000">wxMenuBar</font></b><font color="#990000">(</font><font color="#990000">)</font><font color="#990000">;</font>
73:    <b><font color="#000000">SetMenuBar</font></b><font color="#990000">(</font>menuBar<font color="#990000">)</font><font color="#990000">;</font>
74:    menuBar<font color="#990000">-</font><font color="#990000">&gt;</font><b><font color="#000000">Append</font></b><font color="#990000">(</font>menu<font color="#990000">,</font> <font color="#FF0000">"Say"</font><font color="#990000">)</font><font color="#990000">;</font>   
75: <font color="#FF0000">}</font>
76: 
77: <font color="#009900">void</font> EventFrame<font color="#990000">:</font><font color="#990000">:</font><b><font color="#000000">OnSayHello</font></b><font color="#990000">(</font>wxCommandEvent<font color="#990000">&amp;</font> event<font color="#990000">)</font>
78: <font color="#FF0000">{</font>
79:    text<font color="#990000">-</font><font color="#990000">&gt;</font><b><font color="#000000">AppendText</font></b><font color="#990000">(</font><font color="#FF0000">"Hello, World!\n"</font><font color="#990000">)</font><font color="#990000">;</font>
80: <font color="#FF0000">}</font>
81: 
82: <font color="#009900">void</font> EventFrame<font color="#990000">:</font><font color="#990000">:</font><b><font color="#000000">OnSayGoodbye</font></b><font color="#990000">(</font>wxCommandEvent<font color="#990000">&amp;</font> event<font color="#990000">)</font>
83: <font color="#FF0000">{</font>
84:    text<font color="#990000">-</font><font color="#990000">&gt;</font><b><font color="#000000">AppendText</font></b><font color="#990000">(</font><font color="#FF0000">"Goodbye, World!\n"</font><font color="#990000">)</font><font color="#990000">;</font>
85: <font color="#FF0000">}</font>
86: 
87: EventApp<font color="#990000">:</font><font color="#990000">:</font><b><font color="#000000">EventApp</font></b><font color="#990000">(</font><font color="#990000">)</font>
88: <font color="#FF0000">{</font>
89:    frame <font color="#990000">=</font> <b><font color="#0000FF">new</font></b> <b><font color="#000000">EventFrame</font></b><font color="#990000">(</font><font color="#990000">)</font><font color="#990000">;</font>
90: <font color="#FF0000">}</font>
91: 
92: <font color="#009900">bool</font> EventApp<font color="#990000">:</font><font color="#990000">:</font><b><font color="#000000">OnInit</font></b><font color="#990000">(</font><font color="#990000">)</font>
93: <font color="#FF0000">{</font>
94:    frame<font color="#990000">-</font><font color="#990000">&gt;</font><b><font color="#000000">Show</font></b><font color="#990000">(</font><b><font color="#0000FF">true</font></b><font color="#990000">)</font><font color="#990000">;</font>
95:    <b><font color="#0000FF">return</font></b> <b><font color="#0000FF">true</font></b><font color="#990000">;</font>
96: <font color="#FF0000">}</font>
97: 
98: 
</tt>
</pre>
</body></html>
