<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<!-- saved from url=(0070)http://www.horstmann.com/sjsu/CMPE46/slides/ch11/code/clocks1.cpp.html -->
  <meta content="text/html; charset=windows-1252"
 http-equiv="Content-Type">
  <meta content="MSHTML 5.00.3103.1000" name="GENERATOR">
</head>
<body>
<pre><tt>001: <b><font color="#000080">#include</font></b> <font
 color="#ff0000">&lt;iostream&gt;</font>
002: <b><font color="#000080">#include</font></b> <font
 color="#ff0000">&lt;iomanip&gt;</font>
003: <b><font color="#000080">#include</font></b> <font
 color="#ff0000">&lt;string&gt;</font>
005: <b><font color="#0000ff">using</font></b> <b><font
 color="#0000ff">namespace</font></b> std<font color="#990000">;</font>
006: 
007: <b><font
 color="#000080">#include</font></b> <font color="#ff0000">"ccc_time.h"</font>
008: 
009: <b><font
 color="#0000ff">class</font></b> Clock <font color="#ff0000">{</font>
011: <b><font
 color="#0000ff">public</font></b><font color="#990000">:</font>
012:<i><font
 color="#9a1900">/**</font></i>
013:<i><font color="#9a1900"> Constructs a clock that can tell the local time.</font></i>
014:<i><font
 color="#9a1900"> @param use_military true if the clock uses military format (21:05) and <br>                         flase if the clock uses "am/pm" format (9:05 pm)</font></i>
015:<i><font
 color="#9a1900">*/</font></i>
016:    <b><font color="#000000">Clock</font></b><font
 color="#990000">(</font><font color="#009900">bool</font> use_military<font
 color="#990000">)</font><font color="#990000">;</font>
018:<i><font
 color="#9a1900">/**</font></i>
019:<i><font color="#9a1900"> Gets the location of this clock.</font></i>
020:<i><font
 color="#9a1900"> @return the location</font></i>
021:<i><font
 color="#9a1900">*/</font></i>
022:    string <b><font color="#000000">get_location</font></b><font
 color="#990000">(</font><font color="#990000">)</font> <b><font
 color="#0000ff">const</font></b><font color="#990000">;</font>
024:<i><font
 color="#9a1900">/**</font></i>
025:<i><font color="#9a1900"> Gets the hours of this clock.</font></i>
026:<i><font
 color="#9a1900"> @return the hours, in military or am/pm format</font></i>
027:<i><font
 color="#9a1900">*/</font></i>
028:    <font color="#009900">int</font> <b><font
 color="#000000">get_hours</font></b><font color="#990000">(</font><font
 color="#990000">)</font> <b><font color="#0000ff">const</font></b><font
 color="#990000">;</font>
030:<i><font color="#9a1900">/**</font></i>
031:<i><font
 color="#9a1900"> Gets the minutes of this clock.</font></i>
032:<i><font
 color="#9a1900"> @return the minutes</font></i>
033:<i><font
 color="#9a1900">*/</font></i>
034:    <font color="#009900">int</font> <b><font
 color="#000000">get_minutes</font></b><font color="#990000">(</font><font
 color="#990000">)</font> <b><font color="#0000ff">const</font></b><font
 color="#990000">;</font>
036:<i><font color="#9a1900">/**</font></i>
037:<i><font
 color="#9a1900"> Checks whether this clock uses miltary format.</font></i>
038:<i><font
 color="#9a1900"> @return true if miltary format</font></i>
039:<i><font
 color="#9a1900">*/</font></i>
040:    <font color="#009900">bool</font> <b><font
 color="#000000">is_military</font></b><font color="#990000">(</font><font
 color="#990000">)</font> <b><font color="#0000ff">const</font></b><font
 color="#990000">;</font>
041: <b><font color="#0000ff">private</font></b><font
 color="#990000">:</font>
042:    <font color="#009900">bool</font> military<font
 color="#990000">;</font>
043: <font color="#ff0000">}</font><font
 color="#990000">;</font>
044: 
045: Clock<font color="#990000">:</font><font
 color="#990000">:</font><b><font color="#000000">Clock</font></b><font
 color="#990000">(</font><font color="#009900">bool</font> use_military<font
 color="#990000">)</font>
046: <font color="#ff0000">{</font> military <font
 color="#990000">=</font> use_military<font color="#990000">;</font>  <font
 color="#ff0000">}</font>
049: 
050: string Clock<font color="#990000">:</font><font
 color="#990000">:</font><b><font color="#000000">get_location</font></b><font
 color="#990000">(</font><font color="#990000">)</font> <b><font
 color="#0000ff">const</font></b>
051: <font color="#ff0000">{</font> <b><font
 color="#0000ff">return</font></b> <font color="#ff0000">"Local"</font><font
 color="#990000">;  </font><font color="#ff0000">}</font>
054: 
055: <font
 color="#009900">int</font> Clock<font color="#990000">:</font><font
 color="#990000">:</font><b><font color="#000000">get_hours</font></b><font
 color="#990000">(</font><font color="#990000">)</font> <b><font
 color="#0000ff">const</font></b>
056: <font color="#ff0000">{</font> Time now<font
 color="#990000">;</font>
058:   <font color="#009900">int</font> hours <font
 color="#990000">=</font> now<font color="#990000">.</font><b><font
 color="#000000">get_hours</font></b><font color="#990000">(</font><font
 color="#990000">)</font><font color="#990000">;</font>
059:   <b><font
 color="#0000ff">if</font></b> <font color="#990000">(</font>military<font
 color="#990000">)</font> <b><font color="#0000ff">return</font></b> hours<font
 color="#990000">;</font>
060:   <b><font color="#0000ff">if</font></b> <font
 color="#990000">(</font>hours <font color="#990000">=</font><font
 color="#990000">=</font> <font color="#993399">0</font><font
 color="#990000">)</font> <b><font color="#0000ff">return</font></b> <font
 color="#993399">12</font><font color="#990000">;</font>
062:   <b><font
 color="#0000ff">else</font></b> <b><font color="#0000ff">if</font></b> <font
 color="#990000">(</font>hours <font color="#990000">&gt;</font> <font
 color="#993399">12</font><font color="#990000">)</font> <b><font
 color="#0000ff">return</font></b> hours <font color="#990000">-</font> <font
 color="#993399">12</font><font color="#990000">;</font>
064:   <b><font
 color="#0000ff">else</font></b> <b><font color="#0000ff">return</font></b> hours<font
 color="#990000">;</font>
066: <font color="#ff0000">}</font>
067: 
068: <font
 color="#009900">int</font> Clock<font color="#990000">:</font><font
 color="#990000">:</font><b><font color="#000000">get_minutes</font></b><font
 color="#990000">(</font><font color="#990000">)</font> <b><font
 color="#0000ff">const</font></b>
069: <font color="#ff0000">{</font> Time now<font
 color="#990000">;</font>
071:   <b><font color="#0000ff">return</font></b> now<font
 color="#990000">.</font><b><font color="#000000">get_minutes</font></b><font
 color="#990000">(</font><font color="#990000">)</font><font
 color="#990000">;</font>
072: <font color="#ff0000">}</font>
073: 
074: <font
 color="#009900">bool</font> Clock<font color="#990000">:</font><font
 color="#990000">:</font><b><font color="#000000">is_military</font></b><font
 color="#990000">(</font><font color="#990000">)</font> <b><font
 color="#0000ff">const</font></b>
075: <font color="#ff0000">{</font> <b><font
 color="#0000ff">return</font></b> military<font color="#990000">;</font> <font
 color="#ff0000">}</font>
078: 
079: <font color="#009900">int</font> <b><font
 color="#000000">main</font></b><font color="#990000">(</font><font
 color="#990000">)</font>
080: <font color="#ff0000">{</font> Clock <b><font
 color="#000000">clock1</font></b><font color="#990000">(</font><b><font
 color="#0000ff">true</font></b><font color="#990000">)</font><font
 color="#990000">;</font>
082:   Clock <b><font color="#000000">clock2</font></b><font
 color="#990000">(</font><b><font color="#0000ff">false</font></b><font
 color="#990000">)</font><font color="#990000">;</font>
083: 
084:   <font
 color="#009900">bool</font> more <font color="#990000">=</font> <b><font
 color="#0000ff">true</font></b><font color="#990000">;</font>
085:   <b><font
 color="#0000ff">while</font></b> <font color="#990000">(</font>more<font
 color="#990000">)</font>
086:   <font color="#ff0000">{</font> cout <font
 color="#990000">&lt;</font><font color="#990000">&lt;</font> <font
 color="#ff0000">"Military time: "</font>
088:          <font
 color="#990000">&lt;</font><font color="#990000">&lt;</font> clock1<font
 color="#990000">.</font><b><font color="#000000">get_hours</font></b><font
 color="#990000">(</font><font color="#990000">)</font> <font
 color="#990000">&lt;</font><font color="#990000">&lt;</font> <font
 color="#ff0000">":"</font>
089:          <font color="#990000">&lt;</font><font
 color="#990000">&lt;</font> <b><font color="#000000">setw</font></b><font
 color="#990000">(</font><font color="#993399">2</font><font
 color="#990000">)</font> <font color="#990000">&lt;</font><font
 color="#990000">&lt;</font> <b><font color="#000000">setfill</font></b><font
 color="#990000">(</font><font color="#ff0000">'0'</font><font
 color="#990000">)</font> <br>090:          <font color="#990000">&lt;</font><font
 color="#990000">&lt;</font> clock1<font color="#990000">.</font><b><font
 color="#000000">get_minutes</font></b><font color="#990000">(</font><font
 color="#990000">)</font> <br>091:          <font color="#990000">&lt;</font><font
 color="#990000">&lt;</font> <b><font color="#000000">setfill</font></b><font
 color="#990000">(</font><font color="#ff0000">' '</font><font
 color="#990000">)</font> <font color="#990000">&lt;</font><font
 color="#990000">&lt;</font> <font color="#ff0000">"\n"</font><font
 color="#990000">;</font>
092:     cout <font color="#990000">&lt;</font><font
 color="#990000">&lt;</font> <font color="#ff0000">"am/pm time: "</font>
093:          <font
 color="#990000">&lt;</font><font color="#990000">&lt;</font> clock2<font
 color="#990000">.</font><b><font color="#000000">get_hours</font></b><font
 color="#990000">(</font><font color="#990000">)</font> <font
 color="#990000">&lt;</font><font color="#990000">&lt;</font> <font
 color="#ff0000">":"</font>
094:          <font color="#990000">&lt;</font><font
 color="#990000">&lt;</font> <b><font color="#000000">setw</font></b><font
 color="#990000">(</font><font color="#993399">2</font><font
 color="#990000">)</font> <font color="#990000">&lt;</font><font
 color="#990000">&lt;</font> <b><font color="#000000">setfill</font></b><font
 color="#990000">(</font><font color="#ff0000">'0'</font><font
 color="#990000">)</font> <br>095:          <font color="#990000">&lt;</font><font
 color="#990000">&lt;</font> clock2<font color="#990000">.</font><b><font
 color="#000000">get_minutes</font></b><font color="#990000">(</font><font
 color="#990000">)</font> <br>096:          <font color="#990000">&lt;</font><font
 color="#990000">&lt;</font> <b><font color="#000000">setfill</font></b><font
 color="#990000">(</font><font color="#ff0000">' '</font><font
 color="#990000">)</font> <font color="#990000">&lt;</font><font
 color="#990000">&lt;</font> <font color="#ff0000">"\n"</font><font
 color="#990000">;</font>
097: 
098:     cout <font color="#990000">&lt;</font><font
 color="#990000">&lt;</font> <font color="#ff0000">"Try again? (y/n) "</font><font
 color="#990000">;</font>
099:     string input<font color="#990000">;</font>
100:     <b><font
 color="#000000">getline</font></b><font color="#990000">(</font>cin<font
 color="#990000">,</font> input<font color="#990000">)</font><font
 color="#990000">;</font>
101:     <b><font color="#0000ff">if</font></b> <font
 color="#990000">(</font>input <font color="#990000">!</font><font
 color="#990000">=</font> <font color="#ff0000">"y"</font><font
 color="#990000">)</font> more <font color="#990000">=</font> <b><font
 color="#0000ff">false</font></b><font color="#990000">;</font>
102:   <font
 color="#ff0000">}</font>
103:   <b><font color="#0000ff">return</font></b> <font
 color="#993399">0</font><font color="#990000">;</font>
104: <font
 color="#ff0000">}</font>

</tt>
</pre>
</body>
</html>
