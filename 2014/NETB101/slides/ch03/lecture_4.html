<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <title>lecture_4</title>
  </head>
  <body>
    <h2>Обекти<br>
    </h2>
    <p>&nbsp;** Конструиране на обекти. <br>
      Обектът е стойност, която може да се създава, запазва и обработва
      със средствата на езика за програмиране. <br>
      Обект = променлива или константа, като понятието обект се използва
      за "по-големи" променливи или константи. <br>
      Пример:<br>
      <b><tt><font color="#006600">&nbsp;int k =
            1;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
/*











          </font><font color="#009900">k е обект, по-добре променлива</font><font
            color="#006600"> */</font></tt></b> <br>
      <b><tt><font color="#006600">&nbsp;string greeting = "Hello"; /* </font><font
            color="#009900">greeting и "Hello" са обекти </font><font
            color="#006600">*/</font></tt></b> <br>
      Тип данни клас. <br>
      Класовете се дефинират от програмиста. <br>
      Класът <b><tt>Time </tt></b>е дефиниран от К. Хорстман. <br>
      Обект от този клас съхранява момент от времето - час, минути,
      секунди - три цели числа.. <br>
      Конструиране на обект.<b><tt> Time(23,59,59)</tt></b> означава 23
      часа, 59 минути и 59 секунди. <br>
      Това е обект-константа, аналогичен на числовите константи
      (числата) и низовете.<br>
      Пример:<br>
      <tt>&nbsp;&nbsp; 6</tt> е константа от тип <tt>int</tt>;<br>
      <tt>&nbsp;&nbsp; 2.3</tt>,&nbsp; е константа от тип <tt>double</tt>;<br>
      <tt>&nbsp;&nbsp; "Hello"</tt> е константа от тип <tt>string</tt>;<br>
      <tt>&nbsp; Time(23,59,59)</tt> е константа (константен обект) от
      тип <tt>Time</tt>.<br>
      Включване на файл с дефиниция на класа: <br>
      <b><tt>&nbsp;&nbsp;&nbsp; <font color="#006600">#include
            "ccc_time.h"</font></tt></b> <br>
      Дефиниране на променлива (обект) от тип <b><tt>Time</tt></b>: <br>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <b><tt><font
            color="#006600">Time day_end = Time(23,59,59);</font></tt></b>
      <br>
      или по-кратко (съкратен запис): <br>
      <b><tt>&nbsp;&nbsp;&nbsp; <font color="#006600">Time
            day_end(23,59,59);</font></tt></b> <br>
      Името на променливата е <b><tt>day_end,</tt></b> типът на
      променливата е <b><tt>Time </tt></b>и началната стойност на
      променливата е <b><tt>Time(23,59,59).</tt></b> <br>
      Конструктор и параметри на конструктора. <br>
      За създаване на обекти от клас се използва функция, наречена
      конструктор на класа: <br>
      -- името на конструктора съвпада с името на класа; <br>
      -- параметрите на конструктора са зададени в дефиницията на класа.
      <br>
      Конструиране по подразбиране - задава текущото време по
      компютърния часовник (в момента на изпълнение на програмата): <br>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b><font color="#006600"> <tt>Time
now











            = Time();</tt></font></b> <br>
      или съкратено: <br>
      <b><tt>&nbsp;&nbsp; <font color="#006600">Time now;</font></tt></b>
      <br>
    </p>
    <hr width="100%">** Използване на обекти<br>
    Член функции на клас за класа <tt>string</tt> - параметри на
    функция, върната стойност.<br>
    Пример:<tt><br>
    </tt><tt>&nbsp;&nbsp;&nbsp;</tt><tt> string greeting = "Hello";</tt><tt><br>
    </tt><tt>&nbsp;&nbsp;&nbsp; cout &lt;&lt; greeting.length() &lt;&lt;
      endl;</tt><tt>&nbsp;&nbsp;&nbsp; // 5<br>
    </tt><tt>&nbsp;&nbsp;&nbsp; cout &lt;&lt; greeting.substr(0,1) </tt><tt>&lt;</tt><tt>&lt;
      endl; // "H"</tt><br>
    Член-функции на класа <tt>Time</tt> - функции за достъп.<br>
    Пример:<tt><br>
    </tt><tt>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; Time lecture_end(9,
      30, 0);<br>
    </tt><tt>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; cout &lt;&lt; </tt><tt><tt>lecture_end</tt>.get_hours()
      &lt;&lt; ":";</tt><tt> &nbsp;&nbsp;&nbsp; // 9<br>
    </tt><tt>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; </tt><tt><tt>cout
        &lt;&lt; </tt></tt><tt><tt>lecture_end</tt>.get_minutes()
      &lt;&lt; ":";&nbsp;&nbsp; // 30</tt><tt><br>
    </tt><tt>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; </tt><tt><tt>cout
        &lt;&lt;&nbsp;</tt></tt><tt><tt>lecture_end</tt>.get_seconds()
      &lt;&lt; endl;&nbsp; // 0</tt><br>
    Член-функции на класа <tt>Time</tt> - функции за промяна на обекта
    (мутатори).<br>
    Пример:<br>
    <b><tt><font color="#006600">&nbsp;&nbsp; Time
          wake_up(7,0,0);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /* </font><font
          color="#009900">7:00:00</font><font color="#006600"> */</font></tt></b>
    <br>
    <b><tt><font color="#006600">&nbsp;&nbsp; wake_up.add_seconds(1000);
          /* </font><font color="#009900">7:16:40</font><font
          color="#006600"> */</font></tt></b> <br>
    Добавя 1000 секунди към момента от време, записан в обекта <b><tt><font
          color="#006600">wake_up.</font></tt></b> <br>
    Пример: <br>
    <pre><tt><b><font color="#000080">// <a href="../../sources/ch3/time1.cpp">time1.cpp</a><br>#include</font></b> <font color="#ff0000">&lt;iostream&gt;</font>
<b><font color="#0000ff">using</font></b> <b><font color="#0000ff">namespace</font></b> std<font color="#990000">;<br><br></font><b><font color="#000080">#include</font></b> <font color="#ff0000">"ccc_time.h"</font>
 
<font color="#009900">int</font> <b><font color="#000000">main</font></b><font color="#990000">(</font><font color="#990000">)</font>
<font color="#ff0000">{</font>  Time <b><font color="#000000">wake_up</font></b><font color="#990000">(8,</font> <font color="#993399">0</font><font color="#990000">,</font> <font color="#993399">0</font><font color="#990000">)</font><font color="#990000">;</font>
   wake_up<font color="#990000">.</font><b><font color="#000000">add_seconds</font></b><font color="#990000">(</font><font color="#993399">1000</font><font color="#990000">)</font><font color="#990000">;</font> <i><font color="#9a1900">/*  a thousand seconds later */</font></i>
   cout <font color="#990000">&lt;</font><font color="#990000">&lt;</font> wake_up<font color="#990000">.</font><b><font color="#000000">get_hours</font></b><font color="#990000">(</font><font color="#990000">)</font> <font color="#990000">&lt;</font><font color="#990000">&lt;</font> <font color="#ff0000">":"</font> <font color="#990000">&lt;</font><font color="#990000">&lt;</font> wake_up<font color="#990000">.</font><b><font color="#000000">get_minutes</font></b><font color="#990000">(</font><font color="#990000">)</font>
        <font color="#990000">&lt;</font><font color="#990000">&lt;</font> <font color="#ff0000">":"</font> <font color="#990000">&lt;</font><font color="#990000">&lt;</font> wake_up<font color="#990000">.</font><b><font color="#000000">get_seconds</font></b><font color="#990000">(</font><font color="#990000">)</font> <font color="#990000">&lt;</font><font color="#990000">&lt;</font> <font color="#ff0000">"\n"</font><font color="#990000">;</font>

   <b><font color="#0000ff">return</font></b> <font color="#993399">0</font><font color="#990000">;</font> <font color="#ff0000"><br>}</font>
</tt></pre>
    Член-функции на класа <b><tt>Time:</tt></b> <br>
    <table width="100%" border="" cellpadding="4" cellspacing="0">
      <tbody>
        <tr>
          <td>&nbsp;Име</td>
          <td>&nbsp;Действие</td>
        </tr>
        <tr>
          <td><b><tt>Time()</tt></b></td>
          <td>Конструира обект, показващ текущото време</td>
        </tr>
        <tr>
          <td><b><tt>Time(h,m,s)</tt></b></td>
          <td>Конструира обект, показващ <b><tt>h</tt></b> часа,<b> <tt>m
              </tt></b>минути и<b> <tt>s</tt> </b>секунди</td>
        </tr>
        <tr>
          <td><b><tt>t.get_seconds()</tt></b></td>
          <td>Връща броя на секундите в<tt><b> t</b>.</tt> </td>
        </tr>
        <tr>
          <td><b><tt>t.get_minutes()</tt></b></td>
          <td>Връща броя на минутите в<tt><b> t</b>.</tt> </td>
        </tr>
        <tr>
          <td><b><tt>t.get_hours()</tt></b></td>
          <td>Връща броя на часовете в<tt> <b>t</b>.</tt> </td>
        </tr>
        <tr>
          <td><b><tt>t.add_seconds(n)</tt></b></td>
          <td>Премества момента <b><tt>t</tt> </b>с<b> <tt>n</tt> </b>секунди











            напред.</td>
        </tr>
        <tr>
          <td nowrap="nowrap"><b><tt>t.seconds_from(t2)&nbsp;</tt></b></td>
          <td>Пресмята броя на секундите между <b><tt>t</tt></b>&nbsp;
            и <b><tt>t2.</tt></b> </td>
        </tr>
      </tbody>
    </table>
    <p><font color="#000000">Пример: Колко секунди остават до края на
        деня?</font> <br>
    </p>
    <pre><tt><b><font color="#000080">#include</font></b> <font color="#ff0000">&lt;iostream&gt;</font>
<b><font color="#0000ff">using</font></b> <b><font color="#0000ff">namespace</font></b> std<font color="#990000">;</font>

<b><font color="#000080">#include</font></b> <font color="#ff0000">"ccc_time.h"</font>

<font color="#009900">int</font> <b><font color="#000000">main</font></b><font color="#990000">(</font><font color="#990000">)</font>
<font color="#ff0000">{</font>  Time now<font color="#990000">;</font>
   Time <b><font color="#000000">day_end</font></b><font color="#990000">(</font><font color="#993399">23</font><font color="#990000">,</font> <font color="#993399">59</font><font color="#990000">,</font> <font color="#993399">59</font><font color="#990000">)</font><font color="#990000">;</font>
   <font color="#009900">long</font> seconds_left <font color="#990000">=</font> day_end<font color="#990000">.</font><b><font color="#000000">seconds_from</font></b><font color="#990000">(</font>now<font color="#990000">)</font><font color="#990000">;</font>

   cout <font color="#990000">&lt;</font><font color="#990000">&lt;</font> <font color="#ff0000">"There are "</font> <font color="#990000">&lt;</font><font color="#990000">&lt;</font> seconds_left<br>      <font color="#990000">  &lt;</font><font color="#990000">&lt;</font> <font color="#ff0000">" seconds left in this day.\n"</font><font color="#990000">;</font>

   <b><font color="#0000ff">return</font></b> <font color="#993399">0</font><font color="#990000">;</font>
<font color="#ff0000">}</font></tt></pre>
    <p>Тъй като денонощието съдържа <b><tt>24x3600 = 86400</tt></b>
      секунди, член-функцията <font color="#000000"><b><tt>seconds_from
          </tt></b>връща стойност от тип </font><b><tt>long.</tt></b> <br>
    </p>
    <hr width="100%"> ** Обекти от реалния свят. <br>
    <font color="#000000"><br>
      Пример:<br>
    </font><br>
    <pre><tt><b><font color="#000080">// <a href="../../sources/ch3/employee.cpp">employee.cpp</a><br>#include</font></b> <font color="#ff0000">&lt;iostream&gt;</font>
<b><font color="#0000ff">using</font></b> <b><font color="#0000ff">namespace</font></b> std<font color="#990000">;</font>

<b><font color="#000080">#include</font></b> <font color="#ff0000">"ccc_empl.h"</font><br> <br><font color="#009900">int</font> <b><font color="#000000">main</font></b><font color="#990000">(</font><font color="#990000">)</font>
<font color="#ff0000">{</font>   Employee <b><font color="#000000">harry</font></b><font color="#990000">(</font><font color="#ff0000">"Hacker, Harry"</font><font color="#990000">,</font> <font color="#993399">45000.00</font><font color="#990000">)</font><font color="#990000">;</font>
 
    <font color="#009900">double</font> new_salary <font color="#990000">=</font> harry<font color="#990000">.</font><b><font color="#000000">get_salary</font></b><font color="#990000">(</font><font color="#990000">)</font> <font color="#990000">+</font> <font color="#993399">3000</font><font color="#990000">;</font>
    harry<font color="#990000">.</font><b><font color="#000000">set_salary</font></b><font color="#990000">(</font>new_salary<font color="#990000">)</font><font color="#990000">;</font>
 
    cout <font color="#990000">&lt;</font><font color="#990000">&lt;</font> <font color="#ff0000">"Name: "</font> <font color="#990000">  &lt;</font><font color="#990000">&lt;</font> harry<font color="#990000">.</font><b><font color="#000000">get_name</font></b><font color="#990000">(</font><font color="#990000">)</font> <font color="#990000">  &lt;</font><font color="#990000">&lt;</font> <font color="#ff0000">"\n"</font><font color="#990000">;</font>
    cout <font color="#990000">&lt;</font><font color="#990000">&lt;</font> <font color="#ff0000">"Salary: "</font> <font color="#990000">&lt;</font><font color="#990000">&lt;</font> harry<font color="#990000">.</font><b><font color="#000000">get_salary</font></b><font color="#990000">(</font><font color="#990000">)</font> <font color="#990000">&lt;</font><font color="#990000">&lt;</font> <font color="#ff0000">"\n"</font><font color="#990000">;</font>
 
    <b><font color="#0000ff">return</font></b> <font color="#993399">0</font><font color="#990000">;</font>
<font color="#ff0000">}</font></tt></pre>
    Обект от тип <font color="#000000"><b><tt>Employee</tt></b>
      (служител) съхранява име на служител и неговата (годишна) заплата.
    </font><br>
    <font color="#000000">Създава се обект <b><tt>harry </tt></b>с
      начална заплата 45000 и след това му се повишава заплатата с още
      3000.</font> <br>
    <br>
    <font color="#000000"></font>Член-функции, дефинирани в класа <b><tt>Employee:</tt></b>
    <br>
    <table width="100%" border="" cellpadding="4" cellspacing="0">
      <tbody>
        <tr>
          <td>Име</td>
          <td>Действие</td>
        </tr>
        <tr>
          <td><b><tt>Employee(n,s)</tt></b></td>
          <td>Конструира обект, представящ служител с име <b><tt>n</tt></b>
            и заплата <b><tt>s.</tt></b> </td>
        </tr>
        <tr>
          <td><b><tt>e.get_name()</tt></b></td>
          <td>Връща името на <b><tt>e</tt></b>.</td>
        </tr>
        <tr>
          <td><b><tt>e.get_salary()</tt></b></td>
          <td>Връща заплатата на <b><tt>e</tt></b>.</td>
        </tr>
        <tr>
          <td nowrap="nowrap"><b><tt>e.set_salary(s)&nbsp;</tt></b></td>
          <td>Дава нова стойност <b><tt>s</tt></b> на заплатата на <b><tt>e.</tt></b>
          </td>
        </tr>
      </tbody>
    </table>
    <hr size="2" width="100%">
    <p>** Оператор <tt>if </tt>(условен оператор)<br>
      Операторът <tt>if </tt>се състои от 2 части - условие и тяло. <tt>if</tt>
      е съставен оператор.<br>
      Пример:<br>
    </p>
    <pre><font size="+1"><span style="color: rgb(51, 51, 255);">if</span> (area &lt; 0)<br>&nbsp;&nbsp; cout &lt;&lt; "Error: Negative area.\n";</font></pre>
    <p>[блок-схема]<br>
    </p>
    <p>Когато условието е вярно, се изпълнява тялото на оператора. <br>
      Ако условието е нарушено (не е вярно), се изпълнява следващия
      оператор (след оператора <tt>if</tt>). <br>
      Тялото на <tt>if</tt> може да бъде друг оператор или блок.<br>
      Блок е група от оператори, оградени с къдрави (големи) скоби <big><tt>{}</tt></big>.<br>
      Пример:<br>
    </p>
    <pre><font size="+1"><span style="color: rgb(51, 51, 255);">if</span> (area &lt; 0)<br>{&nbsp; cout &lt;&lt; "Error: Negative area.\n";<br>&nbsp;&nbsp; <span style="color: rgb(51, 51, 255);">return</span> 1;<br>}</font></pre>
    <p>Блокът замества (се разглежда като) един оператор.<br>
    </p>
    <pre><tt><b><font color="#000080">// <a href="../../sources/ch4/area1.cpp">area1.cpp</a><br>#include</font></b> <font color="#ff0000">&lt;iostream&gt;<br></font><b><font color="#000080">#include</font></b> <font color="#ff0000">&lt;cmath&gt;<br></font><b><font color="#0000ff">using</font></b> <b><font color="#0000ff">namespace</font></b> std<font color="#990000">;<br></font><br><font color="#009900">int</font> <b><font color="#000000">main</font></b><font color="#990000">()<br></font><font color="#ff0000">{</font>&nbsp; <font color="#009900">double</font> area<font color="#990000">;<br></font>&nbsp;&nbsp; cout <font color="#990000">&lt;&lt;</font> <font color="#ff0000">"Please enter the area of a square: "</font><font color="#990000">;<br></font>&nbsp;&nbsp; cin <font color="#990000">&gt;&gt;</font> area<font color="#990000">;<br></font>&nbsp;&nbsp; <b><font color="#0000ff">if</font></b> <font color="#990000">(</font>area <font color="#990000">&lt;</font> <font color="#993399">0</font><font color="#990000">)<br></font>&nbsp;&nbsp; <font color="#ff0000">{</font>&nbsp; cout <font color="#990000">&lt;&lt;</font> <font color="#ff0000">"Error: Negative area.\n"</font><font color="#990000">;<br></font>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <b><font color="#0000ff">return</font></b> <font color="#993399">1</font><font color="#990000">;<br></font>&nbsp;&nbsp; <font color="#ff0000">}</font><br>&nbsp;&nbsp; <i><font color="#9a1900">/* now we know that area is &gt;= 0&nbsp; */<br></font></i>&nbsp;&nbsp; <font color="#009900">double</font> length <font color="#990000">=</font> <b><font color="#000000">sqrt</font></b><font color="#990000">(</font>area<font color="#990000">);<br></font>&nbsp;&nbsp; cout <font color="#990000">&lt;&lt;</font> <font color="#ff0000">"The side length of the square is "</font>&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <font color="#990000">&lt;&lt;</font> length <font color="#990000">&lt;&lt;</font> <font color="#ff0000">"\n"</font><font color="#990000">;</font><br>&nbsp;&nbsp; <b><font color="#0000ff">return</font></b> <font color="#993399">0</font><font color="#990000">;<br></font><font color="#ff0000">}</font></tt></pre>
    <hr size="2" width="100%">
  </body>
</html>
