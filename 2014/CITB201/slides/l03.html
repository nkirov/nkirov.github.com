<!DOCTYPE html PUBLIC "-//w3c//dtd html 4.0 transitional//en">
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="Author" content="Nikolay Kirov">
    <meta name="GENERATOR" content="Mozilla/4.75 [en] (Win98; U)
      [Netscape]">
    <title>l03</title>
  </head>
  <body>
    <hr width="100%">
    <center>
      <p><b><font size="+1"><font size="+1">3</font>. Класове</font></b></p>
    </center>
     <img alt="" src="../b5.gif" height="12" width="13"> В лекциите
    до тук за класовете са разгледани: <br>
    - конструиране на обект: <b><tt><font color="#009900">Employee
          harry("Hacher, Harry", 350);</font></tt></b> <br>
    <font color="#000000">- модифициране на обект: </font><b><tt><font color="#009900">harry.set_salary(380);</font></tt></b> <br>
    <font color="#000000">- извеждане на информация за обект:</font><b><tt><font color="#009900"> cout &lt;&lt; harry.get_name();</font></tt></b>
    <br>
    Въведени са и основните понятия конструктор, член-функция и операция
    точка. <br>
    <hr width="100%"> <br>
    <img alt="" src="../b5.gif" height="12" align="top" width="13">
    Обособяване на класове. <br>
    Ще разгледаме задача, която се решава без използване на клас и след
    това с дефиниране и използване на подходящ клас. Чете се информация
    за компютри, съдържаща:
    <table cols="2" width="100%">
      <tbody>
        <tr>
          <td valign="TOP">
            <table border="" cellpadding="4" cellspacing="0">
              <tbody>
                <tr>
                  <td>име на модел</td>
                  <td><b><tt><font color="#006600">name</font></tt></b></td>
                  <td><b><tt>OmniBook XE</tt></b></td>
                </tr>
                <tr>
                  <td>цена</td>
                  <td><b><tt><font color="#006600">price</font></tt></b></td>
                  <td><b><tt>5660</tt></b></td>
                </tr>
                <tr>
                  <td>оценка</td>
                  <td><b><tt><font color="#006600">score</font></tt></b></td>
                  <td><b><tt>76</tt></b></td>
                </tr>
              </tbody>
            </table>
          </td>
          <td>
<b><tt>OmniBook XE</tt></b> <br>
            <b><tt>5660</tt></b> <br>
            <b><tt>76</tt></b> <br>
            <b><tt>ACMA P300</tt></b> <br>
            <b><tt>1095</tt></b> <br>
            <b><tt>75</tt></b> <br>
            <b><tt>AMAX Poewrstation</tt></b> <br>
            <b><tt>1999</tt></b> <br>
            <b><tt>78</tt></b>
</td>
        </tr>
      </tbody>
    </table>
    Търси се продукта с най-голямо отношение оценка/цена. <br>
    ** Първото програмно решение е без използване на класове. <br>
    <b><tt><font color="#000099">// <a href="../../NETB101/sources/ch6/bestval.cpp">bestval.cpp</a></font></tt></b><a href="../../NETB101/sources/ch6/bestval.cpp"> </a><br>
    <b><tt><font color="#000099">#include &lt;iostream&gt;</font></tt></b>
    <br>
    <b><tt><font color="#000099">#include &lt;string&gt;</font></tt></b>
    <br>
    <b><tt><font color="#000099">using namespace std;</font></tt></b>
    <p><b><tt><font color="#000099">int main()</font></tt></b> <br>
      <b><tt><font color="#000099">{  string best_name = "";</font></tt></b>
      <br>
      <b><tt><font color="#000099">   double best_price = 0;</font></tt></b>
      <br>
      <b><tt><font color="#000099">   int best_score = 0;</font></tt></b>
      <br>
      <b><tt><font color="#000099">   bool more = true;</font></tt></b>
      <br>
      <b><tt><font color="#000099">   while (more)</font></tt></b>
      <br>
      <b><tt><font color="#000099">   {  string
            next_name;</font></tt></b> <br>
      <b><tt><font color="#000099">      double
            next_price;</font></tt></b> <br>
      <b><tt><font color="#000099">      int
            next_score;</font></tt></b> <br>
      <b><tt><font color="#000099">      cout
            &lt;&lt; "Please enter the model name: ";</font></tt></b> <br>
      <b><tt><font color="#000099">     
            getline(cin, next_name);</font></tt></b> <br>
      <b><tt><font color="#000099">      cout
            &lt;&lt; "Please enter the price: ";</font></tt></b> <br>
      <b><tt><font color="#000099">      cin
            &gt;&gt; next_price;</font></tt></b> <br>
      <b><tt><font color="#000099">      cout
            &lt;&lt; "Please enter the score: ";</font></tt></b> <br>
      <b><tt><font color="#000099">      cin
            &gt;&gt; next_score;</font></tt></b> <br>
      <b><tt><font color="#000099">      string
            remainder; /* read remainder of line */</font></tt></b> <br>
      <b><tt><font color="#000099">     
            getline(cin, remainder);</font></tt></b> <br>
      <b><tt><font color="#000099">      if
            (next_price != 0)</font></tt></b> <br>
      <b><tt><font color="#000099">     
            {  if (best_price == 0 or</font></tt></b> <br>
      <b><tt><font color="#000099">           
next_score/next_price





            &gt; best_score/best_price)</font></tt></b> <br>
      <b><tt><font color="#000099">        
{ 





            best_name = next_name;</font></tt></b> <br>
      <b><tt><font color="#000099">           
best_score





            = next_score;</font></tt></b> <br>
      <b><tt><font color="#000099">           
best_price





            = next_price;</font></tt></b> <br>
      <b><tt><font color="#000099">        





            }</font></tt></b> <br>
      <b><tt><font color="#000099">      }</font></tt></b>
      <br>
      <b><tt><font color="#000099">      cout
            &lt;&lt; "More data? (y/n) ";</font></tt></b> <br>
      <b><tt><font color="#000099">      string
            answer;</font></tt></b> <br>
      <b><tt><font color="#000099">     
            getline(cin, answer);</font></tt></b> <br>
      <b><tt><font color="#000099">      if
            (answer != "y") more = false;</font></tt></b> <br>
      <b><tt><font color="#000099">   }</font></tt></b> <br>
      <b><tt><font color="#000099">   cout &lt;&lt; "The best
            bang for the buck is " &lt;&lt; best_name</font></tt></b> <br>
      <b><tt><font color="#000099">     
            &lt;&lt; " (Score: " &lt;&lt; best_score</font></tt></b> <br>
      <b><tt><font color="#000099">     
            &lt;&lt; " Price: " &lt;&lt; best_price &lt;&lt; ")\n";</font></tt></b>
      <br>
      <b><tt><font color="#000099">   return 0;</font></tt></b>
      <br>
      <b><tt><font color="#000099">}</font></tt></b>
      </p>
<table border="" cellpadding="4" width="100%">
        <tbody>
          <tr>
            <td>
<b><tt><font color="#660000">Please enter the model
                    name: OmnoBook XE</font></tt></b> <br>
              <b><tt><font color="#660000">Please enter the price: 5660</font></tt></b>
              <br>
              <b><tt><font color="#660000">Please enter the score: 76</font></tt></b>
              <br>
              <b><tt><font color="#660000">More data? (y/n) y</font></tt></b>
              <br>
              <b><tt><font color="#660000">Please enter the model name:
                    Junk PC</font></tt></b> <br>
              <b><tt><font color="#660000">Please enter the price: 1230</font></tt></b>
              <br>
              <b><tt><font color="#660000">Please enter the score: 51</font></tt></b>
              <br>
              <b><tt><font color="#660000">More data? (y/n) n</font></tt></b>
              <br>
              <b><tt><font color="#660000">The best bang for the buck is
                    Junk PC (Score: 51 Price: 1230)</font></tt></b>
</td>
          </tr>
        </tbody>
      </table>
    
    <p><img alt="" src="../b5.gif" height="18" width="20"> Интерфейс и
      капсулиране, членове-функции. <br>
      ** Второ програмно решение на задачата с използване на класове. <br>
      <b><tt><font color="#000099">// <a href="../../NETB101/sources/ch6/product2.cpp">product2.cpp</a></font></tt></b><a href="../../NETB101/sources/ch6/product2.cpp"> </a><br>
      <b><tt><font color="#000099">#include &lt;iostream&gt;</font></tt></b>
      <br>
      <b><tt><font color="#000099">#include &lt;string&gt;</font></tt></b>
      <br>
      <b><tt><font color="#000099">using namespace std;</font></tt></b>
    </p>
    <p><b><tt><font color="#3333FF">/* ДЕФИНИЦИЯ НА КЛАСА */</font></tt></b>
      <br>
      <b><tt><font color="#000099">class Product  {</font></tt></b>
      <br>
      <b><tt><font color="#000099">public:                





          </font><font color="#3333FF">/* интерфейс, открита част */</font></tt></b>
      <br>
      <b><tt><font color="#3333FF">/* декларации на член-функциите на
            класа */</font></tt></b> <br>
      <b><tt><font color="#000099">  
Product();                        </font><font color="#3333FF">/* създава нов продукт */</font></tt></b> <br>
      <b><tt><font color="#000099">   void
read();                      </font><font color="#3333FF">/* чете
            продукт        */</font></tt></b>
      <br>
      <b><tt><font color="#000099">   bool
            is_better_than(Product b) const;</font><font color="#3333FF">/*




            сравнява продукти */</font></tt></b> <br>
      <b><tt><font color="#000099">   void print()
const;               </font><font color="#3333FF">/* отпечатва продукт   */</font></tt></b>
      <br>
      <b><tt><font color="#000099">private:              





          </font><font color="#3333FF">/* капсулиране, скрита част */</font></tt></b>
      <br>
      <b><tt><font color="#000099">   string
name;                      </font><font color="#3333FF">/* скрити данни */</font></tt></b> <br>
      <b><tt><font color="#000099">   double
price;                     </font><font color="#3333FF">/* скрити данни */</font></tt></b> <br>
      <b><tt><font color="#000099">   int
score;                        </font><font color="#3333FF">/* скрити данни */</font></tt></b> <br>
      <b><tt><font color="#000099">};</font></tt></b> <br>
      <b><tt><font color="#3333FF">/* ИЗПОЛЗВАНЕ НА КЛАСА */</font></tt></b>
      <br>
      <b><tt><font color="#000099">int main()</font></tt></b> <br>
      <b><tt><font color="#000099">{  Product
            best;       </font><font color="#3333FF">/* дефиниране на обект от класа */</font></tt></b>
      <br>
      <b><tt><font color="#000099">   bool more = true;</font></tt></b>
      <br>
      <b><tt><font color="#000099">   while (more)</font></tt></b>
      <br>
      <b><tt><font color="#000099">   {  Product next;</font></tt></b>
      <br>
      <b><tt><font color="#000099">     
            next.read();    </font><font color="#3333FF">/*




            извикване на член-функция на класа */</font></tt></b> <br>
      <b><tt><font color="#000099">      if
            (next.is_better_than(best)) best = next;</font></tt></b> <br>
      <b><tt><font color="#000099">      cout
            &lt;&lt; "More data? (y/n) ";</font></tt></b> <br>
      <b><tt><font color="#000099">      string
            answer;</font></tt></b> <br>
      <b><tt><font color="#000099">     
            getline(cin, answer);</font></tt></b> <br>
      <b><tt><font color="#000099">      if
            (answer != "y") more = false;</font></tt></b> <br>
      <b><tt><font color="#000099">   }</font></tt></b> <br>
      <b><tt><font color="#000099">   cout &lt;&lt; "The best
            bang for the buck is ";</font></tt></b> <br>
      <b><tt><font color="#000099">  
            best.print();       </font><font color="#3333FF"> /* извикване на член-функция на класа */</font></tt></b>
      <br>
      <b><tt><font color="#000099">   return 0;</font></tt></b>
      <br>
      <b><tt><font color="#000099">}</font></tt></b> <br>
      <b><tt><font color="#3333FF">/* РЕАЛИЗАЦИЯ НА КЛАСА */</font></tt></b>
      <br>
      <b><tt><font color="#3333FF">/* дефиниция на конструктор */</font></tt></b>
      <br>
      <b><tt><font color="#000099">Product::Product()</font></tt></b> <br>
      <b><tt><font color="#000099">{ price = 10000;</font></tt></b> <br>
      <b><tt><font color="#000099">  score = 0;</font></tt></b> <br>
      <b><tt><font color="#000099">}</font></tt></b> <br>
      <b><tt><font color="#3333FF">/* дефиниция на член-функция мутатор
            (set-функция) */</font></tt></b> <br>
      <b><tt><font color="#000099">void Product::read()</font></tt></b>
      <br>
      <b><tt><font color="#000099">{  cout &lt;&lt; "Please enter
            the model name: ";</font></tt></b> <br>
      <b><tt><font color="#000099">   getline(cin, name);</font></tt></b>
      <br>
      <b><tt><font color="#000099">   cout &lt;&lt; "Please
            enter the price: ";</font></tt></b> <br>
      <b><tt><font color="#000099">   cin &gt;&gt; price;</font></tt></b>
      <br>
      <b><tt><font color="#000099">   cout &lt;&lt; "Please
            enter the score: ";</font></tt></b> <br>
      <b><tt><font color="#000099">   cin &gt;&gt; score;</font></tt></b>
      <br>
      <b><tt><font color="#000099">   string remainder;</font></tt></b>
      <br>
      <b><tt><font color="#000099">   getline(cin, remainder);</font></tt></b>
      <br>
      <b><tt><font color="#000099">}</font></tt></b> <br>
      <b><tt><font color="#3333FF">/* дефиниция на член-функции за
            достъп (get-функция) */</font></tt></b> <br>
      <b><tt><font color="#000099">bool Product::is_better_than(Product
            b) const</font></tt></b> <br>
      <b><tt><font color="#000099">{  if (price == 0) return false;</font></tt></b>
      <br>
      <b><tt><font color="#000099">    if (b.price == 0)
            return true;</font></tt></b> <br>
      <b><tt><font color="#000099">    if (score/price
            &gt; b.score/b.price) return true;</font></tt></b> <br>
      <b><tt><font color="#000099">    return false;</font></tt></b>
      <br>
      <b><tt><font color="#000099">}</font></tt></b> <br>
      <b><tt><font color="#3333FF">/* дефиниция на член-функции за
            достъп (get-функция) */</font></tt></b> <br>
      <b><tt><font color="#000099">void Product::print() const</font></tt></b>
      <br>
      <b><tt><font color="#000099">{ cout &lt;&lt; name</font></tt></b>
      <br>
      <b><tt><font color="#000099">      
            &lt;&lt; " Price: " &lt;&lt; price</font></tt></b> <br>
      <b><tt><font color="#000099">      
            &lt;&lt; " Score: " &lt;&lt; score &lt;&lt; "\n";</font></tt></b>
      <br>
      <b><tt><font color="#000099">}</font></tt></b> <br>
      <b><tt><font color="#3333FF">/* КРАЙ на файла, съдържащ текста на
            програмата */</font></tt></b> <br>
      <font color="#000000">** Неявен параметър на член-функция:</font>
      <br>
      - set-функции (мутатори) - променят (стойността на) неявния си
      параметър; <br>
      <b><tt><font color="#000099">    void read();</font></tt></b>
      <br>
      - get-функции (функции за достъп) - не променят (стойността на)
      неявния си параметър, могат да се обявят като константни функции.
      <br>
      <b><tt><font color="#000099">    void print()
            const;  </font></tt></b> <br>
    </p>
    <hr size="2" width="100%">
<br>
    Разделяне програмата на:<br>
    -- заглавен файл (<a href="../../NETB101/sources/ch6/product.h"><b><tt>product.h</tt></b></a>),
    <br>
    -- дефиниции на фукциите на класа (<a href="../../NETB101/sources/ch6/product.cpp"><b><tt>product.cpp</tt></b></a>)и
    <br>
    -- използване на обекти от класа (<a href="../../NETB101/sources/ch6/prodtest.cpp"><b><tt>prodtest.cpp</tt></b></a>)<br>
    Разделна компилация.<br>
    <hr width="100%"> <br>
    <img alt="" src="../b5.gif" height="12" align="middle" width="13">
    Конструктори по подразбиране и с параметри. <br>
    ** Конструкторът инициализира (задава начални стойности на) данните
    на класа. Няма тип и не връща стойност. <br>
    ** Предефиниране на функции - две функции в една програма на С++
    могат да имат еднакви имена. За да бъдат различими, те трябва да
    имат различен брой параметри или/и параметрите им да са от различен
    тип. <br>
    <b><tt><font color="#006600">class Employee {</font></tt></b> <br>
    <b><tt><font color="#006600">public:</font></tt></b> <br>
    <b><tt><font color="#006600">/* конструктор без параметри */</font></tt></b>
    <br>
    <b><tt><font color="#006600">   Employee();</font></tt></b>
    <br>
    <b><tt><font color="#006600">/* конструктор с параметри */</font></tt></b>
    <br>
    <b><tt><font color="#006600">   Employee(string emp_name,
          double init_salary);</font></tt></b> <br>
    <b><tt><font color="#006600">   void set_salary(double
          new_salary);</font></tt></b> <br>
    <b><tt><font color="#006600">   string get_name() const;</font></tt></b>
    <br>
    <b><tt><font color="#006600">   double get_salary() const;</font></tt></b>
    <br>
    <b><tt><font color="#006600">   void print() const;</font></tt></b>
    <br>
    <b><tt><font color="#006600">private:</font></tt></b> <br>
    <b><tt><font color="#006600">   string name;</font></tt></b>
    <br>
    <b><tt><font color="#006600">   double salary;</font></tt></b>
    <br>
    <b><tt><font color="#006600">};</font></tt></b> <br>
    <b><tt><font color="#006600">/* дефиниция на канструктора с
          параметри */</font></tt></b> <br>
    <b><tt><font color="#006600">Employee::Employee(string emp_name,
          double init_salary)</font></tt></b> <br>
    <b><tt><font color="#006600">{ name = emp_name;</font></tt></b> <br>
    <b><tt><font color="#006600">  salary = init_salary;  }</font></tt></b>
    <p><font color="#000000">* Полета с данни - обекти от други класове.</font>
      <br>
      <b><tt><font color="#006600">class Employee {</font></tt></b> <br>
      <b><tt><font color="#006600">public:</font></tt></b> <br>
      <b><tt><font color="#006600">   Employee(string n,
            double sal, int arr, int leav);</font></tt></b> <br>
      <b><tt><font color="#006600">   ...</font></tt></b> <br>
      <b><tt><font color="#006600">private:</font></tt></b> <br>
      <b><tt><font color="#006600">   string name;</font></tt></b>
      <br>
      <b><tt><font color="#006600">   double salary;</font></tt></b>
      <br>
      <b><tt><font color="#006600">   Time arrive;</font></tt></b>
      <br>
      <b><tt><font color="#006600">   Time leave;</font></tt></b>
      <br>
      <b><tt><font color="#006600">};</font></tt></b> </p>
    <p><b><tt><font color="#006600">Employee::Employee(string n, double
            sal, int arr, int leav)</font></tt></b> <br>
      <b><tt><font color="#006600">{ name = n;</font></tt></b> <br>
      <b><tt><font color="#006600">  salary = sal;</font></tt></b>
      <br>
      <b><tt><font color="#006600">  arrive = Time(arr, 0, 0);</font></tt></b>
      <br>
      <b><tt><font color="#006600">  leave = Time(leav, 0, 0);</font></tt></b>
      <br>
      <b><tt><font color="#006600">}</font></tt></b> <br>
      <font color="#000000">Класът<b> <tt>Employee </tt></b></font>съдържа 
членове-данни,





      които са обекти от клас <b><tt><font color="#000000">Time.</font></tt></b>
      <br>
      <br>
    </p>
    <hr width="100%">
    <p><img alt="" src="../b5.gif" height="12" align="middle" width="13">
      Достъп до полетата с данни. <br>
      ** Само членовете-функции имат достъп до скритите полета с данни.
      <br>
      <b><tt><font color="#009900"> </font><font color="#006600">  
string





            Employee::get_name() const</font></tt></b> <br>
      <b><tt><font color="#006600">    { return name;</font></tt></b>
      <br>
      <b><tt><font color="#006600">    }</font></tt></b>
      <br>
      <b><tt><font color="#006600">    void
            Employee::set_salary(double new_salary)</font></tt></b> <br>
      <b><tt><font color="#006600">    { salary =
            new_salary;</font></tt></b> <br>
      <b><tt><font color="#006600">    }</font></tt></b>
      <br>
      <font color="#000000">** Явни и неявни параметри на функции.</font>
      <br>
      <font color="#000000">    Отпечатване на името и
        заплатата на служител, реализирано с три различни функции:</font>
      <br>
      <font color="#000000">-- член-функция с използване на достъп до
        скритите данни:</font> <br>
      <b><tt><font color="#006600">   void Employee::print()
            const</font></tt></b> <br>
      <b><tt><font color="#006600">   { cout &lt;&lt; "Name: "
            &lt;&lt; name &lt;&lt; "    "</font></tt></b>
      <br>
      <b><tt><font color="#006600">         
&lt;&lt;





            "Salary: " &lt;&lt; salary &lt;&lt; "\n";</font></tt></b> <br>
      <b><tt><font color="#006600">   }</font></tt></b> <br>
      <font color="#000000">-- член-функция с използване на член-функции
        от същия клас:</font> <br>
      <b><tt><font color="#006600">   void Employee::print()
            const</font></tt></b> <br>
      <b><tt><font color="#006600">   { cout &lt;&lt; "Name: "
            &lt;&lt; get_name() &lt;&lt; "    "</font></tt></b>
      <br>
      <b><tt><font color="#006600">         
&lt;&lt;





            "Salary: " &lt;&lt; get_salary() &lt;&lt; "\n";</font></tt></b>
      <br>
      <b><tt><font color="#006600">   }</font></tt></b> <br>
      <font color="#000000">-- външна за класа функция:</font> <br>
      <b><tt><font color="#009900"> </font><font color="#006600"> 
void





            print(const Employee &amp;emp)</font></tt></b> <br>
      <b><tt><font color="#006600">   { cout &lt;&lt; "Name: "
            &lt;&lt; emp.get_name() &lt;&lt; "    "</font></tt></b>
      <br>
      <b><tt><font color="#006600">         
&lt;&lt;





            "Salary: " &lt;&lt; emp.get_salary() &lt;&lt; "\n";</font></tt></b>
      <br>
      <b><tt><font color="#006600">   }</font></tt></b> <br>
      Пример:<br>
    </p>
    <p><b><tt>// <a href="../../NETB101/sources/ch6/employee.cpp">employee.cpp</a><br>
          #include &lt;iostream&gt;</tt></b><b><tt><br>
        </tt></b><b><tt>using namespace std;</tt></b><b><tt><br>
        </tt></b><b><tt>#include &lt;ccc_time.h&gt;</tt></b><b><tt><br>
        </tt></b><b><tt><br>
        </tt></b><b><tt>class Employee {</tt></b><b><tt><br>
        </tt></b><b><tt>public:</tt></b><b><tt><br>
        </tt></b><b><tt>   Employee(string employee_name,
          double initial_salary,</tt></b><b><tt><br>
        </tt></b><b><tt>           
          int arrive_hour, int leave_hour);</tt></b><b><tt><br>
        </tt></b><b><tt><br>
        </tt></b><b><tt>   void set_salary(double new_salary);</tt></b><b><tt><br>
        </tt></b><b><tt>   void raise_salary(double percent);</tt></b><b><tt><br>
        </tt></b><b><tt><br>
        </tt></b><b><tt>   string get_name() const;</tt></b><b><tt><br>
        </tt></b><b><tt>   double get_salary() const;</tt></b><b><tt><br>
        </tt></b><b><tt>   void print() const;</tt></b><b><tt><br>
        </tt></b><b><tt>private:</tt></b><b><tt><br>
        </tt></b><b><tt>   string name;</tt></b><b><tt><br>
        </tt></b><b><tt>   double salary;</tt></b><b><tt><br>
        </tt></b><b><tt>   Time arrive;</tt></b><b><tt><br>
        </tt></b><b><tt>   Time leave;</tt></b><b><tt><br>
        </tt></b><b><tt>};</tt></b><b><tt><br>
        </tt></b><b><tt><br>
        </tt></b><b><tt>Employee::Employee(string employee_name, double
          initial_salary,</tt></b><b><tt><br>
        </tt></b><b><tt>   int arrive_hour, int leave_hour)</tt></b><b><tt><br>
        </tt></b><b><tt>{  name = employee_name;</tt></b><b><tt><br>
        </tt></b><b><tt>   salary = initial_salary;</tt></b><b><tt><br>
        </tt></b><b><tt>   arrive = Time(arrive_hour, 0, 0);</tt></b><b><tt><br>
        </tt></b><b><tt>   leave = Time(leave_hour, 0, 0);</tt></b><b><tt><br>
        </tt></b><b><tt>}</tt></b><b><tt><br>
        </tt></b><b><tt><br>
        </tt></b><b><tt>void Employee::set_salary(double new_salary)</tt></b><b><tt><br>
        </tt></b><b><tt>{  salary = new_salary;  </tt></b><b><tt><br>
        </tt></b><b><tt>}     </tt></b><b><tt><br>
        </tt></b><b><tt><br>
        </tt></b><b><tt>string Employee::get_name() const</tt></b><b><tt><br>
        </tt></b><b><tt>{  return name;</tt></b><b><tt><br>
        </tt></b><b><tt>}</tt></b><b><tt><br>
        </tt></b><b><tt><br>
        </tt></b><b><tt>double Employee::get_salary() const</tt></b><b><tt><br>
        </tt></b><b><tt>{  return salary;</tt></b><b><tt><br>
        </tt></b><b><tt>}</tt></b><b><tt><br>
        </tt></b><b><tt><br>
        </tt></b><b><tt>void Employee::raise_salary(double percent)</tt></b><b><tt><br>
        </tt></b><b><tt>{  salary = salary * (1 + percent / 100);</tt></b><b><tt><br>
        </tt></b><b><tt>}</tt></b><b><tt><br>
        </tt></b><b><tt><br>
        </tt></b><b><tt>void raise_salary(Employee&amp; e, double
          percent)</tt></b><b><tt><br>
        </tt></b><b><tt>{  double new_salary = e.get_salary() * (1
          + percent / 100);</tt></b><b><tt><br>
        </tt></b><b><tt>   e.set_salary(new_salary);</tt></b><b><tt><br>
        </tt></b><b><tt>}</tt></b><b><tt><br>
        </tt></b><b><tt><br>
        </tt></b><b><tt>void Employee::print() const</tt></b><b><tt><br>
        </tt></b><b><tt>{  cout &lt;&lt; "Name: " &lt;&lt;
          get_name() &lt;&lt; "; "</tt></b><b><tt><br>
        </tt></b><b><tt>       
          &lt;&lt; "Salary: " &lt;&lt; get_salary()</tt></b><b><tt><br>
        </tt></b><b><tt>       
          &lt;&lt; "\n";</tt></b><b><tt><br>
        </tt></b><b><tt>}</tt></b><b><tt><br>
        </tt></b><b><tt><br>
        </tt></b><b><tt>int main()</tt></b><b><tt><br>
        </tt></b><b><tt>{ Employee harry("Harry", 1000, 8, 16);</tt></b><b><tt><br>
        </tt></b><b><tt>  harry.raise_salary(10);</tt></b><b><tt><br>
        </tt></b><b><tt>  harry.print();</tt></b><b><tt><br>
        </tt></b><b><tt>  raise_salary(harry, 10);</tt></b><b><tt><br>
        </tt></b><b><tt>  cout &lt;&lt; "New salary " &lt;&lt;
          harry.get_salary() &lt;&lt; endl;</tt></b><b><tt><br>
        </tt></b><b><tt>  return 0;   </tt></b><b><tt><br>
        </tt></b><b><tt>}    </tt></b><br>
    </p>
    <hr size="2" width="100%">
    <p style="color: rgb(0, 0, 0); font-family: 'Times New Roman';
      font-size: medium; font-style: normal; font-variant: normal;
      font-weight: normal; letter-spacing: normal; line-height: normal;
      orphans: 2; text-align: start; text-indent: 0px; text-transform:
      none; white-space: normal; widows: 2; word-spacing: 0px;
      -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px;"><img alt="" src="../b5.gif" height="12" width="13">Използване на
      указатели в класове<br>
      **Пример (optional attribute): Ако някой департамент има
      администратор, то указател ще сочи към този онект, ако не -
      указателят ще има стойност NULL<br>
    </p>
    <pre style="font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; background-color: rgb(255, 255, 255);"><font color="#003300"><b>class</b><b> Department {</b><b><br></b><b> . . .</b><b><br></b><b>private:</b><b><br></b><b>   string name;</b><b><br></b><b>   Employee* receptionist;</b><b><br></b><b>};</b></font></pre>
    <p style="color: rgb(0, 0, 0); font-family: 'Times New Roman';
      font-size: medium; font-style: normal; font-variant: normal;
      font-weight: normal; letter-spacing: normal; line-height: normal;
      orphans: 2; text-align: start; text-indent: 0px; text-transform:
      none; white-space: normal; widows: 2; word-spacing: 0px;
      -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px;">**Пример



      (sharing): Някои департаменти могат да имат администратор и/или
      секретар, като някъде един и същи служител може да заема и двете
      длъжности.<br>
    </p>
    <pre style="color: rgb(0, 0, 0); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><b><span style="color: rgb(0, 0, 153);">class</span></b><b> Department {</b><b><br></b><b> . . .</b><b><br></b><b><span style="color: rgb(0, 0, 153);">private:</span></b><b><br></b><b>   string name;</b><b><br></b><b>   Employee* receptionist;</b><b><br></b><b>   Employee* secretary;</b><b><br></b><b>};</b><br><br>Ето и цяла програма:<br><tt><b> // <a href="../../NETB151/sources/ch10/department.cpp">department.cpp</a><br> #include </b><b><font color="#990000">&lt;</font></b><b>string</b><b><font color="#990000">&gt;</font></b><b>
 #include </b><b><font color="#990000">&lt;</font></b><b>iostream</b><b><font color="#990000">&gt;</font></b><b>
 using namespace std</b><b><font color="#990000">;</font></b><b>

 #include </b><b><font color="#ff0000">"ccc_empl.h"</font></b><b>
</b><b><i><font color="#9a1900"> /**</font></i></b><b><span style="font-family: mon;"><span style="font-style: italic;"><br></span></span></b><b><i><font color="#9a1900">    A department in an organization.</font></i></b><b>
</b><b><i><font color="#9a1900"> */</font></i></b><b>
</b><b><font color="#0000ff"> class</font></b><b> Department </b><b><font color="#ff0000">{</font></b><b>
 </b><b><font color="#0000ff">public</font></b><b><font color="#990000">:</font></b><b>
    </b><b><font color="#000000">Department</font></b><b><font color="#990000">(</font></b><b>string n</b><b><font color="#990000">)</font></b><b><font color="#990000">;</font></b><b>
    </b><b><font color="#009900">void</font></b><b> </b><b><font color="#000000">set_receptionist</font></b><b><font color="#990000">(</font></b><b>Employee</b><b><font color="#990000">*</font></b><b> e</b><b><font color="#990000">)</font></b><b><font color="#990000">;</font></b><b>
    </b><b><font color="#009900">void</font></b><b> </b><b><font color="#000000">set_secretary</font></b><b><font color="#990000">(</font></b><b>Employee</b><b><font color="#990000">*</font></b><b> e</b><b><font color="#990000">)</font></b><b><font color="#990000">;</font></b><b>
    </b><b><font color="#009900">void</font></b><b> </b><b><font color="#000000">print</font></b><b><font color="#990000">(</font></b><b><font color="#990000">)</font></b><b> </b><b><font color="#0000ff">const</font></b><b><font color="#990000">;</font></b><b>
 </b><b><font color="#0000ff">private</font></b><b><font color="#990000">:</font></b><b>
    string name</b><b><font color="#990000">;</font></b><b>
    Employee</b><b><font color="#990000">*</font></b><b> receptionist</b><b><font color="#990000">;</font></b><b>
    Employee</b><b><font color="#990000">*</font></b><b> secretary</b><b><font color="#990000">;</font></b><b>
 </b><b><font color="#ff0000">}</font></b><b><font color="#990000">;</font></b><b>
 </b><b><i><font color="#9a1900">/**</font></i></b><b>
 </b><b><i><font color="#9a1900">   Constructs a department with a given name.</font></i></b><b>
 </b><b><i><font color="#9a1900">   @param n the department name</font></i></b><b>
 </b><b><i><font color="#9a1900">*/</font></i></b><b>
 Department</b><b><font color="#990000">:</font></b><b><font color="#990000">:</font></b><b><font color="#000000">Department</font></b><b><font color="#990000">(</font></b><b>string n</b><b><font color="#990000">)</font></b><b>
 </b><b><font color="#ff0000">{</font></b><b>  name </b><b><font color="#990000">=</font></b><b> n</b><b><font color="#990000">;</font></b><b>
    receptionist </b><b><font color="#990000">=</font></b><b> NULL</b><b><font color="#990000">;</font></b><b>
    secretary </b><b><font color="#990000">=</font></b><b> NULL</b><b><font color="#990000">;</font></b><b>
 </b><b><font color="#ff0000">}</font></b><b>
 </b><b><i><font color="#9a1900">/**</font></i></b><b>
 </b><b><i><font color="#9a1900">   Sets the receptionist for this department.</font></i></b><b>
 </b><b><i><font color="#9a1900">   @param e the receptionist</font></i></b><b>
 </b><b><i><font color="#9a1900">*/</font></i></b><b>
 </b><b><font color="#009900">void</font></b><b> Department</b><b><font color="#990000">:</font></b><b><font color="#990000">:</font></b><b><font color="#000000">set_receptionist</font></b><b><font color="#990000">(</font></b><b>Employee</b><b><font color="#990000">*</font></b><b> e</b><b><font color="#990000">)</font></b><b>
 </b><b><font color="#ff0000">{</font></b><b> receptionist </b><b><font color="#990000">=</font></b><b> e</b><b><font color="#990000">;</font></b><b> </b><b><font color="#ff0000">}</font></b><b>
 </b><b><i><font color="#9a1900">/**</font></i></b><b>
 </b><b><i><font color="#9a1900">   Sets the secretary for this department.</font></i></b><b>
 </b><b><i><font color="#9a1900">   @param e the secretary</font></i></b><b>
 </b><b><i><font color="#9a1900">*/</font></i></b><b>
 </b><b><font color="#009900">void</font></b><b> Department</b><b><font color="#990000">:</font></b><b><font color="#990000">:</font></b><b><font color="#000000">set_secretary</font></b><b><font color="#990000">(</font></b><b>Employee</b><b><font color="#990000">*</font></b><b> e</b><b><font color="#990000">)</font></b><b>
 </b><b><font color="#ff0000">{</font></b><b> secretary </b><b><font color="#990000">=</font></b><b> e</b><b><font color="#990000">;</font></b><b> </b><b><font color="#ff0000">}</font></b><b>
 </b><b><i><font color="#9a1900">/**</font></i></b><b>
 </b><b><i><font color="#9a1900">   Prints a description of this department.</font></i></b><b>
 </b><b><i><font color="#9a1900">*/</font></i></b><b>
 </b><b><font color="#009900">void</font></b><b> Department</b><b><font color="#990000">:</font></b><b><font color="#990000">:</font></b><b><font color="#000000">print</font></b><b><font color="#990000">(</font></b><b><font color="#990000">)</font></b><b> </b><b><font color="#0000ff">const</font></b><b>
 </b><b><font color="#ff0000">{</font></b><b>  cout </b><b><font color="#990000">&lt;</font></b><b><font color="#990000">&lt;</font></b><b> </b><b><font color="#ff0000">"Name: "</font></b><b> </b><b><font color="#990000">&lt;</font></b><b><font color="#990000">&lt;</font></b><b> name </b><b><font color="#990000">&lt;</font></b><b><font color="#990000">&lt;</font></b><b> </b><b><font color="#ff0000">"\n"</font></b><b>
         </b><b><font color="#990000">&lt;</font></b><b><font color="#990000">&lt;</font></b><b> </b><b><font color="#ff0000">"Receptionist: "</font></b><b><font color="#990000">;</font></b><b>
    </b><b><font color="#000000">if</font></b><b> </b><b><font color="#990000">(</font></b><b>receptionist </b><b><font color="#990000">=</font></b><b><font color="#990000">=</font></b><b> NULL</b><b><font color="#990000">)</font></b><b> cout </b><b><font color="#990000">&lt;</font></b><b><font color="#990000">&lt;</font></b><b> </b><b><font color="#ff0000">"None"</font></b><b><font color="#990000">;</font></b><b>
    </b><b><font color="#0000ff">else</font></b><b>
       cout </b><b><font color="#990000">&lt;</font></b><b><font color="#990000">&lt;</font></b><b> receptionist</b><b><font color="#990000">-</font></b><b><font color="#990000">&gt;</font></b><b><font color="#000000">get_name</font></b><b><font color="#990000">(</font></b><b><font color="#990000">)</font></b><b> </b><b><font color="#990000">&lt;</font></b><b><font color="#990000">&lt;</font></b><b> </b><b><font color="#ff0000">" "</font></b><b>
            </b><b><font color="#990000">&lt;</font></b><b><font color="#990000">&lt;</font></b><b> receptionist</b><b><font color="#990000">-</font></b><b><font color="#990000">&gt;</font></b><b><font color="#000000">get_salary</font></b><b><font color="#990000">(</font></b><b><font color="#990000">)</font></b><b><font color="#990000">;</font></b><b>
    cout </b><b><font color="#990000">&lt;</font></b><b><font color="#990000">&lt;</font></b><b> </b><b><font color="#ff0000">"\nSecretary: "</font></b><b><font color="#990000">;</font></b><b>
    </b><b><font color="#000000">if</font></b><b> </b><b><font color="#990000">(</font></b><b>secretary </b><b><font color="#990000">=</font></b><b><font color="#990000">=</font></b><b> NULL</b><b><font color="#990000">)</font></b><b> cout </b><b><font color="#990000">&lt;</font></b><b><font color="#990000">&lt;</font></b><b> </b><b><font color="#ff0000">"None"</font></b><b><font color="#990000">;</font></b><b>
    </b><b><font color="#0000ff">else</font></b><b> </b><b><font color="#000000">if</font></b><b> </b><b><font color="#990000">(</font></b><b>secretary </b><b><font color="#990000">=</font></b><b><font color="#990000">=</font></b><b> receptionist</b><b><font color="#990000">)</font></b><b> cout </b><b><font color="#990000">&lt;</font></b><b><font color="#990000">&lt;</font></b><b> </b><b><font color="#ff0000">"Same"</font></b><b><font color="#990000">;</font></b><b>
    </b><b><font color="#0000ff">else</font></b><b> cout </b><b><font color="#990000">&lt;</font></b><b><font color="#990000">&lt;</font></b><b> secretary</b><b><font color="#990000">-</font></b><b><font color="#990000">&gt;</font></b><b><font color="#000000">get_name</font></b><b><font color="#990000">(</font></b><b><font color="#990000">)</font></b><b> </b><b><font color="#990000">&lt;</font></b><b><font color="#990000">&lt;</font></b><b> </b><b><font color="#ff0000">" "</font></b><b>
              </b><b><font color="#990000">&lt;</font></b><b><font color="#990000">&lt;</font></b><b> secretary</b><b><font color="#990000">-</font></b><b><font color="#990000">&gt;</font></b><b><font color="#000000">get_salary</font></b><b><font color="#990000">(</font></b><b><font color="#990000">)</font></b><b><font color="#990000">;</font></b><b>      </b><b><br></b><b>    cout </b><b><font color="#990000">&lt;</font></b><b><font color="#990000">&lt;</font></b><b> </b><b><font color="#ff0000">"\n"</font></b><b><font color="#990000">;</font></b><b>
 </b><b><font color="#ff0000">}</font></b><b>
 
 </b><b><font color="#009900">int</font></b><b> </b><b><font color="#000000">main</font></b><b><font color="#990000">(</font></b><b><font color="#990000">)</font></b><b>
 </b><b><font color="#ff0000">{</font></b><b>  Department </b><b><font color="#000000">shipping</font></b><b><font color="#990000">(</font></b><b><font color="#ff0000">"Shipping"</font></b><b><font color="#990000">)</font></b><b><font color="#990000">;</font></b><b>
    Department </b><b><font color="#000000">qc</font></b><b><font color="#990000">(</font></b><b><font color="#ff0000">"Quality Control"</font></b><b><font color="#990000">)</font></b><b><font color="#990000">;</font></b><b>
    Employee</b><b><font color="#990000">*</font></b><b> harry </b><b><font color="#990000">=</font></b><b> </b><b><font color="#0000ff">new</font></b><b> </b><b><font color="#000000">Employee</font></b><b><font color="#990000">(</font></b><b><font color="#ff0000">"Hacker, Harry"</font></b><b><font color="#990000">,</font></b><b> </b><b><font color="#993399">45000</font></b><b><font color="#990000">)</font></b><b><font color="#990000">;</font></b><b>
    shipping</b><b><font color="#990000">.</font></b><b><font color="#000000">set_secretary</font></b><b><font color="#990000">(</font></b><b>harry</b><b><font color="#990000">)</font></b><b><font color="#990000">;</font></b><b>
    Employee</b><b><font color="#990000">*</font></b><b> tina </b><b><font color="#990000">=</font></b><b> </b><b><font color="#0000ff">new</font></b><b> </b><b><font color="#000000">Employee</font></b><b><font color="#990000">(</font></b><b><font color="#ff0000">"Tester, Tina"</font></b><b><font color="#990000">,</font></b><b> </b><b><font color="#993399">50000</font></b><b><font color="#990000">)</font></b><b><font color="#990000">;</font></b><b>
    qc</b><b><font color="#990000">.</font></b><b><font color="#000000">set_receptionist</font></b><b><font color="#990000">(</font></b><b>tina</b><b><font color="#990000">)</font></b><b><font color="#990000">;</font></b><b>
    qc</b><b><font color="#990000">.</font></b><b><font color="#000000">set_secretary</font></b><b><font color="#990000">(</font></b><b>tina</b><b><font color="#990000">)</font></b><b><font color="#990000">;</font></b><b>
    tina</b><b><font color="#990000">-</font></b><b><font color="#990000">&gt;</font></b><b><font color="#000000">set_salary</font></b><b><font color="#990000">(</font></b><b><font color="#993399">55000</font></b><b><font color="#990000">)</font></b><b><font color="#990000">;</font></b><b>
    shipping</b><b><font color="#990000">.</font></b><b><font color="#000000">print</font></b><b><font color="#990000">(</font></b><b><font color="#990000">)</font></b><b><font color="#990000">;</font></b><b>
    qc</b><b><font color="#990000">.</font></b><b><font color="#000000">print</font></b><b><font color="#990000">(</font></b><b><font color="#990000">)</font></b><b><font color="#990000">;</font></b><b>
 
    </b><b><font color="#0000ff">return</font></b><b> </b><b><font color="#993399">0</font></b><b><font color="#990000">;</font></b><b>
 </b><b><font color="#ff0000">}</font></b></tt></pre>
    <hr width="100%">
  </body>
</html>
