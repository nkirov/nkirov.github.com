<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=windows-1251">
   <meta name="Author" content="Nikolay Kirov">
   <meta name="GENERATOR" content="Mozilla/4.75 [en] (Win98; U) [Netscape]">
   <title>l03</title>
</head>
<body>
<b>3. Основни комбинаторни алгоритми [1.3] - <font color="#990000">21.10.2003</font></b>
<p>*** Пермутации [1.3.1] наредени <i>n</i>-торки
<br>А. без повторения { 1 2 3 }
<br>123&nbsp; 132&nbsp; 213&nbsp; 231&nbsp; 312&nbsp; 321
<br>Общ брой <i>n</i>!
<br><b><tt>/<font color="#000099">/ permute.c - пермутации без повторения</font></tt></b>
<br><b><tt><font color="#000099">#include &lt;stdio.h></font></tt></b>
<br><b><tt><font color="#000099">#define MAXN 100</font></tt></b>
<p><b><tt><font color="#000099">const unsigned n = 3;</font></tt></b>
<br><b><tt><font color="#000099">unsigned char used[MAXN];</font></tt></b>
<br><b><tt><font color="#000099">unsigned mp[MAXN];</font></tt></b>
<p><b><tt><font color="#000099">void print(void)</font></tt></b>
<br><b><tt><font color="#000099">{ unsigned j;</font></tt></b>
<br><b><tt><font color="#000099">&nbsp; for (j=0; j&lt;n; j++) printf("%u
", mp[j]+1);</font></tt></b>
<br><b><tt><font color="#000099">&nbsp; printf("\n");</font></tt></b>
<br><b><tt><font color="#000099">}</font></tt></b>
<br><b><tt><font color="#000099">void permute(unsigned i)</font></tt></b>
<br><b><tt><font color="#000099">{ unsigned j;</font></tt></b>
<br><b><tt><font color="#000099">&nbsp; if (i>=n) { print(); return; }</font></tt></b>
<br><b><tt><font color="#000099">&nbsp; for (j=0; j&lt;n; j++)</font></tt></b>
<br><b><tt><font color="#000099">&nbsp; { if (!used[j])</font></tt></b>
<br><b><tt><font color="#000099">&nbsp;&nbsp;&nbsp; { used[j]=1; mp[i]=j;</font></tt></b>
<br><b><tt><font color="#000099">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; permute(i+1);</font></tt></b>
<br><b><tt><font color="#000099">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; used[j]=0;</font></tt></b>
<br><b><tt><font color="#000099">&nbsp;&nbsp;&nbsp; }</font></tt></b>
<br><b><tt><font color="#000099">&nbsp; }</font></tt></b>
<br><b><tt><font color="#000099">}</font></tt></b>
<br><b><tt><font color="#000099">int main()</font></tt></b>
<br><b><tt><font color="#000099">{ unsigned j;</font></tt></b>
<br><b><tt><font color="#000099">&nbsp; for (j=0; j&lt;n; j++) used[j]=0;</font></tt></b>
<br><b><tt><font color="#000099">&nbsp; permute(0);&nbsp; return 0;</font></tt></b>
<br><b><tt><font color="#000099">}</font></tt></b>
<br>Б. с повторения { 1 1 2 3 }
<br>1123&nbsp; 1132&nbsp; 1213&nbsp; 1231&nbsp; 1312&nbsp; 1321&nbsp; 2113&nbsp;
2131&nbsp; 2311&nbsp; 3112&nbsp; 3121&nbsp; 3211
<br>Общ брой <i>n</i>!/(<i>s</i><sub>1</sub>!<i>s</i><sub>2</sub>!...<i>s<sub>k</sub></i>!),
където <i>s<sub>i</sub></i>! е броят на i-тия различен елемент, участващ
в мултимножеството. В примера 4!/(2!1!1!) = 12.
<p>*** Вариации [1.3.2] нареден <i>k</i>-елементен списък измежду <i>n</i>
елемента (нареден)
<br>А. без повторения <i>n= </i>3 { 1 2 3 },&nbsp; <i>k = </i>2
<br>12&nbsp; 13&nbsp; 21&nbsp; 23&nbsp; 31&nbsp; 32
<br>Общ брой <i>n</i>!/(<i>n - k</i>)!&nbsp; В примера 3!/1 = 6.
<br>Б. с повторения <i>n= </i>3 { 1 2 3 },&nbsp; <i>k = </i>2
<br>11&nbsp; 12&nbsp; 13&nbsp; 21&nbsp; 22&nbsp; 23&nbsp; 31&nbsp; 32&nbsp;
33
<br>Общ брой <i>n<sup>k </sup></i>В примера 3<sup>2 </sup>= 9.
<br><b><tt><font color="#000099">// variate.c - вариации с повторения</font></tt></b>
<br><b><tt><font color="#000099">#include &lt;stdio.h></font></tt></b>
<br><b><tt><font color="#000099">#define MAXN 100</font></tt></b>
<p><b><tt><font color="#000099">const unsigned n = 3;</font></tt></b>
<br><b><tt><font color="#000099">const unsigned k = 2;</font></tt></b>
<br><b><tt><font color="#000099">unsigned mp[MAXN];</font></tt></b>
<p><b><tt><font color="#000099">void print(void)</font></tt></b>
<br><b><tt><font color="#000099">{ unsigned j;</font></tt></b>
<br><b><tt><font color="#000099">&nbsp; for (j=0; j&lt;k; j++) printf("%u
", mp[j]+1);</font></tt></b>
<br><b><tt><font color="#000099">&nbsp; printf("\n");</font></tt></b>
<br><b><tt><font color="#000099">}</font></tt></b>
<br><b><tt><font color="#000099">void variate(unsigned i)</font></tt></b>
<br><b><tt><font color="#000099">{ unsigned j;</font></tt></b>
<br><b><tt><font color="#000099">&nbsp; if (i>=k) { print(); return; }</font></tt></b>
<br><b><tt><font color="#000099">&nbsp; for (j=0; j&lt;n; j++)</font></tt></b>
<br><b><tt><font color="#000099">&nbsp; { mp[i]=j;</font></tt></b>
<br><b><tt><font color="#000099">&nbsp;&nbsp;&nbsp; variate(i+1);</font></tt></b>
<br><b><tt><font color="#000099">&nbsp; }</font></tt></b>
<br><b><tt><font color="#000099">}</font></tt></b>
<br><b><tt><font color="#000099">int main()</font></tt></b>
<br><b><tt><font color="#000099">{ variate(0); return 0; }</font></tt></b>
<p>*** Комбинации [1.3.3] <i>k</i>-елементно подмножество измежду <i>n</i>
елемента (ненаредено)
<p>А. без повторения <i>n= </i>5 { 1 2 3 4 5 },&nbsp; <i>k = </i>2
<br>12&nbsp; 13&nbsp; 14&nbsp; 15&nbsp; 23&nbsp; 24&nbsp; 25&nbsp; 34&nbsp;
35&nbsp; 45
<br>Общ брой <i>n</i>!/((<i>n - k</i>)!<i>k</i>!)&nbsp; В примера 5!/(3!2!)
= 10.
<br><b><tt><font color="#000099">// comb.c - комбинации без повторения</font></tt></b>
<br><b><tt><font color="#000099">#include &lt;stdio.h></font></tt></b>
<br><b><tt><font color="#000099">#define MAXN 20</font></tt></b>
<p><b><tt><font color="#000099">const unsigned n = 5;</font></tt></b>
<br><b><tt><font color="#000099">const unsigned k = 2;</font></tt></b>
<br><b><tt><font color="#000099">unsigned mp[MAXN];</font></tt></b>
<p><b><tt><font color="#000099">void print(void)</font></tt></b>
<br><b><tt><font color="#000099">{ unsigned j;</font></tt></b>
<br><b><tt><font color="#000099">&nbsp; for (j=0; j&lt;k; j++) printf("%u
", mp[j]);</font></tt></b>
<br><b><tt><font color="#000099">&nbsp; printf("\n");</font></tt></b>
<br><b><tt><font color="#000099">}</font></tt></b>
<br><b><tt><font color="#000099">void comb(unsigned i, unsigned after)</font></tt></b>
<br><b><tt><font color="#000099">{ unsigned j;</font></tt></b>
<br><b><tt><font color="#000099">&nbsp; if (i>k) return;</font></tt></b>
<br><b><tt><font color="#000099">&nbsp; for (j=after+1; j&lt;=n; j++)</font></tt></b>
<br><b><tt><font color="#000099">&nbsp; { mp[i-1]=j;</font></tt></b>
<br><b><tt><font color="#000099">&nbsp;&nbsp;&nbsp; if (i==k) print();</font></tt></b>
<br><b><tt><font color="#000099">&nbsp;&nbsp;&nbsp; comb(i+1,j);</font></tt></b>
<br><b><tt><font color="#000099">&nbsp; }</font></tt></b>
<br><b><tt><font color="#000099">}</font></tt></b>
<br><b><tt><font color="#000099">int main()</font></tt></b>
<br><b><tt><font color="#000099">{ comb(1,0);&nbsp; return 0; }</font></tt></b>
<p>Б. с повторения <i>n= </i>5 { 1 2 3 4 5 },&nbsp; <i>k = </i>2
<br>11&nbsp; 12&nbsp; 13&nbsp; 14&nbsp; 15&nbsp; 22&nbsp; 23&nbsp; 24&nbsp;
25&nbsp; 33&nbsp; 34&nbsp; 35&nbsp; 44&nbsp; 45&nbsp; 55
<br>Общ брой (<i>n </i>+ <i>k - </i>1)! / ((<i>n - </i>1)! <i>k</i>!)&nbsp;
В примера 6!/(4!2!) = 15.
<br>
<hr WIDTH="100%">
</body>
</html>
