<!DOCTYPE html PUBLIC "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
   <meta name="GENERATOR" content="Mozilla/4.75 [en] (Win98; U) [Netscape]">
   <title>l04</title>
</head>
<body>
<b>4. Нишки, симетрични многопроцесорни системи, микроядра</b>
<p>4.1 Процеси и нишки
<br>Две страни на един процес:
<br>-- субект на владеене на ресурси: процес
<br>-- обект за диспечера: нишка
<br>** Многонишкова работа -- много нишки в един процес
<br>--- <a href="zzz/4-1.gif">FIGURE 4.1</a> ---
<br>-- характеристики на процес:
<br>   - виртуално адресно пространство, където се съхранява
образа на процеса
<br>   - защитен достъп до процесори, други процеси, файлове
и I/O ресурси
<br>-- характеристики на нишка:
<br>   - състояние (готов, изпълнение, ...)
<br>   - запазен контекст, когато не е в състояние изпълнение
<br>   - стек за изпълнение - статична памет за локални променливи
<br>   - достъп до памет и ресурси на процеса, използване заедно
с другите нишки на процеса
<br>--- <a href="zzz/4-2.gif">FIGURE 4.2</a> ---
<br>-- главни предимства на нишките: по-лесно се създанва нишка, отколкото
процес; по-лесно се прекратява нишка, отколкото процес; по-лесно се превключват
нишки, отколкото процеси
<br>** Функциониране на нишките
<br>* Състояния на нишките: изпълнение, готово и блокирано (без прекратено)
<br> 4 главни операции за нишки:
<br>   - множене: раждане на нова нишка (на същия процес или
в резултат от множене на процеса)
<br>   - блокиране
<br>   - разблокиране
<br>   - завършване
<br>* Синхронизация на нишките
<br>--- <a href="zzz/4-3.gif">FIGURE 4.3</a> ---
<br>--- <a href="zzz/4-4.gif">FIGURE 4.4</a> ---
<br>* Пример: Aldus PageMaker - печат, писане, обновяване на екрана; работа
в различни прозорци, "busy" курсор
<br>** Нишки на ниво ядро и нишки на ниво потребител
<br>* Нишки на ниво потребител - ULT
<br>* Нишки на ниво ядро  - KLT
<br>--- <a href="zzz/4-6.gif">FIGURE 4.6</a> ---
<br>* Комбиниран подход
<br>** Други комбинации
<br>* Връзки много-към-много
<br>* Връзки едно-към-много
</p>
<table border cellpadding="4" width="100%">
<tr>
<td>Нишки : процеси</td>

<td>Описание</td>

<td>ОС</td>
</tr>

<tr>
<td>1 : 1</td>

<td>Всяка нишка е един процес със свое адресно пространство и ресурси</td>

<td>повечето UNIX системи</td>
</tr>

<tr>
<td>М : 1</td>

<td>Всеки процес е собственик на свое адресно пространство и динамични
ресурси. Много нишки могат да бъдат създадени и изпълнени в този процес</td>

<td>Windows NT, Solaris</td>
</tr>

<tr>
<td>1 : М</td>

<td>Една нишка може да "мигрира" от един процес на друг, което дава възмоност
нишките лесно да се местят в различни системи </td>

<td>Ra(Clouds), Emerald</td>
</tr>

<tr>
<td>М : М</td>

<td>Комбинация на предишните</td>

<td>TRIX</td>
</tr>
</table>

<hr width="100%">
<br>4.2 Симетрична многопроцесорна работа (SMP)
<br>** SMP архитектура
<br>-- Single Instruction Single Data (SISD)
<br>-- Single Instruction Multiple Data (SIMD)
<br>-- Multiple Instruction Single Data (MISD)
<br>-- Multiple Instruction Multiple Data (MIMD)
<br>--- <a href="zzz/4-8.gif">FIGURE 4.8</a> ---
<br>** SMP организация
<br>--- <a href="zzz/4-9.gif">FIGURE 4.9</a> ---
<br>** Предположения за модела на многопроцесорна ОС:
<br>-- Едновременни конкурентни процеси или нишки
<br>-- Планиране - отделно за всеки процесор
<br>-- Синхронизация - обща памет и общи резурси
<br>-- Организация на паметта
<br>-- Надежност и толеранс за грешки
<br>
<hr width="100%">
<br>4.3 Микроядра
<br>     Малко ядро на ОС което осигурява основата
за модулни продължения.
<br>** Архитектура на микроядро
<br>История: монолитна ОС, многопластова ОС, микроядро.
<br>--- <a href="zzz/4-10.gif">FIGURE 4.10</a> ---
<br>** Ползи от микроядрата:
<br>-- еднообразен интерфейс на заявките
<br>-- продължаемост на ОС с нови елементи (услуги)
<br>-- гъвкавост на ОС - лесно подмяна на елементи
<br>-- преносимост - малък код за подмяна
<br>-- надежност - малък код, надежно тестване, малък брой Application
Programming Interface (API)
<br>** Изпълнения на микроядра
<br>** Microkernel design
<br>* Проста организация на паметта
<br>--- <a href="zzz/4-11.gif">FIGURE 4.11</a> ---
<br>* Връзки между процесите - чрез съобщения, на принципа на порт-а
<br>* Организация на I/O и прекъсванията - микроядрото разпознава прекъсванията
и ги дава за обработка на потребителски процес
<br>
<hr width="100%">
<br> 
</body>
</html>
