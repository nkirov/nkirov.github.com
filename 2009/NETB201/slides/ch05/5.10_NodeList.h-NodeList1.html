<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html
	PUBLIC "-//W3C//DTD XHTML Basic 1.0//EN"
	"http://www.w3.org/TR/xhtml-basic/xhtml-basic10.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><title>NodeList1</title>
</head><body vlink="purple" text="black" bgcolor="#FFFABB" link="blue">
<h2><font face="Helvetica">Code Fragment: NodeList1</font></h2>
</center><br><dl><dd><pre>

<font color=#A000A0>template</font> &lt;<font color=#A000A0>typename</font> Object&gt;
<font color=#A000A0>class</font> NodeList {
<font color=#A000A0>protected</font>: 
  <font color=#0000FF>// ... (insert Node class definition here)</font>
<font color=#A000A0>public</font>:
  <font color=#0000FF>// ... (insert Position class definition here)</font>
<font color=#A000A0>protected</font>:                          <font color=#0000FF>// utility to convert Position to node pointer</font>
  NodePtr <font color=#000000>nodePtr</font>(<font color=#A000A0>const</font> Position& p) <font color=#A000A0>const</font> <font color=#00A000>throw</font>(InvalidPositionException) {
    <font color=#00A000>if</font> (p.node == NULL)
      <font color=#00A000>throw</font> <font color=#000000>InvalidPositionException</font>(<font color=#0000FF>"Attempt to use null position"</font>);
    <font color=#00A000>else</font> <font color=#00A000>return</font> p.node;
  }
<font color=#A000A0>protected</font>: 						<font color=#0000FF>// data members</font>
  <font color=#A000A0>int</font>       sz;        					<font color=#0000FF>// number of items</font>
  NodePtr   header;					<font color=#0000FF>// head of list sentinel</font>
  NodePtr   trailer;					<font color=#0000FF>// tail of list sentinel</font>
<font color=#A000A0>public</font>:
  <font color=#000000>NodeList</font>() {						<font color=#0000FF>// default constructor</font>
    sz = 0;
    header   = <font color=#A000A0>new</font> Node;				<font color=#0000FF>// create sentinels</font>
    trailer  = <font color=#A000A0>new</font> Node;
    header-&gt;next   = trailer;				<font color=#0000FF>// head points to trailer</font>
    trailer-&gt;prev  = header;				<font color=#0000FF>// trailer points to head</font>
  }
  <font color=#A000A0>int</font> <font color=#000000>size</font>() <font color=#A000A0>const</font> 					<font color=#0000FF>// list size</font>
    { <font color=#00A000>return</font> sz; }
  <font color=#A000A0>bool</font> <font color=#000000>isEmpty</font>() <font color=#A000A0>const</font> 					<font color=#0000FF>// is the list empty?</font>
    { <font color=#00A000>return</font> (sz == 0); }
  <font color=#A000A0>bool</font> <font color=#000000>isFirst</font>(<font color=#A000A0>const</font> Position& p) <font color=#A000A0>const</font> 		<font color=#0000FF>// is this the first?</font>
      <font color=#00A000>throw</font>(InvalidPositionException) {
    NodePtr v = <font color=#000000>nodePtr</font>(p);
    <font color=#00A000>return</font> v-&gt;prev == header;
  }
  <font color=#A000A0>bool</font> <font color=#000000>isLast</font>(<font color=#A000A0>const</font> Position& p) <font color=#A000A0>const</font> 			<font color=#0000FF>// is this the last?</font>
      <font color=#00A000>throw</font>(InvalidPositionException) {
    NodePtr v = <font color=#000000>nodePtr</font>(p);
    <font color=#00A000>return</font> v-&gt;next == trailer;
  }
  <font color=#0000FF>// ...</font>
</dl>
</body></html>
