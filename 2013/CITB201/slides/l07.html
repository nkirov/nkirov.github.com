<!DOCTYPE html PUBLIC "-//w3c//dtd html 4.0 transitional//en">
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html;
      charset=windows-1251">
    <meta name="Author" content="Nikolay Kirov">
    <meta name="GENERATOR" content="Mozilla/4.75 [en] (Win98; U)
      [Netscape]">
    <title>l07</title>
  </head>
  <body>
    <center>
      <h3> <b><font size="+1"><font size="+1">7</font>. Потоци I<br>
          </font></b></h3>
    </center>
    <img alt="" src="../b5.gif" height="18" width="20"><span
      style="color: rgb(0, 0, 0); font-family: 'Times New Roman';
      font-size: medium; font-style: normal; font-variant: normal;
      font-weight: normal; letter-spacing: normal; line-height: normal;
      orphans: auto; text-align: start; text-indent: 0px;
      text-transform: none; white-space: normal; widows: auto;
      word-spacing: 0px; -webkit-text-size-adjust: auto;
      -webkit-text-stroke-width: 0px; display: inline !important; float:
      none;">Пренасочване на входния и изходния потоци.<span
        class="Apple-converted-space">&nbsp;</span></span><br
      style="color: rgb(0, 0, 0); font-family: 'Times New Roman';
      font-size: medium; font-style: normal; font-variant: normal;
      font-weight: normal; letter-spacing: normal; line-height: normal;
      orphans: auto; text-align: start; text-indent: 0px;
      text-transform: none; white-space: normal; widows: auto;
      word-spacing: 0px; -webkit-text-size-adjust: auto;
      -webkit-text-stroke-width: 0px;">
    <b style="color: rgb(0, 0, 0); font-family: 'Times New Roman';
      font-size: medium; font-style: normal; font-variant: normal;
      letter-spacing: normal; line-height: normal; orphans: auto;
      text-align: start; text-indent: 0px; text-transform: none;
      white-space: normal; widows: auto; word-spacing: 0px;
      -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px;"><tt><font
          color="#006600">&nbsp;&nbsp;&nbsp; C:\my\&gt;myprog &lt;
          a_cin.txt</font></tt></b><span style="color: rgb(0, 0, 0);
      font-family: 'Times New Roman'; font-size: medium; font-style:
      normal; font-variant: normal; font-weight: normal; letter-spacing:
      normal; line-height: normal; orphans: auto; text-align: start;
      text-indent: 0px; text-transform: none; white-space: normal;
      widows: auto; word-spacing: 0px; -webkit-text-size-adjust: auto;
      -webkit-text-stroke-width: 0px; display: inline !important; float:
      none;"><span class="Apple-converted-space">&nbsp;</span></span><br
      style="color: rgb(0, 0, 0); font-family: 'Times New Roman';
      font-size: medium; font-style: normal; font-variant: normal;
      font-weight: normal; letter-spacing: normal; line-height: normal;
      orphans: auto; text-align: start; text-indent: 0px;
      text-transform: none; white-space: normal; widows: auto;
      word-spacing: 0px; -webkit-text-size-adjust: auto;
      -webkit-text-stroke-width: 0px;">
    <span style="color: rgb(0, 0, 0); font-family: 'Times New Roman';
      font-size: medium; font-style: normal; font-variant: normal;
      font-weight: normal; letter-spacing: normal; line-height: normal;
      orphans: auto; text-align: start; text-indent: 0px;
      text-transform: none; white-space: normal; widows: auto;
      word-spacing: 0px; -webkit-text-size-adjust: auto;
      -webkit-text-stroke-width: 0px; display: inline !important; float:
      none;">&nbsp;&nbsp;&nbsp; Вместо от клавиатурата, операционната
      система пренасочва входа от текстов файл, в случая това е файла<span
        class="Apple-converted-space">&nbsp;</span></span><b
      style="color: rgb(0, 0, 0); font-family: 'Times New Roman';
      font-size: medium; font-style: normal; font-variant: normal;
      letter-spacing: normal; line-height: normal; orphans: auto;
      text-align: start; text-indent: 0px; text-transform: none;
      white-space: normal; widows: auto; word-spacing: 0px;
      -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px;"><tt><font
          color="#000000">a_cin.txt.</font></tt></b><span style="color:
      rgb(0, 0, 0); font-family: 'Times New Roman'; font-size: medium;
      font-style: normal; font-variant: normal; font-weight: normal;
      letter-spacing: normal; line-height: normal; orphans: auto;
      text-align: start; text-indent: 0px; text-transform: none;
      white-space: normal; widows: auto; word-spacing: 0px;
      -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px;
      display: inline !important; float: none;">По този начин програмата
      за намиране на броя на думите може намери броя на думите в текстов
      файл (едно по-смислено приложение на тази програма).<span
        class="Apple-converted-space">&nbsp;</span></span><br
      style="color: rgb(0, 0, 0); font-family: 'Times New Roman';
      font-size: medium; font-style: normal; font-variant: normal;
      font-weight: normal; letter-spacing: normal; line-height: normal;
      orphans: auto; text-align: start; text-indent: 0px;
      text-transform: none; white-space: normal; widows: auto;
      word-spacing: 0px; -webkit-text-size-adjust: auto;
      -webkit-text-stroke-width: 0px;">
    <b style="color: rgb(0, 0, 0); font-family: 'Times New Roman';
      font-size: medium; font-style: normal; font-variant: normal;
      letter-spacing: normal; line-height: normal; orphans: auto;
      text-align: start; text-indent: 0px; text-transform: none;
      white-space: normal; widows: auto; word-spacing: 0px;
      -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px;"><tt><font
          color="#006600">&nbsp;&nbsp;&nbsp; C:\my\&gt;myprog &gt;
          a_cout.txt</font></tt></b><span style="color: rgb(0, 0, 0);
      font-family: 'Times New Roman'; font-size: medium; font-style:
      normal; font-variant: normal; font-weight: normal; letter-spacing:
      normal; line-height: normal; orphans: auto; text-align: start;
      text-indent: 0px; text-transform: none; white-space: normal;
      widows: auto; word-spacing: 0px; -webkit-text-size-adjust: auto;
      -webkit-text-stroke-width: 0px; display: inline !important; float:
      none;"><span class="Apple-converted-space">&nbsp;</span></span><br
      style="color: rgb(0, 0, 0); font-family: 'Times New Roman';
      font-size: medium; font-style: normal; font-variant: normal;
      font-weight: normal; letter-spacing: normal; line-height: normal;
      orphans: auto; text-align: start; text-indent: 0px;
      text-transform: none; white-space: normal; widows: auto;
      word-spacing: 0px; -webkit-text-size-adjust: auto;
      -webkit-text-stroke-width: 0px;">
    <span style="color: rgb(0, 0, 0); font-family: 'Times New Roman';
      font-size: medium; font-style: normal; font-variant: normal;
      font-weight: normal; letter-spacing: normal; line-height: normal;
      orphans: auto; text-align: start; text-indent: 0px;
      text-transform: none; white-space: normal; widows: auto;
      word-spacing: 0px; -webkit-text-size-adjust: auto;
      -webkit-text-stroke-width: 0px; display: inline !important; float:
      none;">&nbsp;&nbsp;&nbsp; Вместо на екрана, операционната система
      пренасочва изхода на текстов файл, в случая това е файла<span
        class="Apple-converted-space">&nbsp;</span></span><b
      style="color: rgb(0, 0, 0); font-family: 'Times New Roman';
      font-size: medium; font-style: normal; font-variant: normal;
      letter-spacing: normal; line-height: normal; orphans: auto;
      text-align: start; text-indent: 0px; text-transform: none;
      white-space: normal; widows: auto; word-spacing: 0px;
      -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px;"><tt><font
          color="#009900">a_cout.txt.</font></tt></b><span style="color:
      rgb(0, 0, 0); font-family: 'Times New Roman'; font-size: medium;
      font-style: normal; font-variant: normal; font-weight: normal;
      letter-spacing: normal; line-height: normal; orphans: auto;
      text-align: start; text-indent: 0px; text-transform: none;
      white-space: normal; widows: auto; word-spacing: 0px;
      -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px;
      display: inline !important; float: none;"><span
        class="Apple-converted-space"> </span></span><br>
    <br>
    <pre style="color: rgb(0, 0, 0); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: auto; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px;"><tt><b><font color="#000080">// <a href="../../NETB101/sources/ch7/words.cpp">words.cpp</a><br>#include</font></b> <font color="#FF0000">&lt;iostream&gt;
</font><b><font color="#000080">#include</font></b> <font color="#FF0000">&lt;string&gt;
</font><b><font color="#0000FF">using</font></b> <b><font color="#0000FF">namespace</font></b> std<font color="#990000">;

</font><font color="#009900">int</font> <b><font color="#000000">main</font></b><font color="#990000">()
</font><font color="#FF0000">{</font>&nbsp; <font color="#009900">int</font> count <font color="#990000">=</font> <font color="#993399">0</font><font color="#990000">;
</font>&nbsp;&nbsp; string word<font color="#990000">;
</font>&nbsp;&nbsp; <b><font color="#0000FF">while</font></b> <font color="#990000">(</font>cin <font color="#990000">&gt;&gt;</font> word<font color="#990000">)</font> count<font color="#990000">++;

</font>&nbsp;&nbsp; cout <font color="#990000">&lt;&lt;</font> count <font color="#990000">&lt;&lt;</font> <font color="#FF0000">" words.\n"</font><font color="#990000">;
</font>&nbsp;&nbsp; <b><font color="#0000FF">return</font></b> <font color="#993399">0</font><font color="#990000">;<br><br><br><b>// <a href="../../NETB101/sources/ch7/lines.cpp">lines.cpp</a></b><b><br></b><b>#include</b><b> &lt;iostream&gt;</b><b><br></b><b>#include &lt;string&gt;</b><b><br></b><b>using namespace std;</b><b><br></b><b><br></b><b>int main()</b><b><br></b><b>{  int count = 0;</b><b><br></b><b>   string lines;</b><b><br></b><b>   while (getline(cin, lines)) count++;</b><b><br></b><b>   cout &lt;&lt; count &lt;&lt; " lines.\n";</b><b><br></b><b>   return 0;</b><b><br></b><b>}</b><br><br><br><b>// <a href="../../NETB101/sources/ch7/chars.cpp">chars.cpp</a></b><b><br></b><b>#</b><b>include &lt;iostream&gt;</b><b><br></b><b>using namespace std;</b><b><br></b><b><br></b><b>int main()</b><b><br></b><b>{  int count = 0;</b><b><br></b><b>   char ch;</b><b><br></b><b>   while (cin.get(ch)) count++;</b><b><br></b><b>   cout &lt;&lt; count &lt;&lt; " chars.\n";</b><b><br></b><b>   return 0;</b><b><br></b><b>}</b><br></font></tt></pre>
    <p><img alt="" src="../b5.gif" height="18" width="20"> Четене и
      запис в текстови файлове. <br>
      ** Досега за четене от и запис във файлове - чрез пренасочване на
      стандартните вход и/или изход със средствата на операционната
      система <br>
      ** В заглавния файл <b><tt><font color="#000000">fstream</font></tt></b>
      са дефинирани обекти, функции и операции за работа с файлове. <br>
      А) Четене от файл. <br>
      * дефиниране на файлова променлива за четене - обект от класа <b><tt><font
            color="#006600">ifstream:</font></tt></b> <br>
      <b><tt><font color="#006600">&nbsp;&nbsp;&nbsp; ifstream inp_data;</font></tt></b>
      <br>
      * отваряне на файл от текущата директория с име <b><tt><font
            color="#006600">input.dat:</font></tt></b> <br>
      <b><tt><font color="#006600">&nbsp;&nbsp;&nbsp;
            inp_data.open("input.dat");</font></tt></b> <br>
      * четене от файл на: <br>
      &nbsp;- цели числа и числа с плаваща точка <br>
      <b><tt><font color="#006600">&nbsp;&nbsp; int n;</font></tt></b> <br>
      <b><tt><font color="#006600">&nbsp;&nbsp; double x;</font></tt></b>
      <br>
      <b><tt><font color="#006600">&nbsp;&nbsp; inp_data &gt;&gt; n
            &gt;&gt; x;</font></tt></b> <br>
      &nbsp;- низове <br>
      <b><tt><font color="#006600">&nbsp;&nbsp; string s;</font></tt></b>
      <br>
      <b><tt><font color="#006600">&nbsp;&nbsp; inp_data &gt;&gt;
            s;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // чете до
            разделител</font></tt></b> <br>
      <b><tt><font color="#006600">&nbsp;&nbsp; getline(inp_data, s); //
            чете цял ред</font></tt></b> <br>
      &nbsp;- символи <br>
      <b><tt><font color="#006600">&nbsp;&nbsp; char ch;</font></tt></b>
      <br>
      <b><tt><font color="#006600">&nbsp;&nbsp;
            inp_data.get(ch);&nbsp;&nbsp;&nbsp; // чете един символ</font></tt></b>
      <br>
      <b><tt><font color="#006600">&nbsp;&nbsp;
            inp_data.unget();&nbsp;&nbsp;&nbsp; // връща последния
            прочетен символ в буфера</font></tt></b> <br>
      * затваряне на файл <br>
      <b><tt><font color="#006600">&nbsp;&nbsp; inp_data.close();</font></tt></b>
    </p>
    <p>&nbsp;&nbsp;&nbsp; Пример на цяла програма. <br>
      <b><tt><font color="#000099">// readf.cpp</font></tt></b> <br>
      <b><tt><font color="#000099">#include &lt;iostream&gt;</font></tt></b>
      <br>
      <b><tt><font color="#000099">#include
            &lt;fstream&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
/*






            включване на заглавен файл */</font></tt></b> <br>
      <b><tt><font color="#000099">#include &lt;string&gt;</font></tt></b>
      <br>
      <b><tt><font color="#000099">using namespace std;</font></tt></b>
      <br>
      <b><tt><font color="#000099">int main()</font></tt></b> <br>
      <b><tt><font color="#000099">{&nbsp; ifstream in_data; /*
            дефиниране на файлова променлива за четене */</font></tt></b>
      <br>
      <b><tt><font color="#000099">&nbsp;&nbsp;
            in_data.open("readf.txt");&nbsp; /* отваряне на файла
            readf.txt */</font></tt></b> </p>
    <p><b><tt><font color="#000099">&nbsp;&nbsp; string s1, s2;</font></tt></b>
      <br>
      <b><tt><font color="#000099">&nbsp;&nbsp; getline(in_data,
            s1);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /* четене на ред */</font></tt></b>
      <br>
      <b><tt><font color="#000099">&nbsp;&nbsp; in_data &gt;&gt;
            s2;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
/*






            четене на дума */</font></tt></b> </p>
    <p><b><tt><font color="#000099">&nbsp;&nbsp; int n;</font></tt></b>
      <br>
      <b><tt><font color="#000099">&nbsp;&nbsp; double x;</font></tt></b>
      <br>
      <b><tt><font color="#000099">&nbsp;&nbsp; in_data &gt;&gt; n
            &gt;&gt;
            x;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /*
            четене на числови данни */</font></tt></b> </p>
    <p><b><tt><font color="#000099">&nbsp;&nbsp; char ch;</font></tt></b>
      <br>
      <b><tt><font color="#000099">&nbsp;&nbsp; while (!in_data.eof())</font></tt></b>
      <br>
      <b><tt><font color="#000099">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            in_data.get(ch);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            /* четене на символ */</font></tt></b> </p>
    <p><b><tt><font color="#000099">&nbsp;&nbsp;
            in_data.close();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
/*






            затваряне на файла */</font></tt></b> <br>
      <b><tt><font color="#000099">&nbsp;&nbsp; cout &lt;&lt; s1
            &lt;&lt; endl &lt;&lt; s2 &lt;&lt; " "</font></tt></b> <br>
      <b><tt><font color="#000099">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&lt;&lt;






            n &lt;&lt; " " &lt;&lt; x &lt;&lt; " " &lt;&lt; ch &lt;&lt;
            endl;</font></tt></b> <br>
      <b><tt><font color="#000099">&nbsp;&nbsp; return 0;</font></tt></b>
      <br>
      <b><tt><font color="#000099">}</font></tt></b> <br>
      <font color="#000000">Файл </font><b><tt><font color="#000099">readf.txt:</font></tt></b>
      <table bgcolor="#CCCCCC" border="" cellpadding="4">
        <tbody>
          <tr>
            <td><b><tt><font color="#000000">many happy words</font></tt></b>
              <br>
              <b><tt><font color="#000000">one_word&nbsp; 123&nbsp;
                    9.98&nbsp; N</font></tt></b></td>
          </tr>
        </tbody>
      </table>
      <table border="" cellpadding="4" width="100%">
        <tbody>
          <tr>
            <td><b><tt><font color="#993300">many happy words</font></tt></b>
              <br>
              <b><tt><font color="#993300">one_word&nbsp; 123&nbsp;
                    9.98&nbsp; N</font></tt></b></td>
          </tr>
        </tbody>
      </table>
    </p>
    <p>Б) Писане във файл. <br>
      * дефиниране на файлова променлива за писане - обект от класа <b><tt><font
            color="#006600">ofstream:</font></tt></b> <br>
      <b><tt><font color="#006600">&nbsp;&nbsp; ofstream out_data;</font></tt></b>
      <br>
      * отваряне на файл <br>
      <b><tt><font color="#006600">&nbsp;&nbsp;
            out_data.open("output.dat");</font></tt></b> <br>
      * писане във&nbsp; файл с: <br>
      &nbsp;- изходен поток <br>
      <b><tt><font color="#006600">&nbsp;&nbsp; int n = 2;</font></tt></b>
      <br>
      <b><tt><font color="#006600">&nbsp;&nbsp; double x = 1.5;</font></tt></b>
      <br>
      <b><tt><font color="#006600">&nbsp;&nbsp; string s = " Hello";</font></tt></b>
      <br>
      <b><tt><font color="#006600">&nbsp;&nbsp; out_data &lt;&lt; n
            &lt;&lt; "&nbsp; " &lt;&lt; x &lt;&lt; s;</font></tt></b> <br>
      &nbsp;- член-функция <br>
      <b><tt><font color="#006600">&nbsp;&nbsp; char ch = 'A';</font></tt></b>
      <br>
      <b><tt><font color="#006600">&nbsp;&nbsp; out_data.put(ch);</font></tt></b>
      <br>
      * затваряне на файл <br>
      <b><tt><font color="#006600">&nbsp;&nbsp; out_data.close();</font></tt></b>
    </p>
    <p>&nbsp;&nbsp;&nbsp; Пример на цяла програма. <br>
      <b><tt><font color="#000099">// writef.cpp</font></tt></b> <br>
      <b><tt><font color="#000099">#include &lt;iostream&gt;</font></tt></b>
      <br>
      <b><tt><font color="#000099">#include
            &lt;fstream&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
/*






            включване на заглавен файл */</font></tt></b> <br>
      <b><tt><font color="#000099">#include &lt;string&gt;</font></tt></b>
      <br>
      <b><tt><font color="#000099">using namespace std;</font></tt></b>
      <br>
      <b><tt><font color="#000099">int main()</font></tt></b> <br>
      <b><tt><font color="#000099">{&nbsp; ofstream out_data; /*
            дефиниране на файлова променлива за писане */</font></tt></b>
      <br>
      <b><tt><font color="#000099">&nbsp;&nbsp;
            out_data.open("writef.txt");&nbsp; /* отваряне на файла
            writef.txt */</font></tt></b> </p>
    <p><b><tt><font color="#000099">&nbsp;&nbsp; string s = "Hello";</font></tt></b>
      <br>
      <b><tt><font color="#000099">&nbsp;&nbsp; out_data &lt;&lt; s
            &lt;&lt; endl; /* писане на низ */</font></tt></b> <br>
      <b><tt><font color="#000099">&nbsp;&nbsp; int n = 5;</font></tt></b>
      <br>
      <b><tt><font color="#000099">&nbsp;&nbsp; double x = 5.5;</font></tt></b>
      <br>
      <b><tt><font color="#000099">&nbsp;&nbsp; out_data &lt;&lt; n
            &lt;&lt; " " &lt;&lt; x &lt;&lt; " "; /* писане на числови
            данни */</font></tt></b> <br>
      <b><tt><font color="#000099">&nbsp;&nbsp; char ch = 'T';</font></tt></b>
      <br>
      <b><tt><font color="#000099">&nbsp;&nbsp; out_data.put(ch); /*
            писане на символ */</font></tt></b> </p>
    <p><b><tt><font color="#000099">&nbsp;&nbsp;
            out_data.close();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
/*






            затваряне на файла */</font></tt></b> <br>
      <b><tt><font color="#000099">&nbsp;&nbsp; return 0;</font></tt></b>
      <br>
      <b><tt><font color="#000099">}</font></tt></b> <br>
      <font color="#000000">Файл <b><tt>writef.txt:</tt></b></font>
      <table bgcolor="#CCCCCC" border="" cellpadding="4">
        <tbody>
          <tr>
            <td><b><tt><font color="#000000">Hello</font></tt></b> <br>
              <b><tt><font color="#000000">5 5.5 T</font></tt></b></td>
          </tr>
        </tbody>
      </table>
    </p>
    <p>В) Четене и писане във файл. <br>
      * дефиниране на файлове променлива за четене и писане - обект от
      класа <b><tt><font color="#006600">fstream:</font></tt></b> <br>
      <b><tt><font color="#006600">&nbsp;&nbsp; fstream io_data;</font></tt></b>
      <br>
      * отваряне на файл, четене и писане - както са описани по-горе. </p>
    <p>* * Програма за четене на заплати и чертаене на диаграма. <br>
      <b><tt><font color="#000099">// readdata.cpp</font></tt></b> <br>
      <b><tt><font color="#000099"></font></tt></b></p>
    <p><br>
    </p>
    <hr width="100%"> <br>
    <img alt="" src="../b5.gif" height="18" width="20"> Низови
    (текстови) потоци. <br>
    &nbsp;&nbsp;&nbsp; В езика С++ има възможност да се чете/пише от/в
    низове вместо да се използват стандартни устройства или файлове. В
    заглавния файл <b><tt><font color="#000000">sstream</font></tt></b>
    са дефинирани обекти, функции и операции за работа с текстови
    потоци. <br>
    * Входен поток - с обект от клас <b><tt><font color="#006600">istringstream.</font></tt></b>
    <br>
    <b><tt><font color="#006600">string input = "January 23, 1881";</font></tt></b>
    <br>
    <b><tt><font color="#006600">istringstream instr(input);</font></tt></b>
    <br>
    <b><tt><font color="#006600">string month;</font></tt></b> <br>
    <b><tt><font color="#006600">int day;</font></tt></b> <br>
    <b><tt><font color="#006600">string comma;</font></tt></b> <br>
    <b><tt><font color="#006600">int year;</font></tt></b> <br>
    <b><tt><font color="#006600">instr &gt;&gt; month &gt;&gt; day
          &gt;&gt; comma &gt;&gt; year;</font></tt></b> <br>
    * Изходен поток - с обект от клас <b><tt><font color="#006600">ostringstream.</font></tt></b>
    <br>
    <b><tt><font color="#006600">ostringstream outstr;</font></tt></b> <br>
    <b><tt><font color="#006600">outstr &lt;&lt; setprecision(8)
          &lt;&lt; sqrt(2);</font></tt></b> <br>
    <b><tt><font color="#006600">string output = outstr.str();</font></tt></b>
    <p>Пример: Преобразуване на момент от време в низ. <br>
      <b><tt><font color="#000099">// readtime.cpp</font></tt></b> <br>
      <b><tt><font color="#000099">#include &lt;iostream&gt;</font></tt></b>
      <br>
      <b><tt><font color="#000099">#include &lt;sstream&gt;</font></tt></b>
      <br>
      <b><tt><font color="#000099">using namespace std;</font></tt></b>
    </p>
    <p><b><tt><font color="#000099">string int_to_string(int n)</font></tt></b>
      <br>
      <b><tt><font color="#000099">{ ostringstream outstr;</font></tt></b>
      <br>
      <b><tt><font color="#000099">&nbsp; outstr &lt;&lt; n;</font></tt></b>
      <br>
      <b><tt><font color="#000099">&nbsp; return outstr.str();</font></tt></b>
      <br>
      <b><tt><font color="#000099">}</font></tt></b> </p>
    <p><b><tt><font color="#000099">void read_time(int &amp;hours, int
            &amp;minutes)</font></tt></b> <br>
      <b><tt><font color="#000099">{ string line;</font></tt></b> <br>
      <b><tt><font color="#000099">&nbsp; getline(cin, line);</font></tt></b>
      <br>
      <b><tt><font color="#000099">&nbsp; istringstream instr(line);</font></tt></b>
      <br>
      <b><tt><font color="#000099">&nbsp; instr &gt;&gt; hours;</font></tt></b>
      <br>
      <b><tt><font color="#000099">&nbsp; minutes = 0;</font></tt></b> <br>
      <b><tt><font color="#000099">&nbsp; char ch;</font></tt></b> <br>
      <b><tt><font color="#000099">&nbsp; instr.get(ch);</font></tt></b>
      <br>
      <b><tt><font color="#000099">&nbsp; if (ch == ':') instr &gt;&gt;
            minutes;</font></tt></b> <br>
      <b><tt><font color="#000099">&nbsp;
            else&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            instr.unget();</font></tt></b> </p>
    <p><b><tt><font color="#000099">&nbsp; string suffix;</font></tt></b>
      <br>
      <b><tt><font color="#000099">&nbsp; instr &gt;&gt; suffix;</font></tt></b>
      <br>
      <b><tt><font color="#000099">&nbsp; if (suffix == "pm") hours +=
            12;</font></tt></b> <br>
      <b><tt><font color="#000099">}</font></tt></b> </p>
    <p><b><tt><font color="#000099">string time_to_string(int hours, int
            minutes, bool am_pm)</font></tt></b> <br>
      <b><tt><font color="#000099">{ string suffix;</font></tt></b> <br>
      <b><tt><font color="#000099">&nbsp; if (am_pm)</font></tt></b> <br>
      <b><tt><font color="#000099">&nbsp; { if (hours &lt; 12) suffix =
            "am";</font></tt></b> <br>
      <b><tt><font color="#000099">&nbsp;&nbsp;&nbsp; else { suffix =
            "pm"; hours -= 12; }</font></tt></b> <br>
      <b><tt><font color="#000099">&nbsp;&nbsp;&nbsp; if (hours == 0)
            hours = 12;</font></tt></b> <br>
      <b><tt><font color="#000099">&nbsp; }</font></tt></b> <br>
      <b><tt><font color="#000099">&nbsp; string result =
            int_to_string(hours) + ":";</font></tt></b> <br>
      <b><tt><font color="#000099">&nbsp; if (minutes &lt; 10) result =
            result + "0";</font></tt></b> <br>
      <b><tt><font color="#000099">&nbsp; result = result +
            int_to_string(minutes);</font></tt></b> <br>
      <b><tt><font color="#000099">&nbsp; if (am_pm) result = result + "
            " + suffix;</font></tt></b> <br>
      <b><tt><font color="#000099">&nbsp; return result;</font></tt></b>
      <br>
      <b><tt><font color="#000099">}</font></tt></b> </p>
    <p><b><tt><font color="#000099">int main()</font></tt></b> <br>
      <b><tt><font color="#000099">{ cout &lt;&lt; "Please enter the
            time: ";</font></tt></b> <br>
      <b><tt><font color="#000099">&nbsp; int hours, minutes;</font></tt></b>
      <br>
      <b><tt><font color="#000099">&nbsp; read_time(hours, minutes);</font></tt></b>
    </p>
    <p><b><tt><font color="#000099">&nbsp; cout &lt;&lt; "Using
            am/pm:&nbsp;&nbsp; " &lt;&lt; time_to_string(hours, minutes,
            true) &lt;&lt; "\n";</font></tt></b> <br>
      <b><tt><font color="#000099">&nbsp; cout &lt;&lt; "Military time:
            " &lt;&lt; time_to_string(hours, minutes, false) &lt;&lt;
            "\n";</font></tt></b> <br>
      <b><tt><font color="#000099">&nbsp; return 0;</font></tt></b> <br>
      <b><tt><font color="#000099">}</font></tt></b>
      <table border="" cellpadding="4" width="100%">
        <tbody>
          <tr>
            <td><b><tt><font color="#993300">Please enter the time:
                    10:20 pm</font></tt></b> <br>
              <b><tt><font color="#993300">Using am/pm:&nbsp;&nbsp;
                    10:20 pm</font></tt></b> <br>
              <b><tt><font color="#993300">Military time: 22:20</font></tt></b></td>
          </tr>
        </tbody>
      </table>
    </p>
    <b><tt><font color="#000099"></font></tt></b>
    <p> </p>
    <hr width="100%">
  </body>
</html>
