<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <title>lecture_9</title>
  </head>
  <body>
    <h2>Класове<br>
    </h2>
    <p> ** В лекциите до тук за класовете са разгледани: <br>
      - конструиране на обект: <b><tt><font color="#009900">Employee
            harry("Hacher, Harry", 350);</font></tt></b> <br>
      <font color="#000000">- модифициране на обект: </font><b><tt><font
            color="#009900">harry.set_salary(380);</font></tt></b> <br>
      <font color="#000000">- извеждане на информация за обект:</font><b><tt><font
            color="#009900"> cout &lt;&lt; harry.get_name();</font></tt></b>
      <br>
      Въведени са и основните понятия конструктор, член-функция и
      операция точка. <br>
    </p>
    <hr width="100%">** Обособяване на класове. <br>
    Ще разгледаме задача, която се решава без използване на клас и след
    това с дефиниране и използване на подходящ клас. <br>
    Пример: Чете се информация за компютри, съдържаща:
    <table cols="2" width="100%">
      <tbody>
        <tr>
          <td valign="TOP">
            <table border="" cellpadding="4" cellspacing="0">
              <tbody>
                <tr>
                  <td>име на модел</td>
                  <td><b><tt><font color="#006600">name</font></tt></b></td>
                  <td><b><tt>OmniBook XE</tt></b></td>
                </tr>
                <tr>
                  <td>цена</td>
                  <td><b><tt><font color="#006600">price</font></tt></b></td>
                  <td><b><tt>5660</tt></b></td>
                </tr>
                <tr>
                  <td>оценка</td>
                  <td><b><tt><font color="#006600">score</font></tt></b></td>
                  <td><b><tt>76</tt></b></td>
                </tr>
              </tbody>
            </table>
          </td>
          <td> <b><tt>OmniBook XE</tt></b> <br>
            <b><tt>5660</tt></b> <br>
            <b><tt>76</tt></b> <br>
            <b><tt>ACMA P300</tt></b> <br>
            <b><tt>1095</tt></b> <br>
            <b><tt>75</tt></b> <br>
            <b><tt>AMAX Poewrstation</tt></b> <br>
            <b><tt>1999</tt></b> <br>
            <b><tt>78</tt></b> </td>
        </tr>
      </tbody>
    </table>
    Търси се продукта с най-голямо отношение оценка/цена. <br>
    Първо програмно решение - без използване на класове. <br>
    <b><tt><font color="#000099">// <a
            href="../../sources/ch6/bestval.cpp">bestval.cpp</a></font></tt></b><a
      href="../../sources/ch6/bestval.cpp"> </a><br>
    <b><tt><font color="#000099">#include &lt;iostream&gt;</font></tt></b>
    <br>
    <b><tt><font color="#000099">#include &lt;string&gt;</font></tt></b>
    <br>
    <b><tt><font color="#000099">using namespace std;</font></tt></b>
    <p><b><tt><font color="#000099">int main()</font></tt></b> <br>
      <b><tt><font color="#000099">{&nbsp; string best_name = "";</font></tt></b>
      <br>
      <b><tt><font color="#000099">&nbsp;&nbsp; double best_price = 0;</font></tt></b>
      <br>
      <b><tt><font color="#000099">&nbsp;&nbsp; int best_score = 0;</font></tt></b>
      <br>
      <b><tt><font color="#000099">&nbsp;&nbsp; bool more = true;</font></tt></b>
      <br>
      <b><tt><font color="#000099">&nbsp;&nbsp; while (more)</font></tt></b>
      <br>
      <b><tt><font color="#000099">&nbsp;&nbsp; {&nbsp; string
            next_name;</font></tt></b> <br>
      <b><tt><font color="#000099">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; double
            next_price;</font></tt></b> <br>
      <b><tt><font color="#000099">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int
            next_score;</font></tt></b> <br>
      <b><tt><font color="#000099">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cout
            &lt;&lt; "Please enter the model name: ";</font></tt></b> <br>
      <b><tt><font color="#000099">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            getline(cin, next_name);</font></tt></b> <br>
      <b><tt><font color="#000099">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cout
            &lt;&lt; "Please enter the price: ";</font></tt></b> <br>
      <b><tt><font color="#000099">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cin
            &gt;&gt; next_price;</font></tt></b> <br>
      <b><tt><font color="#000099">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cout
            &lt;&lt; "Please enter the score: ";</font></tt></b> <br>
      <b><tt><font color="#000099">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cin
            &gt;&gt; next_score;</font></tt></b> <br>
      <b><tt><font color="#000099">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; string
            remainder; /* read remainder of line */</font></tt></b> <br>
      <b><tt><font color="#000099">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            getline(cin, remainder);</font></tt></b> <br>
      <b><tt><font color="#000099">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if
            (next_price != 0)</font></tt></b> <br>
      <b><tt><font color="#000099">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            {&nbsp; if (best_price == 0 or</font></tt></b> <br>
      <b><tt><font color="#000099">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
next_score/next_price












            &gt; best_score/best_price)</font></tt></b> <br>
      <b><tt><font color="#000099">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
{&nbsp;












            best_name = next_name;</font></tt></b> <br>
      <b><tt><font color="#000099">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
best_score












            = next_score;</font></tt></b> <br>
      <b><tt><font color="#000099">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
best_price












            = next_price;</font></tt></b> <br>
      <b><tt><font color="#000099">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;












            }</font></tt></b> <br>
      <b><tt><font color="#000099">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</font></tt></b>
      <br>
      <b><tt><font color="#000099">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cout
            &lt;&lt; "More data? (y/n) ";</font></tt></b> <br>
      <b><tt><font color="#000099">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; string
            answer;</font></tt></b> <br>
      <b><tt><font color="#000099">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            getline(cin, answer);</font></tt></b> <br>
      <b><tt><font color="#000099">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if
            (answer != "y") more = false;</font></tt></b> <br>
      <b><tt><font color="#000099">&nbsp;&nbsp; }</font></tt></b> <br>
      <b><tt><font color="#000099">&nbsp;&nbsp; cout &lt;&lt; "The best
            bang for the buck is " &lt;&lt; best_name</font></tt></b> <br>
      <b><tt><font color="#000099">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            &lt;&lt; " (Score: " &lt;&lt; best_score</font></tt></b> <br>
      <b><tt><font color="#000099">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            &lt;&lt; " Price: " &lt;&lt; best_price &lt;&lt; ")\n";</font></tt></b>
      <br>
      <b><tt><font color="#000099">&nbsp;&nbsp; return 0;</font></tt></b>
      <br>
      <b><tt><font color="#000099">}</font></tt></b><br>
    </p>
    <p>Множествата от променливи за име, цена и оценка описват един
      продукт и можем да ги обединим в един клас.<br>
    </p>
    <p>** Интерфейс и капсулиране, членове-функции. <br>
      Интерфейсът на класа се състои от всички членове-функции, които ще
      се прилагат за обектите от този клас.<br>
    </p>
    <ul>
      <li><font size="+1">
          <blockquote>
            <pre><span style="color: rgb(51, 51, 255);">class</span> Product {<br><span style="color: rgb(51, 51, 255);">public:</span><br>   Product();<br>   <span style="color: rgb(51, 51, 255);">void</span> read();<br>   <span style="color: rgb(51, 51, 255);">bool</span> is_better_than(Product b) <span style="color: rgb(51, 51, 255);">const</span>;<br>   <span style="color: rgb(51, 51, 255);">void</span> print() <span style="color: rgb(51, 51, 255);">const</span>;<br><span style="color: rgb(51, 51, 255);">private:</span><br>   <i>implementation details</i><br>};<br></pre>
          </blockquote>
        </font></li>
    </ul>
    <p>Второ програмно решение на задачата с използване на класове. <br>
      <b><tt><font color="#000099">// <a
              href="../../sources/ch6/product2.cpp">product2.cpp</a></font></tt></b><a
href="file:///C:/Documents%20and%20Settings/Kirov/My%20Documents/GitHub/nkirov.github.com/2014/NETB101/sources/ch6/product2.cpp">
      </a><br>
      <b><tt><font color="#000099">#include &lt;iostream&gt;</font></tt></b>
      <br>
      <b><tt><font color="#000099">#include &lt;string&gt;</font></tt></b>
      <br>
      <b><tt><font color="#000099">using namespace std;</font></tt></b>
    </p>
    <p><b><tt><font color="#3333FF">/* ДЕФИНИЦИЯ НА КЛАСА */</font></tt></b>
      <br>
      <b><tt><font color="#000099">class Product&nbsp; {</font></tt></b>
      <br>
      <b><tt><font color="#000099">public:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;












          </font><font color="#3333FF">/* интерфейс, открита част */</font></tt></b>
      <br>
      <b><tt><font color="#3333FF">/* декларации на член-функциите на
            класа */</font></tt></b> <br>
      <b><tt><font color="#000099">&nbsp;&nbsp;
Product();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font
            color="#3333FF">/* създава нов продукт */</font></tt></b> <br>
      <b><tt><font color="#000099">&nbsp;&nbsp; void
read();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font
            color="#3333FF">/* чете
            продукт&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; */</font></tt></b>
      <br>
      <b><tt><font color="#000099">&nbsp;&nbsp; bool
            is_better_than(Product b) const;</font><font color="#3333FF">/*











            сравнява продукти */</font></tt></b> <br>
      <b><tt><font color="#000099">&nbsp;&nbsp; void print()
const;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font
            color="#3333FF">/* отпечатва продукт&nbsp;&nbsp; */</font></tt></b>
      <br>
      <b><tt><font color="#000099">private:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;












          </font><font color="#3333FF">/* капсулиране, скрита част */</font></tt></b>
      <br>
      <b><tt><font color="#000099">&nbsp;&nbsp; string
name;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font
            color="#3333FF">/* скрити данни */</font></tt></b> <br>
      <b><tt><font color="#000099">&nbsp;&nbsp; double
price;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font
            color="#3333FF">/* скрити данни */</font></tt></b> <br>
      <b><tt><font color="#000099">&nbsp;&nbsp; int
score;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font
            color="#3333FF">/* скрити данни */</font></tt></b> <br>
      <b><tt><font color="#000099">};</font></tt></b> <br>
      <b><tt><font color="#3333FF">/* ИЗПОЛЗВАНЕ НА КЛАСА */</font></tt></b>
      <br>
      <b><tt><font color="#000099">int main()</font></tt></b> <br>
      <b><tt><font color="#000099">{&nbsp; Product
            best;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </font><font
            color="#3333FF">/* дефиниране на обект от класа */</font></tt></b>
      <br>
      <b><tt><font color="#000099">&nbsp;&nbsp; bool more = true;</font></tt></b>
      <br>
      <b><tt><font color="#000099">&nbsp;&nbsp; while (more)</font></tt></b>
      <br>
      <b><tt><font color="#000099">&nbsp;&nbsp; {&nbsp; Product next;</font></tt></b>
      <br>
      <b><tt><font color="#000099">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            next.read();&nbsp;&nbsp;&nbsp; </font><font color="#3333FF">/*











            извикване на член-функция на класа */</font></tt></b> <br>
      <b><tt><font color="#000099">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if
            (next.is_better_than(best)) best = next;</font></tt></b> <br>
      <b><tt><font color="#000099">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cout
            &lt;&lt; "More data? (y/n) ";</font></tt></b> <br>
      <b><tt><font color="#000099">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; string
            answer;</font></tt></b> <br>
      <b><tt><font color="#000099">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            getline(cin, answer);</font></tt></b> <br>
      <b><tt><font color="#000099">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if
            (answer != "y") more = false;</font></tt></b> <br>
      <b><tt><font color="#000099">&nbsp;&nbsp; }</font></tt></b> <br>
      <b><tt><font color="#000099">&nbsp;&nbsp; cout &lt;&lt; "The best
            bang for the buck is ";</font></tt></b> <br>
      <b><tt><font color="#000099">&nbsp;&nbsp;
            best.print();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font
            color="#3333FF"> /* извикване на член-функция на класа */</font></tt></b>
      <br>
      <b><tt><font color="#000099">&nbsp;&nbsp; return 0;</font></tt></b>
      <br>
      <b><tt><font color="#000099">}</font></tt></b> <br>
      <b><tt><font color="#3333FF">/* РЕАЛИЗАЦИЯ НА КЛАСА */</font></tt></b>
      <br>
      <b><tt><font color="#3333FF">/* дефиниция на конструктор */</font></tt></b>
      <br>
      <b><tt><font color="#000099">Product::Product()</font></tt></b> <br>
      <b><tt><font color="#000099">{ price = 10000;</font></tt></b> <br>
      <b><tt><font color="#000099">&nbsp; score = 0;</font></tt></b> <br>
      <b><tt><font color="#000099">}</font></tt></b> <br>
      <b><tt><font color="#3333FF">/* дефиниция на член-функция мутатор
            (set-функция) */</font></tt></b> <br>
      <b><tt><font color="#000099">void Product::read()</font></tt></b>
      <br>
      <b><tt><font color="#000099">{&nbsp; cout &lt;&lt; "Please enter
            the model name: ";</font></tt></b> <br>
      <b><tt><font color="#000099">&nbsp;&nbsp; getline(cin, name);</font></tt></b>
      <br>
      <b><tt><font color="#000099">&nbsp;&nbsp; cout &lt;&lt; "Please
            enter the price: ";</font></tt></b> <br>
      <b><tt><font color="#000099">&nbsp;&nbsp; cin &gt;&gt; price;</font></tt></b>
      <br>
      <b><tt><font color="#000099">&nbsp;&nbsp; cout &lt;&lt; "Please
            enter the score: ";</font></tt></b> <br>
      <b><tt><font color="#000099">&nbsp;&nbsp; cin &gt;&gt; score;</font></tt></b>
      <br>
      <b><tt><font color="#000099">&nbsp;&nbsp; string remainder;</font></tt></b>
      <br>
      <b><tt><font color="#000099">&nbsp;&nbsp; getline(cin, remainder);</font></tt></b>
      <br>
      <b><tt><font color="#000099">}</font></tt></b> <br>
      <b><tt><font color="#3333FF">/* дефиниция на член-функции за
            достъп (get-функция) */</font></tt></b> <br>
      <b><tt><font color="#000099">bool Product::is_better_than(Product
            b) const</font></tt></b> <br>
      <b><tt><font color="#000099">{&nbsp; if (price == 0) return false;</font></tt></b>
      <br>
      <b><tt><font color="#000099">&nbsp;&nbsp;&nbsp; if (b.price == 0)
            return true;</font></tt></b> <br>
      <b><tt><font color="#000099">&nbsp;&nbsp;&nbsp; if (score/price
            &gt; b.score/b.price) return true;</font></tt></b> <br>
      <b><tt><font color="#000099">&nbsp;&nbsp;&nbsp; return false;</font></tt></b>
      <br>
      <b><tt><font color="#000099">}</font></tt></b> <br>
      <b><tt><font color="#3333FF">/* дефиниция на член-функции за
            достъп (get-функция) */</font></tt></b> <br>
      <b><tt><font color="#000099">void Product::print() const</font></tt></b>
      <br>
      <b><tt><font color="#000099">{ cout &lt;&lt; name</font></tt></b>
      <br>
      <b><tt><font color="#000099">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            &lt;&lt; " Price: " &lt;&lt; price</font></tt></b> <br>
      <b><tt><font color="#000099">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            &lt;&lt; " Score: " &lt;&lt; score &lt;&lt; "\n";</font></tt></b>
      <br>
      <b><tt><font color="#000099">}</font></tt></b> <br>
      <b><tt><font color="#3333FF">/* КРАЙ на файла, съдържащ текста на
            програмата */</font></tt></b>&nbsp;</p>
    <p> - set-функции (мутатори) - променят (стойността на) неявния си
      параметър; <br>
      <b><tt><font color="#000099">&nbsp;&nbsp;&nbsp; void read();</font></tt></b>
      <br>
      - get-функции (функции за достъп) - не променят (стойността на)
      неявния си параметър, могат да се обявят като константни функции.
      <br>
      <b><tt><font color="#000099">&nbsp;&nbsp;&nbsp; void print()
            const;&nbsp;&nbsp;</font></tt></b> <br>
    </p>
    <hr size="2" width="100%"> ** Капсулиране на данните<br>
    - две секции: публична (public), частна (private)<br>
    - само конструкторът на класа и член-функциите имат достъп до
    частните членове на класа<br>
    - скриването на данните (от външни функции) се нарича капсулиране
    (encapsulation)<br>
    - капсулацията налага индиректно използване на данните - чрез
    публични член-функции, което предпазва от повреда на данните.<br>
    Пример:<br>
    <font size="+1">
      <pre><span style="color: rgb(51, 51, 255);">class</span> Time {<br><span style="color: rgb(51, 51, 255);">public:</span><br>   Time();<br>   Time(<span style="color: rgb(51, 51, 255);">int</span> h, <span style="color: rgb(51, 51, 255);">in</span>t m, <span style="color: rgb(51, 51, 255);">int</span> s);<br>   <span style="color: rgb(51, 51, 255);">void</span> add_seconds(<span style="color: rgb(51, 51, 255);">long</span> s);<br><br>   <span style="color: rgb(51, 51, 255);">long</span> seconds_from(Time t) <span style="color: rgb(51, 51, 255);">const</span>;<br>   <span style="color: rgb(51, 51, 255);">int</span> get_seconds() <span style="color: rgb(51, 51, 255);">const</span>;<br>   <span style="color: rgb(51, 51, 255);">int</span> get_minutes() <span style="color: rgb(51, 51, 255);">const</span>;<br>   <span style="color: rgb(51, 51, 255);">int</span> get_hours() <span style="color: rgb(51, 51, 255);">const</span>;<br><span style="color: rgb(51, 51, 255);">private</span>:<br>   <span style="color: rgb(51, 51, 255);">int</span> hours;   /* conjecture */<br>   <span style="color: rgb(51, 51, 255);">int</span> minutes; /* conjecture */<br>   <span style="color: rgb(51, 51, 255);">int</span> seconds; /* conjecture */<br>};</pre>
    </font>Ако имаше пряк достъп до данните, то може да се получи
    невалидно време:<br>
    <font size="+1">
      <pre>Time liftoff(19, 30, 0);<br>/* liftoff is delayed by six hours */<br>/* <b><font color="#cc0000">won't compile</font></b>, but suppose it did */<br>liftoff.hours = liftoff.hours + 6;</pre>
    </font>Получава се 25:30:00!<br>
    В класа има функция, която добавя секунди и пресмята вярно часа,
    минутите и секундите.<br>
    <hr size="2" width="100%">** Член-функции<br>
    Неявен и явен параметри на член-функция<br>
    <font size="+1">
      <blockquote>
        <pre><span style="color: rgb(51, 51, 255);">bool</span> Product::is_better_than(Product b) <span style="color: rgb(51, 51, 255);">const</span><br>{  <span style="color: rgb(51, 51, 255);">if</span> (b.price == 0) <span style="color: rgb(51, 51, 255);">return</span> <span style="color: rgb(51, 51, 255);">false</span>;<br>   <span style="color: rgb(51, 51, 255);">if</span> (price == 0) <span style="color: rgb(51, 51, 255);">return</span> <span style="color: rgb(51, 51, 255);">true</span>;<br>   <span style="color: rgb(51, 51, 255);">return</span> score / price &gt; b.score / b.price;<br>}<br></pre>
      </blockquote>
      <blockquote>
        <pre><span style="color: rgb(51, 51, 255);">if</span> (next.is_better_than(best)) ...</pre>
      </blockquote>
    </font>
    <hr width="100%">** Конструктори по подразбиране и с параметри. <br>
    * Конструкторът инициализира (задава начални стойности на) данните
    на класа. Няма тип и не връща стойност. <br>
    * Предефиниране на функции - две функции в една програма на С++
    могат да имат еднакви имена. <br>
    За да бъдат различими, те трябва да имат различен брой параметри
    или/и параметрите им да са от различен тип. <br>
    <b><tt><font color="#006600">class Employee {</font></tt></b> <br>
    <b><tt><font color="#006600">public:</font></tt></b> <br>
    <b><tt><font color="#006600">/* конструктор без параметри */</font></tt></b>
    <br>
    <b><tt><font color="#006600">&nbsp;&nbsp; Employee();</font></tt></b>
    <br>
    <b><tt><font color="#006600">/* конструктор с параметри */</font></tt></b>
    <br>
    <b><tt><font color="#006600">&nbsp;&nbsp; Employee(string emp_name,
          double init_salary);</font></tt></b> <br>
    <b><tt><font color="#006600">&nbsp;&nbsp; void set_salary(double
          new_salary);</font></tt></b> <br>
    <b><tt><font color="#006600">&nbsp;&nbsp; string get_name() const;</font></tt></b>
    <br>
    <b><tt><font color="#006600">&nbsp;&nbsp; double get_salary() const;</font></tt></b>
    <br>
    <b><tt><font color="#006600">&nbsp;&nbsp; void print() const;</font></tt></b>
    <br>
    <b><tt><font color="#006600">private:</font></tt></b> <br>
    <b><tt><font color="#006600">&nbsp;&nbsp; string name;</font></tt></b>
    <br>
    <b><tt><font color="#006600">&nbsp;&nbsp; double salary;</font></tt></b>
    <br>
    <b><tt><font color="#006600">};</font></tt></b> <br>
    <b><tt><font color="#006600">/* дефиниция на конструктора с
          параметри */</font></tt></b> <br>
    <b><tt><font color="#006600">Employee::Employee(string emp_name,
          double init_salary)</font></tt></b> <br>
    <b><tt><font color="#006600">{ name = emp_name;</font></tt></b> <br>
    <b><tt><font color="#006600">&nbsp; salary = init_salary;&nbsp; }</font></tt></b>
    <p><font color="#000000">* Полета с данни - обекти от други класове.</font>
      <br>
      <b><tt><font color="#006600">class Employee {</font></tt></b> <br>
      <b><tt><font color="#006600">public:</font></tt></b> <br>
      <b><tt><font color="#006600">&nbsp;&nbsp; Employee(string n,
            double sal, int arr, int leav);</font></tt></b> <br>
      <b><tt><font color="#006600">&nbsp;&nbsp; ...</font></tt></b> <br>
      <b><tt><font color="#006600">private:</font></tt></b> <br>
      <b><tt><font color="#006600">&nbsp;&nbsp; string name;</font></tt></b>
      <br>
      <b><tt><font color="#006600">&nbsp;&nbsp; double salary;</font></tt></b>
      <br>
      <b><tt><font color="#006600">&nbsp;&nbsp; Time arrive;</font></tt></b>
      <br>
      <b><tt><font color="#006600">&nbsp;&nbsp; Time leave;</font></tt></b>
      <br>
      <b><tt><font color="#006600">};</font></tt></b> </p>
    <p><b><tt><font color="#006600">Employee::Employee(string n, double
            sal, int arr, int leav)</font></tt></b> <br>
      <b><tt><font color="#006600">{ name = n;</font></tt></b> <br>
      <b><tt><font color="#006600">&nbsp; salary = sal;</font></tt></b>
      <br>
      <b><tt><font color="#006600">&nbsp; arrive = Time(arr, 0, 0);</font></tt></b>
      <br>
      <b><tt><font color="#006600">&nbsp; leave = Time(leav, 0, 0);</font></tt></b>
      <br>
      <b><tt><font color="#006600">}</font></tt></b> <br>
      <font color="#000000">Класът<b> <tt>Employee </tt></b></font>съдържа&nbsp;
членове-данни,












      които са обекти от клас <b><tt><font color="#000000">Time.</font></tt></b>
      <br>
    </p>
    <hr width="100%">
    <p>** Достъп до полетата с данни. <br>
      * Само членовете-функции имат достъп до скритите полета с данни. <br>
      <b><tt><font color="#009900">&nbsp;</font><font color="#006600">&nbsp;&nbsp;
string












            Employee::get_name() const</font></tt></b> <br>
      <b><tt><font color="#006600">&nbsp;&nbsp;&nbsp; { return name;</font></tt></b>
      <br>
      <b><tt><font color="#006600">&nbsp;&nbsp;&nbsp; }</font></tt></b>
      <br>
      <b><tt><font color="#006600">&nbsp;&nbsp;&nbsp; void
            Employee::set_salary(double new_salary)</font></tt></b> <br>
      <b><tt><font color="#006600">&nbsp;&nbsp;&nbsp; { salary =
            new_salary;</font></tt></b> <br>
      <b><tt><font color="#006600">&nbsp;&nbsp;&nbsp; }</font></tt></b>
      <br>
    </p>
    <p>Представянето на данните на класа е скрито от потребителя на
      класа (на интерфейса).<br>
      Пример:<br>
    </p>
    <p><font size="+1"> </font></p>
    <pre><font size="+1"><span style="color: rgb(51, 51, 255);">class</span> Time {<br><span style="color: rgb(51, 51, 255);">public:</span><br>   Time();<br>   Time(<span style="color: rgb(51, 51, 255);">int</span> h, <span style="color: rgb(51, 51, 255);">int</span> m, <span style="color: rgb(51, 51, 255);">int</span> s);<br>   <span style="color: rgb(51, 51, 255);">void</span> add_seconds(<span style="color: rgb(51, 51, 255);">long</span> s);<br><br>   <span style="color: rgb(51, 51, 255);">long</span> seconds_from(Time t) <span style="color: rgb(51, 51, 255);">const</span>;<br>   <span style="color: rgb(51, 51, 255);">int</span> get_seconds() <span style="color: rgb(51, 51, 255);">const</span>;<br>   <span style="color: rgb(51, 51, 255);">int</span> get_minutes() <span style="color: rgb(51, 51, 255);">cons</span>t;<br>   <span style="color: rgb(51, 51, 255);">int</span> get_hours() <span style="color: rgb(51, 51, 255);">const</span>;<br><span style="color: rgb(51, 51, 255);">private:</span><br>   <span style="color: rgb(51, 51, 255);">long</span> time_in_secs;<br>};<br><br>Реализацията<br></font></pre>
    <font size="+1"> </font>
    <p><font color="#000000">Реализациите (дефинициите) на
        член-функциите също са скрити за потребителя на класа.<br>
      </font>Пример:<br>
      <font size="+1"> </font></p>
    <pre><font size="+1">Time::Time(<span style="color: rgb(51, 51, 255);">int</span> hour, <span style="color: rgb(51, 51, 255);">int</span> min, <span style="color: rgb(51, 51, 255);">in</span>t sec)<br>{  time_in_secs = 60 * 60 * hour + 60 * min + sec;<br>}<br> <br><span style="color: rgb(51, 51, 255);">int</span> Time::get_minutes() <span style="color: rgb(51, 51, 255);">const</span><br>{  <span style="color: rgb(51, 51, 255);">return</span> (time_in_secs / 60) % 60;<br>}<br> <br><span style="color: rgb(51, 51, 255);">int</span> Time::seconds_from(Time t) <span style="color: rgb(51, 51, 255);">const</span><br>{  return time_in_secs - t.time_in_secs;<br>}</font></pre>
    <font size="+1"> </font>
    <hr size="2" width="100%">
    <p><font color="#000000">* Сравняване на член-функции с обикновени
        функции.</font> <br>
      <font color="#000000">Отпечатване на името и заплатата на
        служител, реализирано с три различни функции:</font> <br>
      <font color="#000000">-- член-функция с използване на достъп до
        скритите данни:</font> <br>
      <b><tt><font color="#006600">&nbsp;&nbsp; void Employee::print()
            const</font></tt></b> <br>
      <b><tt><font color="#006600">&nbsp;&nbsp; { cout &lt;&lt; "Name: "
            &lt;&lt; name &lt;&lt; "&nbsp;&nbsp;&nbsp; "</font></tt></b>
      <br>
      <b><tt><font color="#006600">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&lt;&lt;












            "Salary: " &lt;&lt; salary &lt;&lt; "\n";</font></tt></b> <br>
      <b><tt><font color="#006600">&nbsp;&nbsp; }</font></tt></b> <br>
      <font color="#000000">-- член-функция с използване на член-функции
        от същия клас:</font> <br>
      <b><tt><font color="#006600">&nbsp;&nbsp; void Employee::print()
            const</font></tt></b> <br>
      <b><tt><font color="#006600">&nbsp;&nbsp; { cout &lt;&lt; "Name: "
            &lt;&lt; get_name() &lt;&lt; "&nbsp;&nbsp;&nbsp; "</font></tt></b>
      <br>
      <b><tt><font color="#006600">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&lt;&lt;












            "Salary: " &lt;&lt; get_salary() &lt;&lt; "\n";</font></tt></b>
      <br>
      <b><tt><font color="#006600">&nbsp;&nbsp; }</font></tt></b> <br>
      <font color="#000000">-- външна за класа функция:</font> <br>
      <b><tt><font color="#009900">&nbsp;</font><font color="#006600">&nbsp;
void












            print(const Employee &amp;emp)</font></tt></b> <br>
      <b><tt><font color="#006600">&nbsp;&nbsp; { cout &lt;&lt; "Name: "
            &lt;&lt; emp.get_name() &lt;&lt; "&nbsp;&nbsp;&nbsp; "</font></tt></b>
      <br>
      <b><tt><font color="#006600">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&lt;&lt;












            "Salary: " &lt;&lt; emp.get_salary() &lt;&lt; "\n";</font></tt></b>
      <br>
      <b><tt><font color="#006600">&nbsp;&nbsp; }</font></tt></b> <br>
      Пример:<br>
    </p>
    <b><tt>// <a href="../../sources/ch6/employee.cpp">employee.cpp</a><br>
        #include &lt;iostream&gt;<br>
        using namespace std;<br>
        #include &lt;ccc_time.h&gt;<br>
        <br>
        class Employee {<br>
        public:<br>
        &nbsp;&nbsp; Employee(string employee_name, double
        initial_salary,<br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;


        int arrive_hour, int leave_hour);<br>
        <br>
        &nbsp;&nbsp; void set_salary(double new_salary);<br>
        &nbsp;&nbsp; void raise_salary(double percent);<br>
        <br>
        &nbsp;&nbsp; string get_name() const;<br>
        &nbsp;&nbsp; double get_salary() const;<br>
        &nbsp;&nbsp; void print() const;<br>
        private:<br>
        &nbsp;&nbsp; string name;<br>
        &nbsp;&nbsp; double salary;<br>
        &nbsp;&nbsp; Time arrive;<br>
        &nbsp;&nbsp; Time leave;<br>
        };<br>
        <br>
        Employee::Employee(string employee_name, double initial_salary,<br>
        &nbsp;&nbsp; int arrive_hour, int leave_hour)<br>
        {&nbsp; name = employee_name;<br>
        &nbsp;&nbsp; salary = initial_salary;<br>
        &nbsp;&nbsp; arrive = Time(arrive_hour, 0, 0);<br>
        &nbsp;&nbsp; leave = Time(leave_hour, 0, 0);<br>
        }<br>
        <br>
        void Employee::set_salary(double new_salary)<br>
        {&nbsp; salary = new_salary;&nbsp; <br>
        }&nbsp;&nbsp;&nbsp;&nbsp; <br>
        <br>
        string Employee::get_name() const<br>
        {&nbsp; return name;<br>
        }<br>
        <br>
        double Employee::get_salary() const<br>
        {&nbsp; return salary;<br>
        }<br>
        <br>
        void Employee::raise_salary(double percent)<br>
        {&nbsp; salary = salary * (1 + percent / 100);<br>
        }<br>
        <br>
        void raise_salary(Employee&amp; e, double percent)<br>
        {&nbsp; double new_salary = e.get_salary() * (1 + percent /
        100);<br>
        &nbsp;&nbsp; e.set_salary(new_salary);<br>
        }<br>
        <br>
        void Employee::print() const<br>
        {&nbsp; cout &lt;&lt; "Name: " &lt;&lt; get_name() &lt;&lt; "; "<br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;&lt; "Salary: "
        &lt;&lt; get_salary() &lt;&lt; "; "<br>
        &nbsp;&nbsp;&nbsp; &lt;&lt; "Arrive: " &lt;&lt;
        arrive.get_hour() &lt;&lt; "; "<br>
        &nbsp;&nbsp;&nbsp; &lt;&lt; "Leave: " &lt;&lt; leave.get_hour()
        &lt;&lt; "\n";<br>
        }<br>
        <br>
        void print(const Employee &amp;emp)<br>
        { cout &lt;&lt; "Name: " &lt;&lt; emp.get_name() &lt;&lt;
        "&nbsp;&nbsp;&nbsp; "<br>
        &nbsp;&nbsp;&nbsp; &lt;&lt; "Salary: " &lt;&lt; emp.get_salary()
        &lt;&lt; "\n";<br>
        }<br>
        <br>
        int main()<br>
        { Employee harry("Harry", 1000, 8, 16);<br>
        &nbsp; harry.raise_salary(10);<br>
        &nbsp; harry.print();<br>
        &nbsp; raise_salary(harry, 10);<br>
        &nbsp; cout &lt;&lt; "New salary " &lt;&lt; harry.get_salary()
        &lt;&lt; endl;<br>
        &nbsp; print(harry);<br>
        &nbsp; return 0;&nbsp;&nbsp; <br>
        }&nbsp;&nbsp;&nbsp; <br>
      </tt></b><b><tt><br>
        <br>
      </tt></b>
    <table bgcolor="black" border="2" cellpadding="4">
      <tbody>
        <tr align="center" bgcolor="#00ffff">
          <td><br>
          </td>
          <td><b><font size="+1">Явен (explicit) параметър</font></b></td>
          <td><b><font size="+1">Неявен (implicit) параметър</font></b></td>
        </tr>
        <tr align="center" bgcolor="#ffffff">
          <td><font size="+1"><b>параметър-променлива</b><br>
              (не се променя)</font></td>
          <td style="text-align: left;"><font size="+1"><span
                style="color: rgb(0, 102, 0);">По подразбиране</span><br>
              Пример: <tt><br>
                void print(Employee);<br>
                print(harry);<br>
              </tt></font></td>
          <td style="text-align: left;"><font size="+1"><span
                style="color: rgb(153, 0, 0);">Използва се </span><tt
                style="color: rgb(153, 0, 0);">const</tt><br>
              Пример: <br>
              <tt>void Employee::print() const;<br>
                harry.print();<br>
              </tt></font></td>
        </tr>
        <tr align="center" bgcolor="#ffffff">
          <td><font size="+1"><b>параметър-псевдоним</b><br>
              (може да се промени)</font></td>
          <td style="text-align: left;">
            <p><font size="+1"><span style="color: rgb(153, 0, 0);">Използва



                  се &amp;</span><br>
                Пример: <tt><br>
                  void raiseSalary(Employee&amp; e, double p);<br>
                </tt></font><font size="+1"><tt>raiseSalary(harry, 10);</tt></font><br>
            </p>
          </td>
          <td style="text-align: left;">
            <p><font size="+1"><span style="color: rgb(0, 102, 0);">По
                  подразбиране</span><br>
                Пример: <tt><br>
                  void Employee::raiseSalary(double p);<br>
                  harry.</tt></font><font size="+1"><tt>raiseSalary(10);</tt></font></p>
          </td>
        </tr>
      </tbody>
    </table>
    <hr style="width: 100%; height: 2px;">
    <p>** Разделяне програмата на:<br>
      -- заглавен файл (<a
href="file:///Users/nkirov/nkirov.github.com/2014/NETB101/sources/ch6/product.h"><b><tt>product.h</tt></b></a>),







      <br>
      -- дефиниции на функциите на класа (<a
href="file:///Users/nkirov/nkirov.github.com/2014/NETB101/sources/ch6/product.cpp"><b><tt>product.cpp</tt></b></a>),<br>
      -- използване на обекти от класа (<a
href="file:///Users/nkirov/nkirov.github.com/2014/NETB101/sources/ch6/prodtest.cpp"><b><tt>prodtest.cpp</tt></b></a>).<br>
      Разделна компилация.</p>
    <hr size="2" width="100%">
  </body>
</html>
