<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <title>l05</title>
  </head>
  <body>
    <h2><b>Управление - 1</b></h2>
    Chapter 3 - Control Flow<br>
    3.1 Statements and Blocks<br>
    3.2 If-Else<br>
    3.3 Else-If<br>
    3.4 Switch<br>
    <h3> Оператори и блокове</h3>
    <b>If-Else</b><br>
    <br>
    Операторът <tt>if </tt>се състои от 2 части - условие и тяло. <tt>if</tt>
    е съставен оператор.<br>
    <p> Пример:<br>
    </p>
    <pre><font size="+1"><span style="color: rgb(51, 51, 255);">if</span> (area &lt; 0)<br>&nbsp;&nbsp; printf(%s\n", "Error: Negative area.");</font></pre>
    <p>Когато условието е вярно, се изпълнява тялото на оператора. <br>
      Ако условието е нарушено (не е вярно), се изпълнява следващия
      оператор (след оператора <tt>if</tt>). <br>
      Тялото на <tt>if</tt> може да бъде друг оператор или блок.<br>
      Блок е група от оператори, оградени с къдрави (големи) скоби <big><tt>{}</tt></big>.<br>
      Пример:<br>
    </p>
    <pre><font size="+1"><span style="color: rgb(51, 51, 255);">if</span> (area &lt; 0) {&nbsp; </font><font size="+1"><font size="+1"><br>   printf(%s\n", "Error: Negative area.");</font><br>&nbsp;&nbsp; <span style="color: rgb(51, 51, 255);">return</span> 1;<br>}</font></pre>
    <p><i>Пример:</i><br>
      Въвежда се число и ако то е положително, се отпечатва корен
      квадратен от числото.<br>
    </p>
    <p> Операторът <tt>if/else </tt>се състои от условие и две
      алтернативи. <tt>if/else</tt> е съставен оператор.<br>
      -- Ако условието е вярно (<tt>true</tt>) се изпълнява първата
      алтернатива.<br>
      -- Ако условието не е вярно (<tt>false</tt>), се изпълнява втората
      алтернатива.<br>
    </p>
    <pre><font size="+1"><span style="color: rgb(51, 51, 255);">if</span> (area &gt;= 0)<br>&nbsp;&nbsp; printf(%s %4.2f\n", The side length is", sqrt(area));<br><span style="color: rgb(51, 51, 255);">else</span><br>&nbsp;&nbsp; </font><font size="+1"><font size="+1"><font size="+1">printf(%s\n", "Error: Negative area.");</font></font>
</font></pre>
    <p><i>Пример:</i><br>
      Въвежда се число и ако то е положително, се отпечатва корен
      квадратен от числото, ако не - съобщение за грешка. </p>
    <p><font size="+1">Операторът </font><font size="+1"><tt>if/else </tt>
        е по-добър избор в сравнение с две допълващи се условия:</font></p>
    <blockquote>
      <pre><font size="+1"><span style="color: rgb(51, 51, 255);">if</span> (area &gt;= 0) /* complementary conditions */<br>&nbsp;&nbsp; </font><font size="+1"><font size="+1">printf(%s %4.2f\n", The side length is", sqrt(area));</font><br><span style="color: rgb(51, 51, 255);">if</span> (area &lt; 0)  /* complementary conditions */<br>&nbsp;&nbsp; </font><font size="+1"><font size="+1">printf(%s\n", "Error: Negative area.");</font></font>
</pre>
    </blockquote>
    <p> </p>
    <hr size="2" width="100%"><b>Else-If</b><br>
    <br>
    <font size="+1"><tt><b><font color="#6666cc">if</font></b>
        (expression) <br>
        &nbsp;&nbsp;&nbsp; statement</tt><tt><br>
      </tt><tt><b><font color="#6666cc">else if</font></b> (expression)
        <br>
        &nbsp;&nbsp;&nbsp; statement</tt><tt><br>
      </tt><tt><b><font color="#6666cc">else if</font></b> (expression)
        <br>
        &nbsp;&nbsp;&nbsp; statement</tt><tt><br>
      </tt><tt><b><font color="#6666cc">else if</font></b> (expression)
        <br>
        &nbsp;&nbsp;&nbsp; statement</tt><tt><br>
      </tt><b><font color="#6666cc"><tt>else</tt></font></b><tt><br>
      </tt><tt>&nbsp;&nbsp;&nbsp; statement</tt></font><br>
    <p>Програмиране на алтернативи (избор на един от няколко варианта).
      <br>
      <i>Пример: </i><br>
      Да се намери стойността (в долари) на купчина <a
        href="http://en.wikipedia.org/wiki/Coins_of_the_United_States_dollar">американски






        монети</a> (1 penny = 1 цент, 1 nickel = 5 цента, 1 dime = 10
      цента, 1 quarter = 25 цента). Купчината съдържа еднакви монети. <br>
      <img alt="" src="../CITB100/slides/ch07/images/multi-branches.png"
        height="630" width="330"><br>
    </p>
    В някои случаи редът на алтернативите е важен.<br>
    <i>Пример: </i><br>
    Да се напише програма програма, която показва описание на вероятното
    въздействие на земетресение въз основа на магнитуда му по скалата на
    Рихтер.<br>
    Псевдокод:
    <pre><tt><font color="#990000">

</font>&nbsp;&nbsp; <b><font color="#0000FF">if</font></b> <font color="#990000">(</font>richter <font color="#990000">&gt;=</font> <font color="#993399">8</font><font color="#990000">)                    </font><font color="#FF0000">"Most structures fall"</font><font color="#990000">
</font>&nbsp;&nbsp; <b><font color="#0000FF">if</font></b> <font color="#990000">(</font>richter <font color="#990000">&gt;=</font> <font color="#993399">7 and </font></tt><tt><font color="#990000"><tt>richter &lt; <font color="#993399">8) </font></tt></font> <font color="#FF0000">  "Many buildings destroyed"</font><font color="#990000">
</font>&nbsp;&nbsp; <b><font color="#0000FF">if</font></b> <font color="#990000">(</font>richter <font color="#990000">&gt;=</font> <font color="#993399">6</font><font color="#990000"> and richter &lt; 7)</font>    <font color="#FF0000">"Many buildings considerably damaged, </font><font color="#FF0000">some collapse"</font><font color="#990000">
</font>&nbsp;&nbsp; <b><font color="#0000FF">if</font></b> <font color="#990000">(</font>richter <font color="#990000">&gt;=</font> <font color="#993399">4.5</font><font color="#990000"> and richter &lt; 6)</font><font color="#FF0000">  "Damage to poorly constructed buildings"</font><font color="#990000">
</font>&nbsp;&nbsp; <b><font color="#0000FF">if</font></b> <font color="#990000">(</font>richter <font color="#990000">&gt;=</font> <font color="#993399">3.5</font><font color="#990000"> and richter &lt; 4.5)</font> <font color="#FF0000">"Felt by many people, no destruction"</font><font color="#990000">
</font>&nbsp;&nbsp; <b><font color="#0000FF">if</font></b> <font color="#990000">(</font>richter <font color="#990000">&gt;=</font> <font color="#993399">0 and richter &lt; 3.5</font><font color="#990000">)</font> <font color="#FF0000"> "Generally not felt by people"</font><font color="#990000">
</font>&nbsp;&nbsp;</tt>
</pre>
    Вложени условни оператори. <br>
    <i>Пример:</i> <br>
    Задача за определяне на <a
      href="http://en.wikipedia.org/wiki/Income_tax_in_the_United_States">годишен





      данък в САЩ</a>.
    <center>За несемейни<br>
    </center>
    <table height="114" border="" cellpadding="4" cellspacing="0"
      width="857">
      <tbody>
        <tr>
          <td>Ако облагаемата сума е над</td>
          <td>но не повече от</td>
          <td>данъкът е</td>
          <td>върху сумата над</td>
        </tr>
        <tr>
          <td>0</td>
          <td>21400</td>
          <td>15%</td>
          <td>0</td>
        </tr>
        <tr>
          <td>21450</td>
          <td>51900</td>
          <td>3217.50 + 28%</td>
          <td>21450</td>
        </tr>
        <tr>
          <td>51900</td>
          <td>-</td>
          <td nowrap="nowrap">11743.50 + 31%</td>
          <td>51900</td>
        </tr>
      </tbody>
    </table>
    <center><br>
      За семейни</center>
    <table height="114" border="" cellpadding="4" cellspacing="0"
      width="860">
      <tbody>
        <tr>
          <td>Ако облагаемата сума е над</td>
          <td>но не повече от</td>
          <td>данъкът е</td>
          <td>върху сумата над</td>
        </tr>
        <tr>
          <td>0</td>
          <td>35800</td>
          <td>15%</td>
          <td>0</td>
        </tr>
        <tr>
          <td>35800</td>
          <td>86500</td>
          <td>5370.00 + 28%</td>
          <td>35800</td>
        </tr>
        <tr>
          <td>86500</td>
          <td>-</td>
          <td nowrap="nowrap">19566.00 + 31%</td>
          <td>86500</td>
        </tr>
      </tbody>
    </table>
    <br>
    <img alt="" src="../CITB100/slides/ch07/images/nested-branches.png"
      height="442" width="635"><br>
    <br>
    Двоично търсене.<br>
    <br>
    <font size="+1"><tt>/* binsearch: find x in v[0] &lt;= v[1] &lt;=
        ... &lt;= v[n-1] */ <br>
        <br>
        int binsearch(int x, int v[], int n)</tt><tt><br>
      </tt><tt>{</tt><tt><br>
      </tt><tt>&nbsp;&nbsp;&nbsp; int low, high, mid;</tt><tt><br>
      </tt><tt>&nbsp;&nbsp;&nbsp; low = 0;</tt><tt><br>
      </tt><tt>&nbsp;&nbsp;&nbsp; high = n - 1;</tt><tt><br>
      </tt><tt>&nbsp;&nbsp;&nbsp; while (low &lt;= high) {</tt><tt><br>
      </tt><tt>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; mid = (low+high)/2;
        <br>
        &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; if (x &lt; v[mid])</tt><tt><br>
      </tt><tt>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;
        high = mid + 1; <br>
        &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; else if (x &gt; v[mid])</tt><tt><br>
      </tt><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;

        low = mid + 1;</tt><tt><br>
      </tt><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        else&nbsp;&nbsp;&nbsp; /* found match */</tt><tt><br>
      </tt><tt>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;
        return mid;</tt><tt><br>
      </tt><tt>&nbsp;&nbsp;&nbsp; }</tt><tt><br>
      </tt><tt>&nbsp;&nbsp;&nbsp; return -1; /* no match */ <br>
        }</tt><tt><br>
      </tt></font><br>
    <hr size="2" width="100%"><b>Switch</b><br>
    <br>
    Синтаксис:<br>
    <font size="+1"><tt><b><font color="#6666cc">&nbsp;&nbsp;&nbsp;
            switch</font></b> (expression) {</tt><tt><br>
      </tt><tt><b><font color="#6666cc">&nbsp;&nbsp;&nbsp;
            &nbsp;&nbsp;&nbsp; case</font></b> const-expr: statements <br>
        <b><font color="#6666cc">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;
            case</font></b> const-expr: statements <br>
        <b><font color="#6666cc">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;
            default</font></b>: statements</tt></font><br>
    &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp; }<br>
    <br>
    <i>Пример: </i><br>
    Да се намери стойността (в долари) на купчина <a
      href="http://en.wikipedia.org/wiki/Coins_of_the_United_States_dollar">американски






      монети</a> (1 penny = 1 цент, 1 nickel = 5 цента, 1 dime = 10
    цента, 1 quarter = 25 цента). Купчината съдържа еднакви монети. <br>
    <br>
    Пример: <br>
    Да се преброят цифрите, разделителите и другите знаци в текстов файл
    (напр. текста на програмата).<br>
    <br>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>ebook - The C Programming Language Ritchie &amp; kernighan
      -.doc</title>
    <font size="+1"><tt>#include &lt;stdio.h&gt;<br>
        <br>
      </tt><tt>int main() /* count digits, white space, others */ <br>
        {</tt><tt><br>
      </tt><tt>&nbsp;&nbsp;&nbsp; int c, i, nwhite, nother, ndigit[10];</tt><tt><br>
      </tt><tt>&nbsp;&nbsp;&nbsp; nwhite = nother = 0; <br>
        &nbsp;&nbsp;&nbsp; for (i = 0; i &lt; 10; i++)</tt><tt><br>
      </tt><tt>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; ndigit[i] = 0;</tt><tt><br>
      </tt><tt>&nbsp;&nbsp;&nbsp; while ((c = getchar()) != EOF) {</tt><tt><br>
      </tt><tt>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; switch (c) {</tt><tt><br>
      </tt><tt>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;
        case '0': case '1': case '2': case '3': case '4': case '5': <br>
        &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; case
        '6': case '7': case '8': case '9':</tt><tt><br>
      </tt><tt>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;
        &nbsp;&nbsp;&nbsp; ndigit[c-'0']++;</tt><tt><br>
      </tt><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;

        &nbsp;&nbsp;&nbsp; break;</tt><tt><br>
      </tt><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        &nbsp;&nbsp;&nbsp; case ' ':</tt><tt><br>
      </tt><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;&nbsp;
        case '\n':</tt><tt><br>
      </tt><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        &nbsp;&nbsp;&nbsp; case '\t':</tt><tt><br>
      </tt><tt>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;
        &nbsp;&nbsp;&nbsp; nwhite++;</tt><tt><br>
      </tt><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;

        &nbsp;&nbsp;&nbsp; break;</tt><tt><br>
      </tt><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        &nbsp;&nbsp;&nbsp; default:</tt><tt><br>
      </tt><tt>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;
        &nbsp;&nbsp;&nbsp; nother++;</tt><tt><br>
      </tt><tt>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;
        &nbsp;&nbsp;&nbsp; break; <br>
        &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; }</tt><tt><br>
      </tt><tt>&nbsp;&nbsp;&nbsp; }</tt><tt><br>
      </tt><tt>&nbsp;&nbsp;&nbsp; printf("digits =");</tt><tt><br>
      </tt><tt>&nbsp;&nbsp;&nbsp; for (i = 0; i &lt; 10; i++)</tt><tt><br>
      </tt><tt>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; printf(" %d",
        ndigit[i]);</tt><tt><br>
      </tt><tt>&nbsp;&nbsp;&nbsp; printf(", white space = %d, other =
        %d\n",</tt><tt><br>
      </tt><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;

        nwhite, nother);</tt><tt><br>
      </tt><tt>&nbsp;&nbsp;&nbsp; return 0;</tt><tt><br>
      </tt><tt>}</tt></font><br>
    <br>
    Exercise 3-2. <br>
    Write a function <font size="+1"><tt>escape(s,t)</tt></font> that
    converts characters like newline and tab into visible escape
    sequences like <big><tt>\n</tt></big> and <font size="+1"><tt>\t </tt></font>as

    it copies the string <font size="+1"><tt>t</tt></font> to <font
      size="+1"><tt>s</tt></font>. Use a <font size="+1"><tt>switch</tt></font>.
    Write a function for the other direction as well, converting escape
    sequences into the real characters.<br>
    <hr size="2" width="100%">
  </body>
</html>
