<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <title>lec08a</title>
  </head>
  <body>
    <h3 align="center"> Рекурсия</h3>
    <font size="+1"><i>Пример:</i><br>
      Разгледаме триъгълни форми (числа):
      <blockquote>
        <pre>[]<br>[][]<br>[][][]</pre>
      </blockquote>
    </font> <font size="+1">n-тото триъгълно число<span
        class="Apple-converted-space">&nbsp;</span>е лицето на
      триъгълник с ширина<span class="Apple-converted-space">&nbsp;</span><span
        style="font-style: italic;">n</span> (предполагаме, че всяко</font><font
      size="+1"><span style="font-family: monospace;"> []</span></font><font
      size="+1"><span class="Apple-converted-space">&nbsp;</span>има
      лице 1).</font> <font size="+1">От картинката - третото триъгълно
      число е 6.</font>
    <ul style="color: rgb(0, 0, 0); font-family: Times; font-size:
      medium; font-style: normal; font-variant: normal; font-weight:
      normal; letter-spacing: normal; line-height: normal; orphans:
      auto; text-align: start; text-indent: 0px; text-transform: none;
      white-space: normal; widows: auto; word-spacing: 0px;
      -webkit-text-stroke-width: 0px;">
      <li><font size="+1">Ако ширината на триъгълника е 1, тогава той
          има лице 1.
          <blockquote>
            <pre> if (1 == side) return 1;<br></pre>
          </blockquote>
        </font></li>
      <li><font size="+1">За решаване на общия случай, разглеждаме тази
          картинка:
          <blockquote>
            <pre><font color="#0000ff">[]<br>[][]<br>[][][]</font><br>[][][][]</pre>
          </blockquote>
        </font></li>
      <li><font size="+1"><font size="+1">Представяме лицето на
            по-големия триъгълник като:</font>
          <blockquote>
            <pre><span style="color: rgb(51, 51, 255);">smaller_area</span> + side</pre>
          </blockquote>
        </font></li>
      <li><font size="+1">За да намерим по-малкото лице, правим по-малък
          триъгълник!&nbsp;
          <blockquote>
            <pre>int smaller_area = area(side - 1);<br></pre>
          </blockquote>
        </font></li>
    </ul>
    <ul style="color: rgb(0, 0, 0); font-family: Times; font-size:
      medium; font-style: normal; font-variant: normal; font-weight:
      normal; letter-spacing: normal; line-height: normal; orphans:
      auto; text-align: start; text-indent: 0px; text-transform: none;
      white-space: normal; widows: auto; word-spacing: 0px;
      -webkit-text-stroke-width: 0px;">
      <li><font size="+1">Как се пресмята лицено на триъгълник с ширина
          4:</font>
        <ul>
          <li><font style="color: rgb(153, 0, 0);" size="+1">Функцията<span
                class="Apple-converted-space"> </span><tt>area</tt><span
                class="Apple-converted-space"></span> прави по-малък
              триъгълник с ширина 3.</font>
            <ul>
              <li><font style="color: rgb(153, 0, 0);" size="+1">Тя вика<span
                    class="Apple-converted-space"> </span><tt>area</tt><span
                    class="Apple-converted-space"> за този триъгълник</span>.</font>
                <ul>
                  <li><font style="color: rgb(51, 51, 255);" size="+1">Тази






                      функция прави по-малък триъгълник с ширина 2.</font>
                    <ul>
                      <li><font style="color: rgb(51, 51, 255);"
                          size="+1">Тя вика<span
                            class="Apple-converted-space"> </span><tt>area</tt><span
                            class="Apple-converted-space"> </span>за
                          този триъгълник.</font>
                        <ul>
                          <li><font size="+1"><span style="color: rgb(0,
                                153, 0);">Тази функция прави по-малък
                                триъгълник с ширина 1</span>.</font></li>
                          <li style="color: rgb(0, 153, 0);"><font
                              size="+1">Тя вика&nbsp;<span
                                class="Apple-converted-space"></span><tt>area</tt><span
                                class="Apple-converted-space"> за този
                                триъгълник</span>.</font></li>
                        </ul>
                      </li>
                      <li style="color: rgb(0, 153, 0);"><font size="+1">Тази






                          функция връща 1 (за триъгълника с ширина 1).<br>
                        </font></li>
                    </ul>
                  </li>
                  <li style="color: rgb(51, 51, 255);"><font size="+1">Функцията






                      връща <tt><span class="Apple-converted-space"></span>smaller_area




                        + side</tt><span class="Apple-converted-space">
                      </span>= 1 + 2 = 3.</font></li>
                </ul>
              </li>
              <li style="color: rgb(153, 0, 0);"><font size="+1">Функцията






                  връща<span class="Apple-converted-space"> </span><tt>smaller_area














                    + side</tt><span class="Apple-converted-space"> </span>=
                  3 + 3 = 6.</font></li>
            </ul>
          </li>
          <li style="color: rgb(0, 0, 0);"><font size="+1">Функцията
              връща<span class="Apple-converted-space"> </span><tt>smaller_area














                + side</tt><span class="Apple-converted-space"> </span>=
              6 + 4 = 10.</font></li>
        </ul>
      </li>
    </ul>
    <ul style="color: rgb(0, 0, 0); font-family: Times; font-size:
      medium; font-style: normal; font-variant: normal; font-weight:
      normal; letter-spacing: normal; line-height: normal; orphans:
      auto; text-align: start; text-indent: 0px; text-transform: none;
      white-space: normal; widows: auto; word-spacing: 0px;
      -webkit-text-stroke-width: 0px;">
      <li><font size="+1">Техниката на изразяване на решение на дадена
          задача чрез решение за<span class="Apple-converted-space">&nbsp;</span><i>по-малка</i><span
            class="Apple-converted-space">&nbsp;</span>версия на същата
          задача се нарича<span class="Apple-converted-space">&nbsp;</span><i>рекурсия</i>.</font></li>
      <li><font size="+1">Има две основни изисквания, които да направят
          рекурсията успешна:</font>
        <ul>
          <li><font size="+1">Всяко рекурсивно повикване трябва да
              опрости изчислението по някакъв начин.</font></li>
          <li><font size="+1">Трябва да има специален случай, където да
              се извършат пряко най-простите изчисления.</font></li>
        </ul>
      </li>
      <li><font size="+1"><tt>area</tt><tt><span
              class="Apple-converted-space"></span></tt><span
            class="Apple-converted-space"></span></font><font size="+1"><span
            class="Apple-converted-space"> </span></font><font
          size="+1"><font size="+1">извиква сама себе си отново с
            по-малки и по-малки широчини, достигайки в накрая широчина 1</font>.</font></li>
    </ul>
    <p><tt><font size="+1">&nbsp;&nbsp;&nbsp; int area(int side)<br>
          &nbsp;&nbsp;&nbsp; {<br>
          &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; if (1 == side) return 1;<br>
          &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; int smaller_area =
          area(side - 1);<br>
          &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; return smaller_area +
          side;<br>
          &nbsp;&nbsp;&nbsp; }</font></tt><br>
    </p>
    <p>
      <meta charset="utf-8">
    </p>
    <ul style="color: rgb(0, 0, 0); font-family: Times; font-size:
      medium; font-style: normal; font-variant: normal; font-weight:
      normal; letter-spacing: normal; line-height: normal; orphans:
      auto; text-align: start; text-indent: 0px; text-transform: none;
      white-space: normal; widows: 1; word-spacing: 0px;
      -webkit-text-stroke-width: 0px;">
      <li><font style="color: rgb(0, 0, 0); font-family: Times;
          font-style: normal; font-variant: normal; font-weight: normal;
          letter-spacing: normal; line-height: normal; orphans: auto;
          text-align: start; text-indent: 0px; text-transform: none;
          white-space: normal; widows: auto; word-spacing: 0px;
          -webkit-text-stroke-width: 0px;" size="+1">Какво се случва,
          когато се пресмята лицето на триъгълник с широчина -1?<br>
        </font></li>
    </ul>
    <ul style="color: rgb(0, 0, 0); font-family: Times; font-size:
      medium; font-style: normal; font-variant: normal; font-weight:
      normal; letter-spacing: normal; line-height: normal; orphans:
      auto; text-align: start; text-indent: 0px; text-transform: none;
      white-space: normal; widows: auto; word-spacing: 0px;
      -webkit-text-stroke-width: 0px;">
      <li><font size="+1">Рекурсия наистина не е наистина необходима, за
          да се реши тази задача - това може да бъде направено с помощта
          на:</font>
        <ul>
          <li><font size="+1">прост цикъл:
              <blockquote>
                <pre>double area = 0; int i = 1;<br>for (; i &lt;= side; i++) area = area + 1;</pre>
              </blockquote>
            </font></li>
          <li><font size="+1">формула:
              <blockquote>
                <pre>side * (side + 1) / 2</pre>
              </blockquote>
            </font></li>
        </ul>
      </li>
    </ul>
    <ul style="color: rgb(0, 0, 0); font-family: Times; font-size:
      medium; font-style: normal; font-variant: normal; font-weight:
      normal; letter-spacing: normal; line-height: normal; orphans:
      auto; text-align: start; text-indent: 0px; text-transform: none;
      white-space: normal; widows: auto; word-spacing: 0px;
      -webkit-text-stroke-width: 0px;">
    </ul>
    <hr style="color: rgb(0, 0, 0); font-family: Times; font-size:
      medium; font-style: normal; font-variant: normal; font-weight:
      normal; letter-spacing: normal; line-height: normal; orphans:
      auto; text-align: start; text-indent: 0px; text-transform: none;
      white-space: normal; widows: auto; word-spacing: 0px;
      -webkit-text-stroke-width: 0px; width: 1249px; height: 2px;">
    <meta charset="utf-8">
    <span style="color: rgb(0, 0, 0); font-family: Times; font-size:
      medium; font-style: normal; font-variant: normal; font-weight:
      normal; letter-spacing: normal; line-height: normal; orphans:
      auto; text-align: start; text-indent: 0px; text-transform: none;
      white-space: normal; widows: 1; word-spacing: 0px;
      -webkit-text-stroke-width: 0px; display: inline !important; float:
      none;"><i>Пример:</i><br>
      Алгоритъм на Евклид за намиране на най-голям общ делител</span><span
      style="color: rgb(0, 0, 0); font-family: Times; font-size: medium;
      font-style: normal; font-variant: normal; font-weight: normal;
      letter-spacing: normal; line-height: normal; orphans: auto;
      text-align: start; text-indent: 0px; text-transform: none;
      white-space: normal; widows: 1; word-spacing: 0px;
      -webkit-text-stroke-width: 0px;"><span
        class="Apple-converted-space">&nbsp;</span><br>
      <br>
      <font size="+1"><span style="font-family: monospace;">// gcd.c</span></font></span><font
      style="color: rgb(0, 0, 0); font-family: Times; font-style:
      normal; font-variant: normal; font-weight: normal; letter-spacing:
      normal; line-height: normal; orphans: auto; text-align: start;
      text-indent: 0px; text-transform: none; white-space: normal;
      widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px;"
      size="+1"><span class="Apple-converted-space" style="font-family:
        monospace;"></span><br style="font-family: monospace;">
      <span style="font-family: monospace;">#include &lt;stdio.h&gt;<span
          class="Apple-converted-space"> </span><br>
      </span><span class="Apple-converted-space" style="font-family:
        monospace;"></span></font><span style="color: rgb(0, 0, 0);
      font-family: Times; font-size: medium; font-style: normal;
      font-variant: normal; font-weight: normal; letter-spacing: normal;
      line-height: normal; orphans: auto; text-align: start;
      text-indent: 0px; text-transform: none; white-space: normal;
      widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px;
      display: inline !important; float: none;"><span
        class="Apple-converted-space"></span></span><br style="color:
      rgb(0, 0, 0); font-style: normal; font-variant: normal;
      font-weight: normal; letter-spacing: normal; line-height: normal;
      orphans: auto; text-align: start; text-indent: 0px;
      text-transform: none; white-space: normal; widows: 1;
      word-spacing: 0px; -webkit-text-stroke-width: 0px; font-family:
      monospace;">
    <p style="color: rgb(0, 0, 0); font-style: normal; font-variant:
      normal; font-weight: normal; letter-spacing: normal; line-height:
      normal; orphans: auto; text-align: start; text-indent: 0px;
      text-transform: none; white-space: normal; widows: 1;
      word-spacing: 0px; -webkit-text-stroke-width: 0px; font-family:
      monospace;"><font size="+1">unsigned gcd1(unsigned a, unsigned b)</font><font
        size="+1"><span class="Apple-converted-space">&nbsp;</span><br>
      </font><font size="+1">{ unsigned swap;</font><font size="+1"><span
          class="Apple-converted-space">&nbsp;</span><br>
      </font><font size="+1">&nbsp; while (b &gt; 0) { swap = b; b =
        a%b; a = swap; }</font><font size="+1"><span
          class="Apple-converted-space">&nbsp;</span><br>
      </font><font size="+1">&nbsp; return a;</font><font size="+1"><span
          class="Apple-converted-space">&nbsp;</span><br>
      </font><font size="+1">}</font></p>
    <p style="color: rgb(0, 0, 0); font-style: normal; font-variant:
      normal; font-weight: normal; letter-spacing: normal; line-height:
      normal; orphans: auto; text-align: start; text-indent: 0px;
      text-transform: none; white-space: normal; widows: 1;
      word-spacing: 0px; -webkit-text-stroke-width: 0px; font-family:
      monospace;"><font size="+1">unsigned gcd2(unsigned a, unsigned b)</font><font
        size="+1"><span class="Apple-converted-space">&nbsp;</span><br>
      </font><font size="+1">{ <br>
        &nbsp;&nbsp;&nbsp; return (0 == b) ? a : gcd2(b, a%b); <br>
        }</font></p>
    <p style="color: rgb(0, 0, 0); font-style: normal; font-variant:
      normal; font-weight: normal; letter-spacing: normal; line-height:
      normal; orphans: auto; text-align: start; text-indent: 0px;
      text-transform: none; white-space: normal; widows: 1;
      word-spacing: 0px; -webkit-text-stroke-width: 0px; font-family:
      monospace;"><font size="+1">int main()</font><font size="+1"><span
          class="Apple-converted-space">&nbsp;</span><br>
      </font><font size="+1">{ <br>
        &nbsp;&nbsp;&nbsp; const unsigned a = 1, b = 125;</font><font
        size="+1"><span class="Apple-converted-space">&nbsp;</span><br>
      </font><font size="+1">&nbsp;&nbsp;&nbsp; printf("%d \n", gcd1(a,
        b));</font><font size="+1"><span class="Apple-converted-space">&nbsp;</span><br>
      </font><font size="+1">&nbsp; &nbsp; </font><font size="+1">printf("%d



        \n", gcd1(a, b));</font><font size="+1"><span
          class="Apple-converted-space"> </span></font><font size="+1"><span
          class="Apple-converted-space"></span><br>
      </font><font size="+1">&nbsp; &nbsp; return 0;</font><font
        size="+1"><span class="Apple-converted-space">&nbsp;</span><br>
        }<span class="Apple-converted-space"> </span></font><font
        size="+1"><br>
      </font></p>
    <hr style="color: rgb(0, 0, 0); font-family: Times; font-size:
      medium; font-style: normal; font-variant: normal; font-weight:
      normal; letter-spacing: normal; line-height: normal; orphans:
      auto; text-align: start; text-indent: 0px; text-transform: none;
      white-space: normal; widows: 1; word-spacing: 0px;
      -webkit-text-stroke-width: 0px;"><span style="color: rgb(0, 0, 0);
      font-family: Times; font-size: medium; font-style: normal;
      font-variant: normal; font-weight: normal; letter-spacing: normal;
      line-height: normal; orphans: auto; text-align: start;
      text-indent: 0px; text-transform: none; white-space: normal;
      widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px;
      display: inline !important; float: none;">Връщане от рекурсия и
      използване на променливите</span><br>
    <i>Пример:</i><br style="color: rgb(0, 0, 0); font-family: Times;
      font-size: medium; font-style: normal; font-variant: normal;
      font-weight: normal; letter-spacing: normal; line-height: normal;
      orphans: auto; text-align: start; text-indent: 0px;
      text-transform: none; white-space: normal; widows: 1;
      word-spacing: 0px; -webkit-text-stroke-width: 0px;">
    <span style="color: rgb(0, 0, 0); font-family: Times; font-size:
      medium; font-style: normal; font-variant: normal; font-weight:
      normal; letter-spacing: normal; line-height: normal; orphans:
      auto; text-align: start; text-indent: 0px; text-transform: none;
      white-space: normal; widows: 1; word-spacing: 0px;
      -webkit-text-stroke-width: 0px; display: inline !important; float:
      none;">Рекурсивно отпечатване на цифрите на число<span
        class="Apple-converted-space">&nbsp;</span></span><font
      style="color: rgb(0, 0, 0); font-family: Times; font-style:
      normal; font-variant: normal; font-weight: normal; letter-spacing:
      normal; line-height: normal; orphans: auto; text-align: start;
      text-indent: 0px; text-transform: none; white-space: normal;
      widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px;"
      size="+1"><br>
      <br>
    </font><font style="color: rgb(0, 0, 0); font-family: Times;
      font-style: normal; font-variant: normal; font-weight: normal;
      letter-spacing: normal; line-height: normal; orphans: auto;
      text-align: start; text-indent: 0px; text-transform: none;
      white-space: normal; widows: 1; word-spacing: 0px;
      -webkit-text-stroke-width: 0px;" size="+1"><span
        style="font-family: monospace;">// digit2.c</span></font><font
      style="color: rgb(0, 0, 0); font-family: Times; font-style:
      normal; font-variant: normal; font-weight: normal; letter-spacing:
      normal; line-height: normal; orphans: auto; text-align: start;
      text-indent: 0px; text-transform: none; white-space: normal;
      widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px;"
      size="+1"><span><br>
        <span style="font-family: monospace;"></span></span></font><font
      style="color: rgb(0, 0, 0); font-family: Times; font-style:
      normal; font-variant: normal; font-weight: normal; letter-spacing:
      normal; line-height: normal; orphans: auto; text-align: start;
      text-indent: 0px; text-transform: none; white-space: normal;
      widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px;"
      size="+1"><span><span style="font-family: monospace;"><font
            style="color: rgb(0, 0, 0); font-family: Times; font-style:
            normal; font-variant: normal; font-weight: normal;
            letter-spacing: normal; line-height: normal; orphans: auto;
            text-align: start; text-indent: 0px; text-transform: none;
            white-space: normal; widows: 1; word-spacing: 0px;
            -webkit-text-stroke-width: 0px;" size="+1"><span
              style="font-family: monospace;">#include &lt;stdio.h&gt;</span></font><br>
        </span></span></font><span style="color: rgb(0, 0, 0);
      font-family: Times; font-size: medium; font-style: normal;
      font-variant: normal; font-weight: normal; letter-spacing: normal;
      line-height: normal; orphans: auto; text-align: start;
      text-indent: 0px; text-transform: none; white-space: normal;
      widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px;
      display: inline !important; float: none;"></span>
    <p style="color: rgb(0, 0, 0); font-style: normal; font-variant:
      normal; font-weight: normal; letter-spacing: normal; line-height:
      normal; orphans: auto; text-align: start; text-indent: 0px;
      text-transform: none; white-space: normal; widows: 1;
      word-spacing: 0px; -webkit-text-stroke-width: 0px; font-family:
      monospace;"><font size="+1">void printN(unsigned n)</font><font
        size="+1"><span class="Apple-converted-space">&nbsp;</span><br>
      </font><font size="+1">{ <br>
        &nbsp;&nbsp;&nbsp; if (n &gt;= 10) printN(n/10);</font><font
        size="+1"><span class="Apple-converted-space">&nbsp;</span><br>
      </font><font size="+1">&nbsp; &nbsp;&nbsp;&nbsp; printf("%d \n",
        n%10);</font><font size="+1"><span class="Apple-converted-space">&nbsp;</span><br>
      </font><font size="+1">}</font><font size="+1"><span
          class="Apple-converted-space">&nbsp;</span><br>
      </font><font size="+1">int main()</font><font size="+1"><span
          class="Apple-converted-space">&nbsp;</span><br>
      </font><font size="+1">{ <br>
        &nbsp;&nbsp;&nbsp; unsigned m = 1234;</font><font size="+1"><span
          class="Apple-converted-space">&nbsp;</span><br>
      </font><font size="+1">&nbsp;&nbsp;&nbsp; printN(m);</font><font
        size="+1"><span class="Apple-converted-space">&nbsp;</span><br>
      </font><font size="+1">&nbsp;&nbsp;&nbsp; return 0;</font><font
        size="+1"><span class="Apple-converted-space">&nbsp;</span><br>
      </font><font size="+1">}</font><font size="+1"><span
          class="Apple-converted-space">&nbsp;</span></font><font
        size="+1"><br>
      </font></p>
    <span class="Apple-style-span" style="color: rgb(0, 0, 0);
      font-family: Times; font-size: medium; font-style: normal;
      font-variant: normal; font-weight: normal; letter-spacing: normal;
      line-height: normal; text-align: start; text-indent: 0px;
      text-transform: none; white-space: normal; word-spacing: 0px;
      -webkit-text-stroke-width: 0px; border-collapse: separate;
      orphans: 2; widows: 2;">
      <p><font style="color: rgb(0, 0, 0);" color="#000099"><i>Пример:</i><br>
          Пресмятане на<span class="Apple-converted-space">&nbsp;</span><span
            style="font-style: italic;">n</span>!<br>
        </font></p>
    </span><span class="Apple-style-span" style="color: rgb(0, 0, 0);
      font-size: medium; font-style: normal; font-variant: normal;
      font-weight: normal; letter-spacing: normal; line-height: normal;
      text-align: start; text-indent: 0px; text-transform: none;
      white-space: normal; word-spacing: 0px; -webkit-text-stroke-width:
      0px; border-collapse: separate; font-family: 'Times New Roman';
      orphans: 2; widows: 2;"><font size="+1"><span style="font-family:
          monospace;">// fact.c<br>
          #include &lt;stdio.h&gt;<br>
          <br>
          unsigned long fact1(unsigned i)<br>
          {<br>
          &nbsp;&nbsp;&nbsp; if (1 == i) return 1;<br>
          &nbsp;&nbsp;&nbsp; return i * fact1(i - 1);<br>
          }<br>
          <br>
          unsigned long fact2(unsigned n)<br>
          {<br>
          &nbsp;&nbsp;&nbsp; unsigned i = 1;<br>
          &nbsp;&nbsp;&nbsp; unsigned long res = 1;<br>
          &nbsp;&nbsp;&nbsp; for (; i &lt;= n; ++i)<br>
          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; res *= i;<br>
          &nbsp;&nbsp;&nbsp; return res;<br>
          }<br>
          <br>
          const unsigned n = 6;<br>
          <br>
          int main()<br>
          {<br>
          &nbsp;&nbsp;&nbsp; printf("fact1: %u! = %lu \n", n, fact1(n));<br>
          &nbsp;&nbsp;&nbsp; printf("fact2: %u! = %lu \n", n, fact2(n));<br>
          &nbsp;&nbsp;&nbsp; return 0;<br>
          }</span></font></span><span class="Apple-style-span"
      style="color: rgb(0, 0, 0); font-size: medium; font-style: normal;
      font-variant: normal; font-weight: normal; letter-spacing: normal;
      line-height: normal; text-align: start; text-indent: 0px;
      text-transform: none; white-space: normal; word-spacing: 0px;
      -webkit-text-stroke-width: 0px; border-collapse: separate;
      font-family: 'Times New Roman'; orphans: 2; widows: 2;"><br>
      <hr width="100%"><font style="color: rgb(0, 0, 0);"
        color="#000099">** Рекурсия и използване на глобални променливи<span
          class="Apple-converted-space"></span></font><font
        style="color: rgb(0, 0, 0);" color="#000099"><br>
        <font color="#000099"><i>Пример:</i><br>
        </font>За дадено естествено число<span style="font-style:
          italic;"><span class="Apple-converted-space">&nbsp;</span>n</span><span
          class="Apple-converted-space">&nbsp;</span>(<span
          style="font-style: italic;">n</span><span
          class="Apple-converted-space">&nbsp;</span>&lt; 9) да се
        отпечатат в нарастващ и намаляващ ред числата 10<sup><span
            style="font-style: italic;">k</span></sup></font><font
        style="color: rgb(0, 0, 0);" color="#000099"><span
          class="Apple-converted-space">&nbsp;</span>(0 &lt;<span
          class="Apple-converted-space">&nbsp;</span><span
          style="font-style: italic;">k</span><span
          class="Apple-converted-space">&nbsp;</span>&lt;<span
          class="Apple-converted-space">&nbsp;</span><span
          style="font-style: italic;">n</span>).<span
          class="Apple-converted-space"><span
            class="Apple-converted-space">&nbsp;</span><br>
        </span></font><font style="color: rgb(0, 0, 0);" color="#000099"><sup><span
            style="font-style: italic;"></span></sup><br>
      </font></span><span class="Apple-style-span" style="color: rgb(0,
      0, 0); font-size: medium; font-style: normal; font-variant:
      normal; font-weight: normal; letter-spacing: normal; line-height:
      normal; text-align: start; text-indent: 0px; text-transform: none;
      white-space: normal; word-spacing: 0px; -webkit-text-stroke-width:
      0px; border-collapse: separate; font-family: 'Times New Roman';
      orphans: 2; widows: 2;"><font size="+1"><span style="font-family:
          monospace;">// print0.c<br>
          #include &lt;stdio.h&gt;<br>
          <br>
          const unsigned n = 6;<br>
          <br>
          void printRed1(unsigned k, unsigned long res)<br>
          {<br>
          &nbsp;&nbsp;&nbsp; printf("%lu \n", res);<br>
          &nbsp;&nbsp;&nbsp; if (k &lt; n) printRed1(k + 1, res*10);<br>
          &nbsp;&nbsp;&nbsp; printf("%lu \n", res);<br>
          }<br>
          <br>
          unsigned k = 0;<br>
          <br>
          void printRed2(unsigned long res)<br>
          {<br>
          &nbsp;&nbsp;&nbsp; k++;<br>
          &nbsp;&nbsp;&nbsp; printf("%lu \n", res);<br>
          &nbsp;&nbsp;&nbsp; if (k &lt; n) printRed2(res*10);<br>
          &nbsp;&nbsp;&nbsp; printf("%lu \n", res);<br>
          }<br>
          <br>
          unsigned long res = 1;<br>
          <br>
          void printRed3()<br>
          {<br>
          &nbsp;&nbsp;&nbsp; k++;<br>
          &nbsp;&nbsp;&nbsp; res *= 10;<br>
          &nbsp;&nbsp;&nbsp; printf("%lu \n", res);<br>
          &nbsp;&nbsp;&nbsp; if (k &lt; n) printRed3();<br>
          &nbsp;&nbsp;&nbsp; printf("%lu \n", res);<br>
          &nbsp;&nbsp;&nbsp; res /= 10;<br>
          }<br>
          <br>
          int main()<br>
          {<br>
          &nbsp;&nbsp;&nbsp; printRed1(1,10);<br>
          &nbsp;&nbsp;&nbsp; printRed2(10);<br>
          &nbsp;&nbsp;&nbsp; k = 0;<br>
          &nbsp;&nbsp;&nbsp; printRed3();<br>
          &nbsp;&nbsp;&nbsp; return 0; <br>
          }</span></font></span><br>
    <hr style="color: rgb(0, 0, 0); font-family: Times; font-size:
      medium; font-style: normal; font-variant: normal; font-weight:
      normal; letter-spacing: normal; line-height: normal; orphans:
      auto; text-align: start; text-indent: 0px; text-transform: none;
      white-space: normal; widows: auto; word-spacing: 0px;
      -webkit-text-stroke-width: 0px;" size="2" width="100%"><font
      style="color: rgb(0, 0, 0); font-family: Times; font-style:
      normal; font-variant: normal; font-weight: normal; letter-spacing:
      normal; line-height: normal; orphans: auto; text-align: start;
      text-indent: 0px; text-transform: none; white-space: normal;
      widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;"
      size="+1"><b>** Ефективност на рекурсията</b></font><br
      style="color: rgb(0, 0, 0); font-family: Times; font-size: medium;
      font-style: normal; font-variant: normal; font-weight: normal;
      letter-spacing: normal; line-height: normal; orphans: auto;
      text-align: start; text-indent: 0px; text-transform: none;
      white-space: normal; widows: auto; word-spacing: 0px;
      -webkit-text-stroke-width: 0px;">
    <ul style="color: rgb(0, 0, 0); font-family: Times; font-size:
      medium; font-style: normal; font-variant: normal; font-weight:
      normal; letter-spacing: normal; line-height: normal; orphans:
      auto; text-align: start; text-indent: 0px; text-transform: none;
      white-space: normal; widows: auto; word-spacing: 0px;
      -webkit-text-stroke-width: 0px;">
      <li><font size="+1">Въпреки че рекурсията е мощен метод за сложни
          алгоритми, тя може да доведе до програми, които работят лошо.</font></li>
      <li><font size="+1">Ще анализираме въпроса кога рекурсията е
          полезна и кога е неефективна.</font></li>
      <li><font size="+1"><a
href="http://bg.wikipedia.org/wiki/%D0%A7%D0%B8%D1%81%D0%BB%D0%B0_%D0%BD%D0%B0_%D0%A4%D0%B8%D0%B1%D0%BE%D0%BD%D0%B0%D1%87%D0%B8">Редица














            на Фибоначи</a><span class="Apple-converted-space">&nbsp;</span>се














          дефинира по следния начин:</font>
        <ul>
          <li><font size="+1"><i>f</i><sub>1</sub><span
                class="Apple-converted-space">&nbsp;</span>= 1</font></li>
          <li><font size="+1"><i>f</i><sub>2</sub><span
                class="Apple-converted-space">&nbsp;</span>= 1</font></li>
          <li><i><font size="+1">f<sub>n</sub></font></i><font size="+1"><span
                class="Apple-converted-space">&nbsp;</span>=<span
                class="Apple-converted-space">&nbsp;</span><i>f<sub>n</sub></i><sub>-1</sub><span
                class="Apple-converted-space">&nbsp;</span>+<span
                class="Apple-converted-space">&nbsp;</span><i>f<sub>n</sub></i><sub>-2</sub></font></li>
        </ul>
      </li>
      <li><font size="+1">Първите 10 члена на тази редица са:
          <blockquote>1, 1, 2, 3, 5, 8, 13, 21, 34, 55, . . .<br>
          </blockquote>
        </font></li>
      <li><font size="+1">Точно по дефиницията се пише рекурсивна
          функция, пресмятаща<span class="Apple-converted-space">&nbsp;</span><i>n</i>-тото














          число на Фибоначи.
          <blockquote>
            <pre>int fib(int n)<br>{<br>    if (n &lt;= 2)<br>        return 1;<br>    else<br>        return fib(n - 1) + fib(n - 2);<br>}<br></pre>
          </blockquote>
        </font></li>
      <li><font size="+1">&nbsp;&nbsp;&nbsp; Тази функция работи вярно,
          но за не много големи n работи доста (изключително) бавно.<br>
          &nbsp;&nbsp;&nbsp; Ще изпълним програмата с n между 30 и 50 за
          да видим ефекта.<br>
          &nbsp;&nbsp;&nbsp; За откриване на проблема ще вмъкнем
          трасиращ печат във функцията: <br>
        </font></li>
    </ul>
    <ul style="color: rgb(0, 0, 0); font-family: Times; font-size:
      medium; font-style: normal; font-variant: normal; font-weight:
      normal; letter-spacing: normal; line-height: normal; orphans:
      auto; text-align: start; text-indent: 0px; text-transform: none;
      white-space: normal; widows: auto; word-spacing: 0px;
      -webkit-text-stroke-width: 0px;">
      <li><font size="+1">
          <blockquote>
            <pre>int fib(int n)<br>{<br>    printf("Entering fib: n = %d \n", n);<br>    int f;<br>    if (n &lt;= 2)<br>        f = 1;<br>    else<br>        f = fib(n - 1) + fib(n - 2);<br>    printf("Exiting fib: n = %d return value = %d \n", n, f);<br>    return f;<br>}<br><br></pre>
          </blockquote>
        </font></li>
    </ul>
    <ul style="color: rgb(0, 0, 0); font-family: Times; font-size:
      medium; font-style: normal; font-variant: normal; font-weight:
      normal; letter-spacing: normal; line-height: normal; orphans:
      auto; text-align: start; text-indent: 0px; text-transform: none;
      white-space: normal; widows: auto; word-spacing: 0px;
      -webkit-text-stroke-width: 0px;">
      <li><font size="+1">Резултатът от изпълнението</font><font
          size="+1"><span class="Apple-converted-space"> </span></font><font
          size="+1"><font size="+1">показва защо изчисленията отнемат
            толкова време</font>.
          <blockquote>
            <pre>Entering fib: n = 6<br>Entering fib: n = 5<br>Entering fib: n = 4<br>Entering fib: n = 3<br>Entering fib: n = 2<br>Exiting fib: n = 2 return value = 1<br>Entering fib: n = 1<br>Exiting fib: n = 1 return value = 1<br>Exiting fib: n = 3 return value = 2<br>Entering fib: n = 2<br>Exiting fib: n = 2 return value = 1<br>Exiting fib: n = 4 return value = 3<br>Entering fib: n = 3<br>Entering fib: n = 2<br>Exiting fib: n = 2 return value = 1<br>Entering fib: n = 1<br>Exiting fib: n = 1 return value = 1<br>Exiting fib: n = 3 return value = 2<br>Exiting fib: n = 5 return value = 5<br>Entering fib: n = 4<br>Entering fib: n = 3<br>Entering fib: n = 2<br>Exiting fib: n = 2 return value = 1<br>Entering fib: n = 1<br>Exiting fib: n = 1 return value = 1<br>Exiting fib: n = 3 return value = 2<br>Entering fib: n = 2<br>Exiting fib: n = 2 return value = 1<br>Exiting fib: n = 4 return value = 3<br>Exiting fib: n = 6 return value = 8</pre>
          </blockquote>
        </font></li>
    </ul>
    <ul style="color: rgb(0, 0, 0); font-family: Times; font-size:
      medium; font-style: normal; font-variant: normal; font-weight:
      normal; letter-spacing: normal; line-height: normal; orphans:
      auto; text-align: start; text-indent: 0px; text-transform: none;
      white-space: normal; widows: auto; word-spacing: 0px;
      -webkit-text-stroke-width: 0px;">
      <li><font size="+1">Дърво на извикванията:</font>
        <p><font size="+1"><img alt="" src="images/fib_tree.png"
              height="395" width="744"></font></p>
      </li>
      <li><font size="+1">Тъй като<span class="Apple-converted-space">&nbsp;</span><tt>fib(4)</tt><span
            class="Apple-converted-space">&nbsp;</span>се вика два пъти,
          а<span class="Apple-converted-space">&nbsp;</span><tt>fib(3)</tt><span
            class="Apple-converted-space">&nbsp;</span>се вика три пъти
          и т.н., то много време се губи за многократни изчисления на
          една и съща стойност.</font></li>
    </ul>
    <ul style="color: rgb(0, 0, 0); font-family: Times; font-size:
      medium; font-style: normal; font-variant: normal; font-weight:
      normal; letter-spacing: normal; line-height: normal; orphans:
      auto; text-align: start; text-indent: 0px; text-transform: none;
      white-space: normal; widows: auto; word-spacing: 0px;
      -webkit-text-stroke-width: 0px;">
      <li><font size="+1">Когато смятаме ръчно, просто събираме
          последните две намерени стойности.</font></li>
      <li><font size="+1">Този метод може да се програмира с прост цикъл</font><a
          href="../../../2014/NETB151/sources/ch14/fibloop.cpp"><font
            size="+1"><span style="font-family: monospace;"></span></font></a><font
          size="+1">.
          <blockquote>
            <pre>int fib3(int n)<br>{<br>    if (n &lt;= 2) return 1;<br>    int fold = 1, fold2 = 1, fnew;<br>    int i;<br>    for (i = 3; i &lt;= n; i++) {<br>        fnew = fold + fold2;<br>        fold2 = fold;<br>        fold = fnew;<br>    }<br>    return fnew;<br>}<br><br></pre>
          </blockquote>
        </font></li>
    </ul>
    <ul>
      <li><font size="+1">Всяко рекурсивно решение може да се замени с
          итерационно (рекурсия с цикъл).</font></li>
      <li><font size="+1">Винаги ли итерационното решение е по-ефективно
          (по-бързо) от рекурсивното?<br>
        </font></li>
      <li><font size="+1">Често двете решения са еднакво бързи
          (триъгълник, пермутации).</font></li>
      <li><font size="+1">Някои задачи се решават по-лесно с рекурсия
          отколкото с итерация.</font></li>
      <li><font size="+1">Решението на задачата за генериране на
          пермутации </font><font size="+1">с цикъл води до по-сложен,
          но не по-бърз код.</font></li>
      <li><font size="+1">Често рекурсивните решения са по-лесни за
          разбиране и прилагане правилно, отколкото техните съответни </font><font
          size="+1"><font size="+1">итерационни</font> аналози.</font></li>
    </ul>
    <hr size="2" width="100%">
  </body>
</html>
