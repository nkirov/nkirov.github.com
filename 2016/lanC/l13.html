<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <title>l13</title>
  </head>
  <body>
    <h2><b>Вход и изход - 1</b></h2>
    Chapter 7 - Input and Output<br>
    7.1 Standard Input and Output<br>
    7.2 Formatted Output - printf<br>
    7.3 Variable-length Argument Lists<br>
    7.4 Formatted Input - Scanf<br>
    7.5 File Access<br>
    <br>
    <b>Стандартен вход и изход</b><br>
    Четене на зняк (символ)<br>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <span style="font-size: 10.000000pt; font-family: 'CourierNew'"><font
        size="+1"><tt>int getchar(void)</tt></font><br>
    </span>
    <title>ebook - The C Programming Language Ritchie &amp; kernighan
      -.doc</title>
    <br>
    Пренасочване на входа<br>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <span style="font-size: 10.000000pt; font-family: 'CourierNew'"><font
        size="+1"><tt>prog &lt;infile</tt></font><br>
    </span>
    <title>ebook - The C Programming Language Ritchie &amp; kernighan
      -.doc</title>
    <br>
    Каскада (pipe) - изходът от една програма служи за вход на друга
    програма<br>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <span style="font-size: 10.000000pt; font-family: 'CourierNew'"><font
        size="+1"><tt>otherprog | prog</tt></font><br>
    </span>
    <title>ebook - The C Programming Language Ritchie &amp; kernighan
      -.doc</title>
    <br>
    Писане на знак (символ)<br>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <span style="font-size: 10.000000pt; font-family: 'CourierNew'"><font
        size="+1"><tt>int putchar(int)<br>
        </tt></font> </span>
    <title>ebook - The C Programming Language Ritchie &amp; kernighan
      -.doc</title>
    <br>
    Пренасочване на изхода<br>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <span style="font-size: 10.000000pt; font-family: 'CourierNew'"><font
        size="+1"><tt>prog &gt;outfile</tt></font><br>
    </span>
    <title>ebook - The C Programming Language Ritchie &amp; kernighan
      -.doc</title>
    <br>
    <br>
    <font size="+1"><tt>#include &lt;stdio.h&gt; <br>
        #include &lt;ctype.h&gt;<br>
        <br>
      </tt><tt></tt><tt>int main() /* lower: convert input to lower
        case*/ <br>
        {</tt><tt><br>
      </tt><tt>&nbsp;&nbsp;&nbsp; int c</tt><tt><br>
      </tt><tt>&nbsp;&nbsp;&nbsp; while ((c = getchar()) != EOF) <br>
        &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; putchar(tolower(c));</tt><tt><br>
      </tt><tt>&nbsp;&nbsp;&nbsp; return 0; <br>
        }</tt></font><br>
    <br>
    <b>Форматиран изход - printf</b><br>
    <br>
    <font size="+1"><tt>int printf(char *format, arg1, arg2, ...);</tt></font><br>
    <br>
    <font size="+1"><tt>int sprintf(char *string, char *format, arg1,
        arg2, ...);</tt></font><br>
    <br>
    <br>
    <b>Форматиран вход - scanf</b><br>
    <br>
    <font size="+1"><tt>int scanf(char *format, ...)</tt></font><br>
    <font size="+1"><tt>int sscanf(char *string, char *format, arg1,
        arg2, ...)</tt></font><br>
    <br>
    <br>
    <i>Пример:</i><br>
    <font size="+1"><tt>#include &lt;stdio.h&gt;<br>
        <br>
      </tt><tt></tt><tt>int main() /* rudimentary calculator */ <br>
        {</tt><tt><br>
      </tt><tt>&nbsp;&nbsp;&nbsp; double sum, v;</tt><tt><br>
      </tt><tt>&nbsp;&nbsp;&nbsp; sum = 0;</tt><tt><br>
      </tt><tt>&nbsp;&nbsp;&nbsp; while (scanf("%lf", &amp;v) == 1)</tt><tt><br>
      </tt><tt>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; printf("\t%.2f\n",
        sum += v); <br>
        &nbsp;&nbsp;&nbsp; return 0;</tt><tt><br>
      </tt><tt>}</tt></font><br>
    <br>
    <br>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>ebook - The C Programming Language Ritchie &amp; kernighan
      -.doc</title>
    <font size="+1"><tt>25 Dec 1988</tt><tt><br>
      </tt><tt>int day, year;</tt><tt><br>
      </tt><tt>char monthname[20];</tt><tt><br>
      </tt><tt>scanf("%d %s %d", &amp;day, monthname, &amp;year);</tt></font><br>
    <br>
    <br>
    <b>Достъп до файлове</b><br>
    <br>
    Дефиниране на файлова променлива:<br>
    <font size="+1"><tt>FILE *fp;</tt></font><br>
    <br>
    <font size="+1"><tt>FILE *fopen(char *name, char *mode);</tt></font><br>
    <br>
    Отваряне на файл:<br>
    <font size="+1"><tt>fp = fopen(name, mode);</tt></font><br>
    <br>
    Четене и писане на един знак (символ) във файл:<br>
    <font size="+1"><tt>int getc(FILE *fp);</tt><tt><br>
      </tt><tt>int putc(int c, FILE *fp);</tt></font><br>
    <br>
    Форматирано четене и писане от и във файл:<br>
    <font size="+1"><tt>int fscanf(FILE *fp, char *format, ...) </tt><tt><br>
      </tt><tt>int fprintf(FILE *fp, char *format, ...)</tt></font><br>
    <br>
    Затваряне ня файл:<br>
    <font size="+1"><tt>int fclose(FILE *fp)</tt><tt><br>
      </tt></font><br>
    <i>Пример:</i><br>
    <font size="+1"><tt>#include &lt;stdio.h&gt;</tt><tt><br>
      </tt><tt><br>
      </tt><tt>/* cat: concatenate files, version 1 */ </tt><tt><br>
      </tt><tt>int main(int argc, char *argv[])</tt><tt><br>
      </tt><tt>{</tt><tt><br>
      </tt><tt>&nbsp;&nbsp;&nbsp; FILE *fp;</tt><tt><br>
      </tt><tt>&nbsp;&nbsp;&nbsp; void filecopy(FILE *, FILE *);</tt><tt><br>
      </tt><tt>&nbsp;&nbsp;&nbsp; if (argc == 1) /* no args; copy
        standard input */ <br>
        &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; filecopy(stdin, stdout);</tt><tt><br>
      </tt><tt>&nbsp;&nbsp;&nbsp; else</tt><tt><br>
      </tt><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; while(--argc
        &gt; 0)</tt><tt><br>
      </tt><tt>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;
        if ((fp = fopen(*++argv, "r")) == NULL) { <br>
        &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;
        &nbsp;&nbsp;&nbsp; printf("cat: can't open %s\n, *argv); <br>
        &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;
        &nbsp;&nbsp;&nbsp; return 1;</tt><tt><br>
      </tt><tt>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;
        } <br>
        &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; else {</tt><tt><br>
      </tt><tt>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;
        &nbsp;&nbsp;&nbsp; filecopy(fp, stdout); <br>
        &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;
        &nbsp;&nbsp;&nbsp; fclose(fp);</tt><tt><br>
      </tt><tt>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;
        } <br>
        &nbsp;&nbsp;&nbsp; return 0;</tt><tt><br>
      </tt><tt>}</tt><tt><br>
      </tt><tt><br>
      </tt><tt>/* filecopy: copy file ifp to file ofp */ <br>
        void filecopy(FILE *ifp, FILE *ofp)</tt><tt><br>
      </tt><tt>{</tt><tt><br>
      </tt><tt>&nbsp;&nbsp;&nbsp; int c;</tt><tt><br>
      </tt><tt>&nbsp;&nbsp;&nbsp; while ((c = getc(ifp)) != EOF)</tt><tt><br>
      </tt><tt>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; putc(c, ofp);</tt><tt><br>
      </tt><tt>}</tt></font><br>
    <br>
    <br>
    <br>
    <hr size="2" width="100%">
  </body>
</html>
