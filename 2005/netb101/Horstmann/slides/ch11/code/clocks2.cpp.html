<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<!-- saved from url=(0070)http://www.horstmann.com/sjsu/CMPE46/slides/ch11/code/clocks2.cpp.html -->
  <meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
  <meta content="MSHTML 5.00.3103.1000" name="GENERATOR">
</head>
<body>
<pre><tt>
106: <b><font color="#000080">#include</font></b> <font color="#ff0000">&lt;iostream&gt;</font>
107: <b><font color="#000080">#include</font></b> <font color="#ff0000">&lt;iomanip&gt;</font>
108: <b><font color="#000080">#include</font></b> <font color="#ff0000">&lt;string&gt;</font>
110: <b><font color="#0000ff">using</font></b> <b><font color="#0000ff">namespace</font></b> std<font color="#990000">;</font>
111: 
112: <b><font color="#000080">#include</font></b> <font color="#ff0000">"ccc_time.h"</font>
113: 
114: <b><font color="#0000ff">class</font></b> Clock <font color="#ff0000">{</font>
116: <b><font color="#0000ff">public</font></b><font color="#990000">:</font>
117:    <i><font color="#9a1900">/**</font></i>
118: <i><font color="#9a1900">      Constructs a clock that can tell the local time.</font></i>
119: <i><font color="#9a1900">      @param use_military true if the clock uses military format</font></i>
120: <i><font color="#9a1900">   */</font></i>
121:    <b><font color="#000000">Clock</font></b><font color="#990000">(</font><font color="#009900">bool</font> use_military<font color="#990000">)</font><font color="#990000">;</font> 
123:    <i><font color="#9a1900">/**</font></i>
124: <i><font color="#9a1900">      Gets the location of this clock.</font></i>
125: <i><font color="#9a1900">      @return the location</font></i>
126: <i><font color="#9a1900">   */</font></i>
127:    string <b><font color="#000000">get_location</font></b><font color="#990000">(</font><font color="#990000">)</font> <b><font color="#0000ff">const</font></b><font color="#990000">;</font>
129:    <i><font color="#9a1900">/**</font></i>
130: <i><font color="#9a1900">      Gets the hours of this clock.</font></i>
131: <i><font color="#9a1900">      @return the hours, in military or am/pm format</font></i>
132: <i><font color="#9a1900">   */</font></i>
133:    <font color="#009900">int</font> <b><font color="#000000">get_hours</font></b><font color="#990000">(</font><font color="#990000">)</font> <b><font color="#0000ff">const</font></b><font color="#990000">;</font>
135:    <i><font color="#9a1900">/**</font></i>
136: <i><font color="#9a1900">      Gets the minutes of this clock.</font></i>
137: <i><font color="#9a1900">      @return the minutes</font></i>
138: <i><font color="#9a1900">   */</font></i>
139:    <font color="#009900">int</font> <b><font color="#000000">get_minutes</font></b><font color="#990000">(</font><font color="#990000">)</font> <b><font color="#0000ff">const</font></b><font color="#990000">;</font>
141:    <i><font color="#9a1900">/**</font></i>
142: <i><font color="#9a1900">      Checks whether this clock uses miltary format.</font></i>
143: <i><font color="#9a1900">      @return true if miltary format</font></i>
144: <i><font color="#9a1900">   */</font></i>
145:    <font color="#009900">bool</font> <b><font color="#000000">is_military</font></b><font color="#990000">(</font><font color="#990000">)</font> <b><font color="#0000ff">const</font></b><font color="#990000">;</font>
146: <b><font color="#0000ff">private</font></b><font color="#990000">:</font>
147:    <font color="#009900">bool</font> military<font color="#990000">;</font>
148: <font color="#ff0000">}</font><font color="#990000">;</font>
149: 
150: Clock<font color="#990000">:</font><font color="#990000">:</font><b><font color="#000000">Clock</font></b><font color="#990000">(</font><font color="#009900">bool</font> use_military<font color="#990000">)</font>
151: <font color="#ff0000">{</font> military <font color="#990000">=</font> use_military<font color="#990000">;</font> <font color="#ff0000">}</font>
154: 
155: string Clock<font color="#990000">:</font><font color="#990000">:</font><b><font color="#000000">get_location</font></b><font color="#990000">(</font><font color="#990000">)</font> <b><font color="#0000ff">const</font></b>
156: <font color="#ff0000">{</font> <b><font color="#0000ff">return</font></b> <font color="#ff0000">"Local"</font><font color="#990000">;</font> <font color="#ff0000">}</font>
159: 
160: <font color="#009900">int</font> Clock<font color="#990000">:</font><font color="#990000">:</font><b><font color="#000000">get_hours</font></b><font color="#990000">(</font><font color="#990000">)</font> <b><font color="#0000ff">const</font></b>
161: <font color="#ff0000">{</font> Time now<font color="#990000">;</font>
163:   <font color="#009900">int</font> hours <font color="#990000">=</font> now<font color="#990000">.</font><b><font color="#000000">get_hours</font></b><font color="#990000">(</font><font color="#990000">)</font><font color="#990000">;</font>
164:   <b><font color="#0000ff">if</font></b> <font color="#990000">(</font>military<font color="#990000">)</font> <b><font color="#0000ff">return</font></b> hours<font color="#990000">;</font>
165:   <b><font color="#0000ff">if</font></b> <font color="#990000">(</font>hours <font color="#990000">=</font><font color="#990000">=</font> <font color="#993399">0</font><font color="#990000">)</font> <b><font color="#0000ff">return</font></b> <font color="#993399">12</font><font color="#990000">;</font>
167:   <b><font color="#0000ff">else</font></b> <b><font color="#0000ff">if</font></b> <font color="#990000">(</font>hours <font color="#990000">&gt;</font> <font color="#993399">12</font><font color="#990000">)</font> <b><font color="#0000ff">return</font></b> hours <font color="#990000">-</font> <font color="#993399">12</font><font color="#990000">;</font>
169:   <b><font color="#0000ff">else</font></b> <b><font color="#0000ff">return</font></b> hours<font color="#990000">;</font>
171: <font color="#ff0000">}</font>
172: 
173: <font color="#009900">int</font> Clock<font color="#990000">:</font><font color="#990000">:</font><b><font color="#000000">get_minutes</font></b><font color="#990000">(</font><font color="#990000">)</font> <b><font color="#0000ff">const</font></b>
174: <font color="#ff0000">{</font> Time now<font color="#990000">;</font>
176:   <b><font color="#0000ff">return</font></b> now<font color="#990000">.</font><b><font color="#000000">get_minutes</font></b><font color="#990000">(</font><font color="#990000">)</font><font color="#990000">;</font>
177: <font color="#ff0000">}</font>
178: 
179: <font color="#009900">bool</font> Clock<font color="#990000">:</font><font color="#990000">:</font><b><font color="#000000">is_military</font></b><font color="#990000">(</font><font color="#990000">)</font> <b><font color="#0000ff">const</font></b>
180: <font color="#ff0000">{</font> <b><font color="#0000ff">return</font></b> military<font color="#990000">;</font>  <font color="#ff0000">}</font>
183: 
184: <b><font color="#0000ff">class</font></b> TravelClock <font color="#990000">:</font> <b><font color="#0000ff">public</font></b> Clock <font color="#ff0000">{<br></font>186: <b><font color="#0000ff">public</font></b><font color="#990000">:</font>
187:    <i><font color="#9a1900">/**</font></i>
188: <i><font color="#9a1900">      Constructs a travel clock that can tell the time</font></i>
189: <i><font color="#9a1900">      at a specified location</font></i>
190: <i><font color="#9a1900">      @param mil true if the clock uses military format</font></i>
191: <i><font color="#9a1900">      @param loc the location</font></i>
192: <i><font color="#9a1900">      @param diff the time difference from the local time</font></i>
193: <i><font color="#9a1900">   */</font></i>
194:    <b><font color="#000000">TravelClock</font></b><font color="#990000">(</font><font color="#009900">bool</font> mil<font color="#990000">,</font> string loc<font color="#990000">,</font> <font color="#009900">int</font> diff<font color="#990000">)</font><font color="#990000">;</font>
195:    string <b><font color="#000000">get_location</font></b><font color="#990000">(</font><font color="#990000">)</font> <b><font color="#0000ff">const</font></b><font color="#990000">;</font>
196:    <font color="#009900">int</font> <b><font color="#000000">get_hours</font></b><font color="#990000">(</font><font color="#990000">)</font> <b><font color="#0000ff">const</font></b><font color="#990000">;</font>
197: <b><font color="#0000ff">private</font></b><font color="#990000">:</font>
198:    string location<font color="#990000">;</font>
199:    <font color="#009900">int</font> time_difference<font color="#990000">;</font>
200: <font color="#ff0000">}</font><font color="#990000">;</font>
201: 
202: TravelClock<font color="#990000">:</font><font color="#990000">:</font><b><font color="#000000">TravelClock</font></b><font color="#990000">(</font><font color="#009900">bool</font> mil<font color="#990000">,</font> string loc<font color="#990000">,</font> <font color="#009900">int</font> diff<font color="#990000">)</font>
203:    <font color="#990000">:</font> <b><font color="#000000">Clock</font></b><font color="#990000">(</font>mil<font color="#990000">)</font>
204: <font color="#ff0000">{</font> location <font color="#990000">=</font> loc<font color="#990000">;</font>
206:   time_difference <font color="#990000">=</font> diff<font color="#990000">;</font>
207:   <b><font color="#0000ff">while</font></b> <font color="#990000">(</font>time_difference <font color="#990000">&lt;</font> <font color="#993399">0</font><font color="#990000">)</font> <br>208:       time_difference <font color="#990000">=</font> time_difference <font color="#990000">+</font> <font color="#993399">24</font><font color="#990000">;</font>
209: <font color="#ff0000">}</font>
210: 
211: string TravelClock<font color="#990000">:</font><font color="#990000">:</font><b><font color="#000000">get_location</font></b><font color="#990000">(</font><font color="#990000">)</font> <b><font color="#0000ff">const</font></b>
212: <font color="#ff0000">{</font> <b><font color="#0000ff">return</font></b> location<font color="#990000">;</font> <font color="#ff0000">}</font>
215: 
216: <font color="#009900">int</font> TravelClock<font color="#990000">:</font><font color="#990000">:</font><b><font color="#000000">get_hours</font></b><font color="#990000">(</font><font color="#990000">)</font> <b><font color="#0000ff">const</font></b>
217: <font color="#ff0000">{</font> <font color="#009900">int</font> h <font color="#990000">=</font> Clock<font color="#990000">:</font><font color="#990000">:</font><b><font color="#000000">get_hours</font></b><font color="#990000">(</font><font color="#990000">)</font><font color="#990000">;</font>
219:   <b><font color="#0000ff">if</font></b> <font color="#990000">(</font><b><font color="#000000">is_military</font></b><font color="#990000">(</font><font color="#990000">)</font><font color="#990000">)</font>
220:       <b><font color="#0000ff">return</font></b> <font color="#990000">(</font>h <font color="#990000">+</font> time_difference<font color="#990000">)</font> <font color="#990000">%</font> <font color="#993399">24</font><font color="#990000">;</font>
221:   <b><font color="#0000ff">else</font></b>
222:   <font color="#ff0000">{</font>  h <font color="#990000">=</font> <font color="#990000">(</font>h <font color="#990000">+</font> time_difference<font color="#990000">)</font> <font color="#990000">%</font> <font color="#993399">12</font><font color="#990000">;</font>
224:      <b><font color="#0000ff">if</font></b> <font color="#990000">(</font>h <font color="#990000">=</font><font color="#990000">=</font> <font color="#993399">0</font><font color="#990000">)</font> <b><font color="#0000ff">return</font></b> <font color="#993399">12</font><font color="#990000">;</font>
225:      <b><font color="#0000ff">else</font></b> <b><font color="#0000ff">return</font></b> h<font color="#990000">;</font>
226:   <font color="#ff0000">}</font>
227: <font color="#ff0000">}</font>
228: 
229: <font color="#009900">int</font> <b><font color="#000000">main</font></b><font color="#990000">(</font><font color="#990000">)</font>
230: <font color="#ff0000">{</font> Clock <b><font color="#000000">clock1</font></b><font color="#990000">(</font><b><font color="#0000ff">true</font></b><font color="#990000">)</font><font color="#990000">;</font>
232:   TravelClock <b><font color="#000000">clock2</font></b><font color="#990000">(</font><b><font color="#0000ff">true</font></b><font color="#990000">,</font> <font color="#ff0000">"Rome"</font><font color="#990000">,</font> <font color="#993399">9</font><font color="#990000">)</font><font color="#990000">;</font>
233:   TravelClock <b><font color="#000000">clock3</font></b><font color="#990000">(</font><b><font color="#0000ff">false</font></b><font color="#990000">,</font> <font color="#ff0000">"Tokyo"</font><font color="#990000">,</font> <font color="#990000">-</font><font color="#993399">7</font><font color="#990000">)</font><font color="#990000">;</font>
234: 
235:   cout <font color="#990000">&lt;</font><font color="#990000">&lt;</font> clock1<font color="#990000">.</font><b><font color="#000000">get_location</font></b><font color="#990000">(</font><font color="#990000">)</font> <font color="#990000">&lt;</font><font color="#990000">&lt;</font> <font color="#ff0000">" time: "</font> <br>236:       <font color="#990000">&lt;</font><font color="#990000">&lt;</font> clock1<font color="#990000">.</font><b><font color="#000000">get_hours</font></b><font color="#990000">(</font><font color="#990000">)</font> <font color="#990000">&lt;</font><font color="#990000">&lt;</font> <font color="#ff0000">":"</font>
237:       <font color="#990000">&lt;</font><font color="#990000">&lt;</font> <b><font color="#000000">setw</font></b><font color="#990000">(</font><font color="#993399">2</font><font color="#990000">)</font> <font color="#990000">&lt;</font><font color="#990000">&lt;</font> <b><font color="#000000">setfill</font></b><font color="#990000">(</font><font color="#ff0000">'0'</font><font color="#990000">)</font> <br>238:       <font color="#990000">&lt;</font><font color="#990000">&lt;</font> clock1<font color="#990000">.</font><b><font color="#000000">get_minutes</font></b><font color="#990000">(</font><font color="#990000">)</font> <br>239:       <font color="#990000">&lt;</font><font color="#990000">&lt;</font> <b><font color="#000000">setfill</font></b><font color="#990000">(</font><font color="#ff0000">' '</font><font color="#990000">)</font> <font color="#990000">&lt;</font><font color="#990000">&lt;</font> <font color="#ff0000">"\n"</font><font color="#990000">;</font>
240:   cout <font color="#990000">&lt;</font><font color="#990000">&lt;</font> clock2<font color="#990000">.</font><b><font color="#000000">get_location</font></b><font color="#990000">(</font><font color="#990000">)</font> <font color="#990000">&lt;</font><font color="#990000">&lt;</font> <font color="#ff0000">" time: "</font> <br>241:       <font color="#990000">&lt;</font><font color="#990000">&lt;</font> clock2<font color="#990000">.</font><b><font color="#000000">get_hours</font></b><font color="#990000">(</font><font color="#990000">)</font> <font color="#990000">&lt;</font><font color="#990000">&lt;</font> <font color="#ff0000">":"</font>
242:       <font color="#990000">&lt;</font><font color="#990000">&lt;</font> <b><font color="#000000">setw</font></b><font color="#990000">(</font><font color="#993399">2</font><font color="#990000">)</font> <font color="#990000">&lt;</font><font color="#990000">&lt;</font> <b><font color="#000000">setfill</font></b><font color="#990000">(</font><font color="#ff0000">'0'</font><font color="#990000">)</font> <br>243:       <font color="#990000">&lt;</font><font color="#990000">&lt;</font> clock2<font color="#990000">.</font><b><font color="#000000">get_minutes</font></b><font color="#990000">(</font><font color="#990000">)</font> <br>244:       <font color="#990000">&lt;</font><font color="#990000">&lt;</font> <b><font color="#000000">setfill</font></b><font color="#990000">(</font><font color="#ff0000">' '</font><font color="#990000">)</font> <font color="#990000">&lt;</font><font color="#990000">&lt;</font> <font color="#ff0000">"\n"</font><font color="#990000">;</font>
245:   cout <font color="#990000">&lt;</font><font color="#990000">&lt;</font> clock3<font color="#990000">.</font><b><font color="#000000">get_location</font></b><font color="#990000">(</font><font color="#990000">)</font> <font color="#990000">&lt;</font><font color="#990000">&lt;</font> <font color="#ff0000">" time: "</font> <br>246:       <font color="#990000">&lt;</font><font color="#990000">&lt;</font> clock3<font color="#990000">.</font><b><font color="#000000">get_hours</font></b><font color="#990000">(</font><font color="#990000">)</font> <font color="#990000">&lt;</font><font color="#990000">&lt;</font> <font color="#ff0000">":"</font>
247:       <font color="#990000">&lt;</font><font color="#990000">&lt;</font> <b><font color="#000000">setw</font></b><font color="#990000">(</font><font color="#993399">2</font><font color="#990000">)</font> <font color="#990000">&lt;</font><font color="#990000">&lt;</font> <b><font color="#000000">setfill</font></b><font color="#990000">(</font><font color="#ff0000">'0'</font><font color="#990000">)</font> <br>248:       <font color="#990000">&lt;</font><font color="#990000">&lt;</font> clock3<font color="#990000">.</font><b><font color="#000000">get_minutes</font></b><font color="#990000">(</font><font color="#990000">)</font> <br>249:       <font color="#990000">&lt;</font><font color="#990000">&lt;</font> <b><font color="#000000">setfill</font></b><font color="#990000">(</font><font color="#ff0000">' '</font><font color="#990000">)</font> <font color="#990000">&lt;</font><font color="#990000">&lt;</font> <font color="#ff0000">"\n"</font><font color="#990000">;</font>
250:   <b><font color="#0000ff">return</font></b> <font color="#993399">0</font><font color="#990000">;</font>
251: <font color="#ff0000">}</font>
</tt>
</pre>
</body>
</html>
