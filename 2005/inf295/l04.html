<!DOCTYPE html PUBLIC "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
  <meta http-equiv="Content-Type"
 content="text/html; charset=windows-1251">
  <meta name="GENERATOR"
 content="Mozilla/4.75 [en] (Win98; U) [Netscape]">
</head>
<body>
<h3 style="font-weight: normal;">4. Рекурсия и итерация</h3>
<p>**&nbsp; Най-голям общ делител [1.2.3]
<br>
* Алгоритъм на Евклид за намиране на най-голям общ делител <br>
&nbsp;<b><tt><font color="#000099">// gcd.c</font></tt></b>
<br>
<b><tt><font color="#000099">#include &lt;stdio.h&gt;</font></tt></b>
<br>
</p>
<p><b><tt><font color="#000099">unsigned gcd1(unsigned a, unsigned b)</font></tt></b>
<br>
<b><tt><font color="#000099">{ unsigned swap;</font></tt></b>
<br>
<b><tt><font color="#000099">&nbsp; while (b &gt; 0) { swap = b; b =
a%b;
a = swap;
}</font></tt></b>
<br>
<b><tt><font color="#000099">&nbsp; return a;</font></tt></b>
<br>
<b><tt><font color="#000099">}</font></tt></b>
</p>
<p><b><tt><font color="#000099">unsigned gcd2(unsigned a, unsigned b)</font></tt></b>
<br>
<b><tt><font color="#000099">{ return (0 == b) ? a : gcd2(b, a%b); }</font></tt></b>
</p>
<p><b><tt><font color="#000099">int main(void)</font></tt></b>
<br>
<b><tt><font color="#000099">{ const unsigned a = 1, b = 125;</font></tt></b>
<br>
<b><tt><font color="#000099">&nbsp; printf("%u \n", gcd1(a, b));</font></tt></b>
<br>
<b><tt><font color="#000099">&nbsp; printf("%u \n", gcd2(a, b));</font></tt></b>
<br>
<b><tt><font color="#000099">&nbsp; return 0;</font></tt></b>
<br>
<b><tt><font color="#000099">}</font></tt></b>
<br>
* Да се напише метода само с изваждане.<br>
* Да се напише функция за съкращаване на прости дроби.</p>
<p><span style="font-weight: bold;">Задача 4а</span>. Да се напише
програма за намиране на НОД на <i>n</i>
естествени числа.<br>
</p>
<hr width="100%"><font style="color: rgb(0, 0, 0);" color="#000099">**&nbsp;
Връщане от рекурсия и използване на променливите </font><font
 style="color: rgb(0, 0, 0);" color="#000099">[1.2.5]</font><br>
<font style="color: rgb(0, 0, 0);" color="#000099">* Рекурсивно
отпечатване на цифрите на
число </font><br>
<b><tt><font color="#000099">// digit2.c</font></tt></b>
<br>
<b><tt><font color="#000099">#include &lt;stdio.h&gt;</font></tt></b>
<p><b><tt><font color="#000099">void printN(unsigned n)</font></tt></b>
<br>
<b><tt><font color="#000099">{ if (n &gt;= 10) printN(n/10);</font></tt></b>
<br>
<b><tt><font color="#000099">&nbsp; printf("%u ", n%10);</font></tt></b>
<br>
<b><tt><font color="#000099">}</font></tt></b>
<br>
<b><tt><font color="#000099">int main(void)</font></tt></b>
<br>
<b><tt><font color="#000099">{ unsigned m = 1234;</font></tt></b>
<br>
<b><tt><font color="#000099">&nbsp; printN(m);</font></tt></b>
<br>
<b><tt><font color="#000099">&nbsp; return 0;</font></tt></b>
<br>
<b><tt><font color="#000099">}</font></tt></b> <br>
</p>
<p><font style="color: rgb(0, 0, 0);" color="#000099">* Пресмятане на
<span style="font-style: italic;">n</span>! и изследване на
ефективността на реализациите [1.2.5]</font>
</p>
<b><tt><font color="#000099">/* Два варианта за пресмятане на n!
[1.2.5]
*/</font></tt></b>
<br>
<b><tt><font color="#000099">// fact.c</font></tt></b>
<br>
<b><tt><font color="#000099">#include&nbsp; &lt;stdio.h&gt;</font></tt></b>
<br>
<br>
<b><tt><font color="#000099">unsigned long fact1(unsigned i)</font></tt></b>
<br>
<b><tt><font color="#000099">{ if (1 == i) return 1;</font></tt></b>
<br>
<b><tt><font color="#000099">&nbsp; return i * fact1(i - 1);</font></tt></b>
<br>
<b><tt><font color="#000099">}</font></tt></b>
<br>
<br>
<b><tt><font color="#000099">unsigned i;</font></tt></b>
<br>
<b><tt><font color="#000099">unsigned long fact2()</font></tt></b>
<br>
<b><tt><font color="#000099">{ if (1 == i) return 1;</font></tt></b>
<br>
<b><tt><font color="#000099">&nbsp; return i-- * fact2(); // --i*fact();</font></tt></b>
<br>
<b><tt><font color="#000099">}</font></tt></b>
<br>
<br>
<b><tt><font color="#000099">const unsigned n = 6;</font></tt></b><br>
<b><tt><font color="#000099">int main(void)</font></tt></b>
<br>
<b><tt><font color="#000099">{ </font></tt></b><b><tt><font
 color="#000099">printf("fact1: %u! = %lu \n", n,
fact1(n));<br>
<br>
</font></tt></b><b><tt><font color="#000099">&nbsp; i=n; // i=n+1;</font></tt></b>
<br>
<b><tt><font color="#000099">&nbsp; printf("fact2: %u! = %lu \n", n,
fact2());</font></tt></b>
<br>
<b><tt><font color="#000099">&nbsp; return 0;</font></tt></b>
<br>
<b><tt><font color="#000099">}</font></tt></b>
<br>
<hr width="100%">
<font style="color: rgb(0, 0, 0);" color="#000099">** Рекурсия и
използване
на глобални променливи </font><font style="color: rgb(0, 0, 0);"
 color="#000099"> [1.2.5]<br>
* За дадено естествено число<span style="font-style: italic;"> n</span>
(<span style="font-style: italic;">n</span> &lt; 9) да се отпечатат в
нарастващ и намаляващ ред числата 10<sup><span
 style="font-style: italic;">k</span></sup></font><font
 style="color: rgb(0, 0, 0);" color="#000099"> (0 &lt; <span
 style="font-style: italic;">k</span> &lt; <span
 style="font-style: italic;">n</span>). </font><font
 style="color: rgb(0, 0, 0);" color="#000099"><sup><span
 style="font-style: italic;"></span></sup><br>
</font><b><tt><font color="#000099">// print0.c</font></tt></b>
<br>
<b><tt><font color="#000099">#include&nbsp; &lt;stdio.h&gt;</font></tt></b>
<br>
<b><tt><font color="#000099">const unsigned n = 6;</font></tt></b>&nbsp;
<br>
<br>
<b><tt><font color="#000099">void printRed1(unsigned k, unsigned long
res)</font></tt></b>
<br>
<b><tt><font color="#000099">{ printf("%lu ", res);</font></tt></b>
<br>
<b><tt><font color="#000099">&nbsp; if (k &lt; n) printRed1(k + 1,
res*10);</font></tt></b>
<br>
<b><tt><font color="#000099">&nbsp; printf("%lu ", res);</font></tt></b>
<br>
<b><tt><font color="#000099">}</font></tt></b>
<p><b><tt><font color="#000099">unsigned k = 0;</font></tt></b>
<br>
<b><tt><font color="#000099">void printRed2(unsigned long res)</font></tt></b>
<br>
<b><tt><font color="#000099">{</font></tt></b>&nbsp;
<b><tt><font color="#000099">k++;</font></tt></b>
<br>
<b><tt><font color="#000099">&nbsp; printf("%lu ", res);</font></tt></b>
<br>
<b><tt><font color="#000099">&nbsp; if (k &lt; n) printRed2(res*10);</font></tt></b>
<br>
<b><tt><font color="#000099">&nbsp; printf("%lu ", res);</font></tt></b>
<br>
<b><tt><font color="#000099">}</font></tt></b>
</p>
<p><b><tt><font color="#000099">unsigned long res = 1;</font></tt></b>
<br>
<b><tt><font color="#000099">void printRed3()</font></tt></b>
<br>
<b><tt><font color="#000099">{</font></tt></b>&nbsp;
<b><tt><font color="#000099">k++;</font></tt></b>
<br>
<b><tt><font color="#000099">&nbsp; res *= 10;</font></tt></b>
<br>
<b><tt><font color="#000099">&nbsp; printf("%lu ", res);</font></tt></b>
<br>
<b><tt><font color="#000099">&nbsp; if (k &lt; n) printRed3();</font></tt></b>
<br>
<b><tt><font color="#000099">&nbsp; printf("%lu ", res);</font></tt></b>
<br>
<b><tt><font color="#000099">&nbsp; res /= 10;</font></tt></b>
<br>
<b><tt><font color="#000099">}</font></tt></b>
<br>
<b><tt><font color="#000099"><br>
int main(void)</font></tt></b>
<br>
<b><tt><font color="#000099">{</font></tt></b>
<br>
<b><tt><font color="#000099">&nbsp;printRed1(1,10);</font></tt></b>
<br>
<b><tt><font color="#000099">&nbsp;printf("\n");</font></tt></b>
<br>
<b><tt><font color="#000099">&nbsp;printRed2(10);</font></tt></b>
<br>
<b><tt><font color="#000099">&nbsp;printf("\n");</font></tt></b>
<br>
<b><tt><font color="#000099">&nbsp;k = 0;</font></tt></b>
<br>
<b><tt><font color="#000099">&nbsp;printRed3();</font></tt></b>
<br>
<b><tt><font color="#000099">&nbsp;printf("\n");</font></tt></b>
<br>
<b><tt><font color="#000099">&nbsp;return 0;</font></tt></b>
<br>
<b><tt><font color="#000099">}</font></tt></b>
<br>
</p>
<p><span style="font-weight: bold;">Задача 4b:</span><font
 style="color: rgb(0, 0, 0);" color="#000099"> За дадено естествено
число<span style="font-style: italic;"> n</span> (<span
 style="font-style: italic;">n</span> &lt; 10<sup>9</sup>) да се
отпечатат в нарастващ и намаляващ ред числата 10<sup><span
 style="font-style: italic;">k</span></sup></font><font
 style="color: rgb(0, 0, 0);" color="#000099"> (0 &lt; <span
 style="font-style: italic;">k</span> &lt; <span
 style="font-style: italic;">n</span>). </font>
</p>
<hr width="100%"><b></b>
<p><span style="font-weight: bold;">Задача 4c:</span> За естественото
число <i>a</i> дефинираме редицата <br>
</p>
<div style="text-align: center;"><i>a</i><sub>0&nbsp; </sub><i>=&nbsp;
a</i>,&nbsp; <br>
<i>a<sub>k+</sub></i><sub>1</sub> =&nbsp; <i>a<sub>k</sub></i>/2,
ако <i>a<sub>k</sub></i> е четно или <br>
<i>a<sub>k+</sub></i><sub>1</sub> =&nbsp;
3<i>a<sub>k</sub> +</i> 1, ако <i>a<sub>k</sub></i> е нечетно. <br>
</div>
<p>Ако някой
член от редицата&nbsp;<i>
a<sub>k</sub></i> = 1, то тази стойност се счита за край на редицата.
Хипотезата е, че всяко
естествено число <i>a </i>генерира крайна редица. <br>
<br>
</p>
<hr width="100%">
</body>
</html>
