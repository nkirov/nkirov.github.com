<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=windows-1251">
   <meta name="Author" content="Nikolay Kirov">
   <meta name="GENERATOR" content="Mozilla/4.75 [en] (Win98; U) [Netscape]">
   <title>Pec2</title>
</head>
<body>

<hr WIDTH="100%">
<br><b>6.&nbsp;</b>&nbsp; <b>Класове</b><b></b>
<p>До сега за класовете:
<br><b><tt><font color="#009900">Employee harry("Hacher, Harry", 350);</font></tt></b>
<br><b><tt><font color="#009900">harry.set_salary(380);</font></tt></b>
<br><b><tt><font color="#009900">cout &lt;&lt; harry.get_name();</font></tt></b>
<br>
<hr WIDTH="100%">
<br><img SRC="yellowball.gif" height=14 width=14> Обособяване на класове
<p>Чете се информация за компютри, съдържаща:
<br>&nbsp;
<table BORDER CELLPADDING=5 >
<tr>
<td>име на модел</td>

<td>name</td>

<td>OmniBook XE</td>
</tr>

<tr>
<td>цена</td>

<td>price</td>

<td>5660</td>
</tr>

<tr>
<td>оценка</td>

<td>score</td>

<td>76</td>
</tr>
</table>

<p>Търси се продукта с най-голямо отношение оценка/цена.
<p><b><tt><font color="#3333FF">#include &lt;iostream></font></tt></b>
<br><b><tt><font color="#3333FF">#include &lt;string></font></tt></b>
<br><b><tt><font color="#3333FF">using namespace std;</font></tt></b>
<p><b><tt><font color="#3333FF">int main()</font></tt></b>
<br><b><tt><font color="#3333FF">{&nbsp; string best_name = "";</font></tt></b>
<br><b><tt><font color="#3333FF">&nbsp;&nbsp; double best_price = 0;</font></tt></b>
<br><b><tt><font color="#3333FF">&nbsp;&nbsp; int best_score = 0;</font></tt></b>
<p><b><tt><font color="#3333FF">&nbsp;&nbsp; bool more = true;</font></tt></b>
<br><b><tt><font color="#3333FF">&nbsp;&nbsp; while (more)</font></tt></b>
<br><b><tt><font color="#3333FF">&nbsp;&nbsp; {&nbsp; string next_name;</font></tt></b>
<br><b><tt><font color="#3333FF">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; double
next_price;</font></tt></b>
<br><b><tt><font color="#3333FF">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int next_score;</font></tt></b>
<p><b><tt><font color="#3333FF">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cout &lt;&lt;
"Please enter the model name: ";</font></tt></b>
<br><b><tt><font color="#3333FF">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; getline(cin,
next_name);</font></tt></b>
<br><b><tt><font color="#3333FF">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cout &lt;&lt;
"Please enter the price: ";</font></tt></b>
<br><b><tt><font color="#3333FF">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cin >>
next_price;</font></tt></b>
<br><b><tt><font color="#3333FF">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cout &lt;&lt;
"Please enter the score: ";</font></tt></b>
<br><b><tt><font color="#3333FF">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cin >>
next_score;</font></tt></b>
<br><b><tt><font color="#3333FF">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; string
remainder; /* read remainder of line */</font></tt></b>
<br><b><tt><font color="#3333FF">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; getline(cin,
remainder);</font></tt></b>
<p><b><tt><font color="#3333FF">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (next_price
!= 0)</font></tt></b>
<br><b><tt><font color="#3333FF">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;
if (best_price == 0 or</font></tt></b>
<br><b><tt><font color="#3333FF">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
next_score/next_price > best_score/best_price)</font></tt></b>
<br><b><tt><font color="#3333FF">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
{&nbsp; best_name = next_name;</font></tt></b>
<br><b><tt><font color="#3333FF">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
best_score = next_score;</font></tt></b>
<br><b><tt><font color="#3333FF">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
best_price = next_price;</font></tt></b>
<br><b><tt><font color="#3333FF">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
}</font></tt></b>
<br><b><tt><font color="#3333FF">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</font></tt></b>
<br><b><tt><font color="#3333FF">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cout &lt;&lt;
"More data? (y/n) ";</font></tt></b>
<br><b><tt><font color="#3333FF">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; string
answer;</font></tt></b>
<br><b><tt><font color="#3333FF">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; getline(cin,
answer);</font></tt></b>
<br><b><tt><font color="#3333FF">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (answer
!= "y") more = false;</font></tt></b>
<br><b><tt><font color="#3333FF">&nbsp;&nbsp; }</font></tt></b>
<br><b><tt><font color="#3333FF">&nbsp;&nbsp; cout &lt;&lt; "The best bang
for the buck is " &lt;&lt; best_name</font></tt></b>
<br><b><tt><font color="#3333FF">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;&lt;
" (Score: " &lt;&lt; best_score</font></tt></b>
<br><b><tt><font color="#3333FF">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;&lt;
" Price: " &lt;&lt; best_price &lt;&lt; ")\n";</font></tt></b>
<br><b><tt><font color="#3333FF">&nbsp;&nbsp; return 0;</font></tt></b>
<br><b><tt><font color="#3333FF">}</font></tt></b>
<br>
<hr WIDTH="100%">
<br>&nbsp;<img SRC="yellowball.gif" height=14 width=14> Интерфейс и капсулиране
<p><b><tt><font color="#3333FF">#include &lt;iostream></font></tt></b>
<br><b><tt><font color="#3333FF">#include &lt;string></font></tt></b>
<br><b><tt><font color="#3333FF">using namespace std;</font></tt></b>
<p><b><tt><font color="#3333FF">class Product&nbsp; {</font></tt></b>
<br><b><tt><font color="#3333FF">public:&nbsp;&nbsp; /*интерфейс*/</font></tt></b>
<br><tt><b><font color="#3333FF">&nbsp;&nbsp; Product();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
/*</font></b><font color="#000000">създава нов продукт</font><b><font color="#3333FF">*/</font></b></tt>
<br><tt><b><font color="#3333FF">&nbsp;&nbsp; void read();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
/*</font></b><font color="#000000">чете продукт</font><b><font color="#3333FF">*/</font></b></tt>
<br><tt><b><font color="#3333FF">&nbsp;&nbsp; bool is_better_than(Product
b) const;/*</font></b><font color="#000000">сравнява</font><b><font color="#3333FF">*/</font></b></tt>
<br><tt><b><font color="#3333FF">&nbsp;&nbsp; void print() const;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
/*</font></b><font color="#000000">отпечатва</font><b><font color="#3333FF">*/</font></b></tt>
<br><b><tt><font color="#3333FF">private:&nbsp; /*капсулиране*/</font></tt></b>
<br><tt><b><font color="#3333FF">&nbsp;&nbsp; string name;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
/*</font></b><font color="#000000">скрити данни</font><b><font color="#3333FF">*/</font></b></tt>
<br><tt><b><font color="#3333FF">&nbsp;&nbsp; double price;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
/*</font></b><font color="#000000">скрити данни</font><b><font color="#3333FF">*/</font></b></tt>
<br><b><tt><font color="#3333FF">&nbsp;&nbsp; int score;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
/*</font><font color="#000000">скрити данни</font><font color="#3333FF">*/</font></tt></b>
<br><b><tt><font color="#3333FF">};</font></tt></b>
<p><b><tt><font color="#3333FF">int main()</font></tt></b>
<br><b><tt><font color="#3333FF">{&nbsp; Product best;</font></tt></b>
<p><b><tt><font color="#3333FF">&nbsp;&nbsp; bool more = true;</font></tt></b>
<br><b><tt><font color="#3333FF">&nbsp;&nbsp; while (more)</font></tt></b>
<br><b><tt><font color="#3333FF">&nbsp;&nbsp; {&nbsp; Product next;</font></tt></b>
<br><b><tt><font color="#3333FF">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; next.read();</font></tt></b>
<br><b><tt><font color="#3333FF">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (next.is_better_than(best))
best = next;</font></tt></b>
<p><b><tt><font color="#3333FF">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cout &lt;&lt;
"More data? (y/n) ";</font></tt></b>
<br><b><tt><font color="#3333FF">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; string
answer;</font></tt></b>
<br><b><tt><font color="#3333FF">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; getline(cin,
answer);</font></tt></b>
<br><b><tt><font color="#3333FF">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (answer
!= "y") more = false;</font></tt></b>
<br><b><tt><font color="#3333FF">&nbsp;&nbsp; }</font></tt></b>
<br><b><tt><font color="#3333FF">&nbsp;&nbsp; cout &lt;&lt; "The best bang
for the buck is ";</font></tt></b>
<br><b><tt><font color="#3333FF">&nbsp;&nbsp; best.print();</font></tt></b>
<br><b><tt><font color="#3333FF">&nbsp;&nbsp; return 0;</font></tt></b>
<br><b><tt><font color="#3333FF">}</font></tt></b>
<br>
<hr WIDTH="100%">
<br><img SRC="yellowball.gif" height=14 width=14> Членове-функции
<p>* конструктор
<br><b><tt><font color="#009900">Product::Product() {&nbsp; price = 0;&nbsp;&nbsp;
score = 0; }</font></tt></b>
<p>* мутатори (set-функции)
<br><b><tt><font color="#009900">void Product::read()</font></tt></b>
<br><b><tt><font color="#009900">{&nbsp; cout &lt;&lt; "Please enter the
model name: ";</font></tt></b>
<br><b><tt><font color="#009900">&nbsp;&nbsp; getline(cin, name);</font></tt></b>
<br><b><tt><font color="#009900">&nbsp;&nbsp; cout &lt;&lt; "Please enter
the price: ";</font></tt></b>
<br><b><tt><font color="#009900">&nbsp;&nbsp; cin >> price;</font></tt></b>
<br><b><tt><font color="#009900">&nbsp;&nbsp; cout &lt;&lt; "Please enter
the score: ";</font></tt></b>
<br><b><tt><font color="#009900">&nbsp;&nbsp; cin >> score;</font></tt></b>
<br><b><tt><font color="#009900">&nbsp;&nbsp; string remainder;</font></tt></b>
<br><b><tt><font color="#009900">&nbsp;&nbsp; getline(cin, remainder);
}</font></tt></b>
<p>* функции за достъп (get-функции)
<br><b><tt><font color="#009900">bool Product::is_better_than(Product b)
const</font></tt></b>
<br><b><tt><font color="#009900">{&nbsp; if (price == 0) return false;</font></tt></b>
<br><b><tt><font color="#009900">&nbsp;&nbsp;&nbsp; if (b.price == 0) return
true;</font></tt></b>
<br><b><tt><font color="#009900">&nbsp;&nbsp;&nbsp; if (score/price > b.score/b.price)
return true;</font></tt></b>
<br><b><tt><font color="#009900">&nbsp;&nbsp;&nbsp; return false;&nbsp;&nbsp;
}</font></tt></b>
<p><b><tt><font color="#009900">void Product::print() const</font></tt></b>
<br><b><tt><font color="#009900">{&nbsp; cout &lt;&lt; name</font></tt></b>
<br><b><tt><font color="#009900">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&lt;&lt; " Price: " &lt;&lt; price</font></tt></b>
<br><b><tt><font color="#009900">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&lt;&lt; " Score: " &lt;&lt; score &lt;&lt; "\n";&nbsp; }</font></tt></b><b><tt><font color="#009900"></font></tt></b>
<p><font color="#000000">* Неявен параметър на член-функция</font>
<br>
<hr WIDTH="100%">
<br><img SRC="yellowball.gif" height=14 width=14> Конструктори по подразбиране
и с параметри
<p>* Конструкторът инициализира полетата данни на обекта
<p>* Предефиниране на функции
<br><b><tt><font color="#009900">class Employee {</font></tt></b>
<br><b><tt><font color="#009900">public:</font></tt></b>
<br><b><tt><font color="#009900">&nbsp;&nbsp; Employee();</font></tt></b>
<br><b><tt><font color="#009900">&nbsp;&nbsp; Employee(string emp_name,
double init_salary);</font></tt></b>
<br><b><tt><font color="#009900">&nbsp;&nbsp; void set_salary(double new_salary);</font></tt></b>
<br><b><tt><font color="#009900">&nbsp;&nbsp; string get_name() const;</font></tt></b>
<br><b><tt><font color="#009900">&nbsp;&nbsp; double get_salary() const;</font></tt></b>
<br><b><tt><font color="#009900">&nbsp;&nbsp; void print() const;</font></tt></b>
<br><b><tt><font color="#009900">private:</font></tt></b>
<br><b><tt><font color="#009900">&nbsp;&nbsp; string name;</font></tt></b>
<br><b><tt><font color="#009900">&nbsp;&nbsp; double salary;</font></tt></b>
<br><b><tt><font color="#009900">};</font></tt></b>
<p><b><tt><font color="#009900">Employee::Employee(string emp_name, double
init_salary)</font></tt></b>
<br><b><tt><font color="#009900">{ name = emp_name;</font></tt></b>
<br><b><tt><font color="#009900">&nbsp; salary = init_salary;&nbsp; }</font></tt></b>
<br>
<hr WIDTH="100%">
<br><img SRC="yellowball.gif" height=14 width=14> Достъп до полетата с
данни
<p>&nbsp;* Само членовете-функции имат достъп до скритите полета с данни
<br><b><tt><font color="#009900">&nbsp;&nbsp; string get_name() const&nbsp;&nbsp;
{ return name; }</font></tt></b>
<p><b><tt><font color="#009900">&nbsp;&nbsp; double get_salary() const
{ return salary; }</font></tt></b>
<p><font color="#000000">* Явни и неявни параметри на функции</font>
<br><font color="#000000">-- член-функция с използване на достъпът до скритите
данни</font>
<br><b><tt><font color="#009900">void Employee::print() const</font></tt></b>
<br><b><tt><font color="#009900">{ cout &lt;&lt; "Name: " &lt;&lt; name
&lt;&lt; "&nbsp;&nbsp;&nbsp; "</font></tt></b>
<br><b><tt><font color="#009900">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;&lt;
"Salary: " &lt;&lt; salary &lt;&lt; "\n"; }</font></tt></b>
<br><font color="#000000">-- член-функция с използване на член-функции
от същия клас</font>
<br><b><tt><font color="#009900">void Employee::print() const</font></tt></b>
<br><b><tt><font color="#009900">{ cout &lt;&lt; "Name: " &lt;&lt; get_name()
&lt;&lt; "&nbsp;&nbsp;&nbsp; "</font></tt></b>
<br><b><tt><font color="#009900">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;&lt;
"Salary: " &lt;&lt; get_salary() &lt;&lt; "\n"; }</font></tt></b>
<br><font color="#000000">-- външна за класа функция</font>
<br><b><tt><font color="#009900">void print(Employee const &amp;emp)</font></tt></b>
<br><b><tt><font color="#009900">{ cout &lt;&lt; "Name: " &lt;&lt; emp.get_name()
&lt;&lt; "&nbsp;&nbsp;&nbsp; "</font></tt></b>
<br><b><tt><font color="#009900">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;&lt;
"Salary: " &lt;&lt; emp.get_salary() &lt;&lt; "\n"; }</font></tt></b>
<br>
<hr WIDTH="100%">
</body>
</html>
