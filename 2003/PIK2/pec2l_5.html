<!DOCTYPE html PUBLIC "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
   <meta name="Author" content="Nikolay Kirov">
   <meta name="GENERATOR" content="Mozilla/4.75 [en] (Win98; U) [Netscape]">
   <title>Pec2</title>
</head>
<body>

<hr width="100%">
<br><b>5. </b> <b>Тестване и настройка</b>
<br><img src="yellowball.gif" height="14" width="14"> Самостоятелно тестване
на функции
<br>* Данните, с които ще се тества функцията, се получават по 3 начена:
<br>-- като вход от потребителя
<br>-- като стойности, получени от цикъл
<br>-- случайни числа
<p><b><tt><font color="#993300">// sqrtest1.cpp</font></tt></b>
<br><b><tt><font color="#000099">#include &lt;iostream&gt;</font></tt></b>
<br><b><tt><font color="#000099">#include &lt;cmath&gt;</font></tt></b>
<br><b><tt><font color="#000099">using namespace std;</font></tt></b>
</p>
<p><b><tt><font color="#000099">bool not_equal(double x, double y)</font></tt></b>
<br><b><tt><font color="#000099">{</font></tt></b>
<br><b><tt><font color="#000099">   const double EPSILON = 1E-14;</font></tt></b>
<br><b><tt><font color="#000099">   double dmax = fabs(x);</font></tt></b>
<br><b><tt><font color="#000099">   if (fabs(y) &gt; dmax) dmax
= fabs(y);</font></tt></b>
<br><b><tt><font color="#000099">   return fabs(x - y) &gt; dmax
* EPSILON;</font></tt></b>
<br><b><tt><font color="#000099">}</font></tt></b>
</p>
<p><b><tt><font color="#000099">/* Function to be tested */</font></tt></b>
<br><b><tt><font color="#000099">double squareroot(double a)</font></tt></b>
<br><b><tt><font color="#000099">{  if (a == 0) return 0;</font></tt></b>
<br><b><tt><font color="#000099">   double xnew = a;</font></tt></b>
<br><b><tt><font color="#000099">   double xold;</font></tt></b>
<br><b><tt><font color="#000099">   do</font></tt></b>
<br><b><tt><font color="#000099">   {  xold = xnew;</font></tt></b>
<br><b><tt><font color="#000099">      xnew =
(xold + a / xold) / 2;</font></tt></b>
<br><b><tt><font color="#000099">   }</font></tt></b>
<br><b><tt><font color="#000099">   while (not_equal(xnew, xold));</font></tt></b>
<br><b><tt><font color="#000099">   return xnew;</font></tt></b>
<br><b><tt><font color="#000099">}</font></tt></b>
</p>
<p><b><tt><font color="#000099">/* Test stub */</font></tt></b>
<br><b><tt><font color="#000099">int main()</font></tt></b>
<br><b><tt><font color="#000099">{  double x;</font></tt></b>
<br><b><tt><font color="#000099">   while (cin &gt;&gt; x)</font></tt></b>
<br><b><tt><font color="#000099">   {  double y = squareroot(x);</font></tt></b>
<br><b><tt><font color="#000099">      cout &lt;&lt;
"squareroot of " &lt;&lt; x &lt;&lt; " = " &lt;&lt; y &lt;&lt; "\n";</font></tt></b>
<br><b><tt><font color="#000099">   }</font></tt></b>
<br><b><tt><font color="#000099">   return 0;</font></tt></b>
<br><b><tt><font color="#000099">}</font></tt></b>
</p>
<p><b><tt><font color="#993300">// sqrtest2.cpp</font></tt></b>
<br><b><tt><font color="#000099">#include &lt;iostream&gt;</font></tt></b>
<br><b><tt><font color="#000099">#include &lt;cmath&gt;</font></tt></b>
<br><b><tt><font color="#000099">using namespace std;</font></tt></b>
</p>
<p><b><tt><font color="#000099">bool not_equal(double x, double y)</font></tt></b>
<br><b><tt><font color="#000099">{</font></tt></b>
<br><b><tt><font color="#000099">   const double EPSILON = 1E-14;</font></tt></b>
<br><b><tt><font color="#000099">   double dmax = fabs(x);</font></tt></b>
<br><b><tt><font color="#000099">   if (fabs(y) &gt; dmax) dmax
= fabs(y);</font></tt></b>
<br><b><tt><font color="#000099">   return fabs(x - y) &gt; dmax
* EPSILON;</font></tt></b>
<br><b><tt><font color="#000099">}</font></tt></b>
</p>
<p><b><tt><font color="#000099">/* Function to be tested */</font></tt></b>
<br><b><tt><font color="#000099">double squareroot(double a)</font></tt></b>
<br><b><tt><font color="#000099">{</font></tt></b>
<br><b><tt><font color="#000099">   if (a == 0) return 0;</font></tt></b>
<br><b><tt><font color="#000099">   double xnew = a;</font></tt></b>
<br><b><tt><font color="#000099">   double xold;</font></tt></b>
<br><b><tt><font color="#000099">   do</font></tt></b>
<br><b><tt><font color="#000099">   {  xold = xnew;</font></tt></b>
<br><b><tt><font color="#000099">      xnew =
(xold + a / xold) / 2;</font></tt></b>
<br><b><tt><font color="#000099">   }</font></tt></b>
<br><b><tt><font color="#000099">   while (not_equal(xnew, xold));</font></tt></b>
<br><b><tt><font color="#000099">   return xnew;</font></tt></b>
<br><b><tt><font color="#000099">}</font></tt></b>
</p>
<p><b><tt><font color="#000099">/* Test stub */</font></tt></b>
<br><b><tt><font color="#000099">int main()</font></tt></b>
<br><b><tt><font color="#000099">{  double x;</font></tt></b>
<br><b><tt><font color="#000099">   for (x = 0; x &lt;= 10; x
= x + 0.5)</font></tt></b>
<br><b><tt><font color="#000099">   {  double y = squareroot(x);</font></tt></b>
<br><b><tt><font color="#000099">      cout &lt;&lt;
"squareroot of " &lt;&lt; x &lt;&lt; " = " &lt;&lt; y &lt;&lt; "\n";</font></tt></b>
<br><b><tt><font color="#000099">   }</font></tt></b>
<br><b><tt><font color="#000099">   return 0;</font></tt></b>
<br><b><tt><font color="#000099">}</font></tt></b>
</p>
<p><b><tt><font color="#993300">// sqrtest3.cpp</font></tt></b>
<br><b><tt><font color="#000099">#include &lt;iostream&gt;</font></tt></b>
<br><b><tt><font color="#000099">#include &lt;cstdlib&gt;</font></tt></b>
<br><b><tt><font color="#000099">#include &lt;cmath&gt;</font></tt></b>
<br><b><tt><font color="#000099">#include &lt;ctime&gt;</font></tt></b>
<br><b><tt><font color="#000099">using namespace std;</font></tt></b>
</p>
<p><b><tt><font color="#000099">void rand_seed()</font></tt></b>
<br><b><tt><font color="#000099">{</font></tt></b>
<br><b><tt><font color="#000099">   int seed = static_cast&lt;int&gt;(time(0));</font></tt></b>
<br><b><tt><font color="#000099">   srand(seed);</font></tt></b>
<br><b><tt><font color="#000099">}</font></tt></b>
</p>
<p><b><tt><font color="#000099">double rand_double(double a, double b)</font></tt></b>
<br><b><tt><font color="#000099">{  return a + (b - a) * rand() *
(1.0 / RAND_MAX);  }</font></tt></b>
</p>
<p><b><tt><font color="#000099">bool not_equal(double x, double y)</font></tt></b>
<br><b><tt><font color="#000099">{</font></tt></b>
<br><b><tt><font color="#000099">   const double EPSILON = 1E-14;</font></tt></b>
<br><b><tt><font color="#000099">   double dmax = fabs(x);</font></tt></b>
<br><b><tt><font color="#000099">   if (fabs(y) &gt; dmax) dmax
= fabs(y);</font></tt></b>
<br><b><tt><font color="#000099">   return fabs(x - y) &gt; dmax
* EPSILON;</font></tt></b>
<br><b><tt><font color="#000099">}</font></tt></b>
</p>
<p><b><tt><font color="#000099">/* Function to be tested */</font></tt></b>
<br><b><tt><font color="#000099">double squareroot(double a)</font></tt></b>
<br><b><tt><font color="#000099">{</font></tt></b>
<br><b><tt><font color="#000099">   if (a == 0) return 0;</font></tt></b>
<br><b><tt><font color="#000099">   double xnew = a;</font></tt></b>
<br><b><tt><font color="#000099">   double xold;</font></tt></b>
<br><b><tt><font color="#000099">   do</font></tt></b>
<br><b><tt><font color="#000099">   {  xold = xnew;</font></tt></b>
<br><b><tt><font color="#000099">      xnew =
(xold + a / xold) / 2;</font></tt></b>
<br><b><tt><font color="#000099">   }</font></tt></b>
<br><b><tt><font color="#000099">   while (not_equal(xnew, xold));</font></tt></b>
<br><b><tt><font color="#000099">   return xnew;</font></tt></b>
<br><b><tt><font color="#000099">}</font></tt></b>
</p>
<p><b><tt><font color="#000099">/* Test stub */</font></tt></b>
<br><b><tt><font color="#000099">int main()</font></tt></b>
<br><b><tt><font color="#000099">{  rand_seed();</font></tt></b>
<br><b><tt><font color="#000099">   int i;</font></tt></b>
<br><b><tt><font color="#000099">   for (i = 1; i &lt;= 100;
i++)</font></tt></b>
<br><b><tt><font color="#000099">   {  double x = rand_double(0,
1E6);</font></tt></b>
<br><b><tt><font color="#000099">      double
y = squareroot(x);</font></tt></b>
<br><b><tt><font color="#000099">      cout &lt;&lt;
"squareroot of " &lt;&lt; x &lt;&lt; " = " &lt;&lt; y &lt;&lt; "\n";</font></tt></b>
<br><b><tt><font color="#000099">   }</font></tt></b>
<br><b><tt><font color="#000099">   return 0;</font></tt></b>
<br><b><tt><font color="#000099">}</font></tt></b>
</p>
<p><img src="yellowball.gif" height="14" width="14"> Подбор на тестови примери
</p>
<p><img src="yellowball.gif" height="14" width="14"> Оценка на резултатите
от тестването
<br><b><tt><font color="#993300">// sqrtest4.cpp</font></tt></b>
<br><b><tt><font color="#000099">oo#include &lt;iostream&gt;</font></tt></b>
<br><b><tt><font color="#000099">#include &lt;cstdlib&gt;</font></tt></b>
<br><b><tt><font color="#000099">#include &lt;cmath&gt;</font></tt></b>
<br><b><tt><font color="#000099">#include &lt;ctime&gt;</font></tt></b>
<br><b><tt><font color="#000099">using namespace std;</font></tt></b>
</p>
<p><b><tt><font color="#000099">void rand_seed()</font></tt></b>
<br><b><tt><font color="#000099">{</font></tt></b>
<br><b><tt><font color="#000099">   int seed = static_cast&lt;int&gt;(time(0));</font></tt></b>
<br><b><tt><font color="#000099">   srand(seed);</font></tt></b>
<br><b><tt><font color="#000099">}</font></tt></b>
</p>
<p><b><tt><font color="#000099">double rand_double(double a, double b)</font></tt></b>
<br><b><tt><font color="#000099">{  return a + (b - a) * rand() *
(1.0 / RAND_MAX);   }</font></tt></b>
</p>
<p><b><tt><font color="#000099">bool not_equal(double x, double y)</font></tt></b>
<br><b><tt><font color="#000099">{</font></tt></b>
<br><b><tt><font color="#000099">   const double EPSILON = 1E-14;</font></tt></b>
<br><b><tt><font color="#000099">   double dmax = fabs(x);</font></tt></b>
<br><b><tt><font color="#000099">   if (fabs(y) &gt; dmax) dmax
= fabs(y);</font></tt></b>
<br><b><tt><font color="#000099">   return fabs(x - y) &gt; dmax
* EPSILON;</font></tt></b>
<br><b><tt><font color="#000099">}</font></tt></b>
</p>
<p><b><tt><font color="#000099">/* Function to be tested */</font></tt></b>
<br><b><tt><font color="#000099">double squareroot(double a)</font></tt></b>
<br><b><tt><font color="#000099">{</font></tt></b>
<br><b><tt><font color="#000099">   if (a == 0) return 0;</font></tt></b>
<br><b><tt><font color="#000099">   double xnew = a;</font></tt></b>
<br><b><tt><font color="#000099">   double xold;</font></tt></b>
<br><b><tt><font color="#000099">   do</font></tt></b>
<br><b><tt><font color="#000099">   {  xold = xnew;</font></tt></b>
<br><b><tt><font color="#000099">      xnew =
(xold + a / xold) / 2;</font></tt></b>
<br><b><tt><font color="#000099">   }</font></tt></b>
<br><b><tt><font color="#000099">   while (not_equal(xnew, xold));</font></tt></b>
<br><b><tt><font color="#000099">   return xnew;</font></tt></b>
<br><b><tt><font color="#000099">}</font></tt></b>
</p>
<p><b><tt><font color="#000099">/* Test stub */</font></tt></b>
<br><b><tt><font color="#000099">int main()</font></tt></b>
<br><b><tt><font color="#000099">{  int i;</font></tt></b>
<br><b><tt><font color="#000099">   for (i = 1; i &lt;= 100;
i++)</font></tt></b>
<br><b><tt><font color="#000099">   {  double x = rand_double(0,
1E6);</font></tt></b>
<br><b><tt><font color="#000099">      double
y = squareroot(x);</font></tt></b>
<br><b><tt><font color="#000099">      if (not_equal(y
* y, x))  cout &lt;&lt; "Test failed. ";</font></tt></b>
<br><b><tt><font color="#000099">      else                     
cout &lt;&lt; "Test passed. ";</font></tt></b>
<br><b><tt><font color="#000099">      cout &lt;&lt;
"squareroot of " &lt;&lt; x &lt;&lt; " = " &lt;&lt; y &lt;&lt; "\n";</font></tt></b>
<br><b><tt><font color="#000099">   }</font></tt></b>
<br><b><tt><font color="#000099">   return 0;</font></tt></b>
<br><b><tt><font color="#000099">}</font></tt></b>
</p>
<p><b><tt><font color="#993300">// sqrtest5.cpp</font></tt></b>
<br><b><tt><font color="#000099">#include &lt;iostream&gt;</font></tt></b>
<br><b><tt><font color="#000099">#include &lt;cstdlib&gt;</font></tt></b>
<br><b><tt><font color="#000099">#include &lt;cmath&gt;</font></tt></b>
<br><b><tt><font color="#000099">#include &lt;ctime&gt;</font></tt></b>
<br><b><tt><font color="#000099">using namespace std;</font></tt></b>
</p>
<p><b><tt><font color="#000099">void rand_seed()</font></tt></b>
<br><b><tt><font color="#000099">{</font></tt></b>
<br><b><tt><font color="#000099">   int seed = static_cast&lt;int&gt;(time(0));</font></tt></b>
<br><b><tt><font color="#000099">   srand(seed);</font></tt></b>
<br><b><tt><font color="#000099">}</font></tt></b>
</p>
<p><b><tt><font color="#000099">double rand_double(double a, double b)</font></tt></b>
<br><b><tt><font color="#000099">{  return a + (b - a) * rand() *
(1.0 / RAND_MAX);   }</font></tt></b>
</p>
<p><b><tt><font color="#000099">bool not_equal(double x, double y)</font></tt></b>
<br><b><tt><font color="#000099">{</font></tt></b>
<br><b><tt><font color="#000099">   const double EPSILON = 1E-14;</font></tt></b>
<br><b><tt><font color="#000099">   double dmax = fabs(x);</font></tt></b>
<br><b><tt><font color="#000099">   if (fabs(y) &gt; dmax) dmax
= fabs(y);</font></tt></b>
<br><b><tt><font color="#000099">   return fabs(x - y) &gt; dmax
* EPSILON;</font></tt></b>
<br><b><tt><font color="#000099">}</font></tt></b>
</p>
<p><b><tt><font color="#000099">/* Function to be tested */</font></tt></b>
<br><b><tt><font color="#000099">double squareroot(double a)</font></tt></b>
<br><b><tt><font color="#000099">{</font></tt></b>
<br><b><tt><font color="#000099">   if (a == 0) return 0;</font></tt></b>
<br><b><tt><font color="#000099">   double xnew = a;</font></tt></b>
<br><b><tt><font color="#000099">   double xold;</font></tt></b>
<br><b><tt><font color="#000099">   do</font></tt></b>
<br><b><tt><font color="#000099">   {  xold = xnew;</font></tt></b>
<br><b><tt><font color="#000099">      xnew =
(xold + a / xold) / 2;</font></tt></b>
<br><b><tt><font color="#000099">   }</font></tt></b>
<br><b><tt><font color="#000099">   while (not_equal(xnew, xold));</font></tt></b>
<br><b><tt><font color="#000099">   return xnew;</font></tt></b>
<br><b><tt><font color="#000099">}</font></tt></b>
<br> 
</p>
<p><b><tt><font color="#000099">/* Test stub */</font></tt></b>
<br><b><tt><font color="#000099">int main()</font></tt></b>
<br><b><tt><font color="#000099">{</font></tt></b>
<br><b><tt><font color="#000099">   rand_seed();</font></tt></b>
<br><b><tt><font color="#000099">   int i;</font></tt></b>
<br><b><tt><font color="#000099">   for (i = 1; i &lt;= 100;
i++)</font></tt></b>
<br><b><tt><font color="#000099">   {  double x = rand_double(0,
1E6);</font></tt></b>
<br><b><tt><font color="#000099">      double
y = squareroot(x);</font></tt></b>
<br><b><tt><font color="#000099">      if (not_equal(y,
pow(x, 0.5))) cout &lt;&lt; "Test failed. ";</font></tt></b>
<br><b><tt><font color="#000099">      else                          
cout &lt;&lt; "Test passed. ";</font></tt></b>
<br><b><tt><font color="#000099">      cout &lt;&lt;
"squareroot of " &lt;&lt; x &lt;&lt; " = " &lt;&lt; y &lt;&lt; "\n";</font></tt></b>
<br><b><tt><font color="#000099">   }</font></tt></b>
<br><b><tt><font color="#000099">   return 0;</font></tt></b>
<br><b><tt><font color="#000099">}</font></tt></b>
</p>
<p><img src="yellowball.gif" height="14" width="14"> Трасиране на програмата
</p>
<p><img src="yellowball.gif" height="14" width="14"> Работа на дебъгерът
</p>
<p><img src="yellowball.gif" height="14" width="14"> Стратегии при тестването
<br>** Възпроизвеждане на грешката
<br>** "Разделяй и владей"
<br>** Изяснете си какво трябва да прави програмата ви
<br>** Обръщайте внимание на всички подробности
<br>** Вниквайте във всяка грешка преди да я отстраните
<br>
</p>
<hr width="100%">
<br> 
<br> 
</body>
</html>
