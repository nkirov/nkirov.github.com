<HTML>
<HEAD>
   <META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=windows-1251">
   <META NAME="Author" CONTENT="Nikolay Kirov">
   <META NAME="GENERATOR" CONTENT="Mozilla/4.04 [en] (Win95; I) [Netscape]">
   <TITLE>Pec2</TITLE>
</HEAD>
<BODY>

<HR WIDTH="100%">
<BR><B>4.&nbsp;</B>&nbsp; <B>Класове&nbsp;</B>
<BR>До сега за класовете:
<BR><B><TT><FONT COLOR="#009900">Employee harry("Hacher, Harry", 350);</FONT></TT></B>
<BR><B><TT><FONT COLOR="#009900">harry.set_salary(380);</FONT></TT></B>
<BR><B><TT><FONT COLOR="#009900">cout &lt;&lt; harry.get_name();</FONT></TT></B>

<P><IMG SRC="bullet.gif"  ALIGN=CENTER>&nbsp; Обособяване на класове
<BR>Чете се информация за компютри, съдържаща:
<BR>&nbsp;
<TABLE BORDER CELLPADDING=5 >
<TR>
<TD>име на модел</TD>

<TD>name</TD>

<TD>OmniBook XE</TD>
</TR>

<TR>
<TD>цена</TD>

<TD>price</TD>

<TD>5660</TD>
</TR>

<TR>
<TD>оценка</TD>

<TD>score</TD>

<TD>76</TD>
</TR>
</TABLE>


<P>Търси се продукта с най-голямо отношение оценка/цена.

<P><B><TT><FONT COLOR="#3333FF">#include &lt;iostream></FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">#include &lt;string></FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">using namespace std;</FONT></TT></B>

<P><B><TT><FONT COLOR="#3333FF">int main()</FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">{&nbsp; string best_name = "";</FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">&nbsp;&nbsp; double best_price = 0;</FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">&nbsp;&nbsp; int best_score = 0;</FONT></TT></B>

<P><B><TT><FONT COLOR="#3333FF">&nbsp;&nbsp; bool more = true;</FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">&nbsp;&nbsp; while (more)</FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">&nbsp;&nbsp; {&nbsp; string next_name;</FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; double
next_price;</FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int next_score;</FONT></TT></B>

<P><B><TT><FONT COLOR="#3333FF">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cout &lt;&lt;
"Please enter the model name: ";</FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; getline(cin,
next_name);</FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cout &lt;&lt;
"Please enter the price: ";</FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cin >>
next_price;</FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cout &lt;&lt;
"Please enter the score: ";</FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cin >>
next_score;</FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; string
remainder; /* read remainder of line */</FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; getline(cin,
remainder);</FONT></TT></B>

<P><B><TT><FONT COLOR="#3333FF">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (next_price
!= 0)</FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;
if (best_price == 0 or</FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
next_score/next_price > best_score/best_price)</FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
{&nbsp; best_name = next_name;</FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
best_score = next_score;</FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
best_price = next_price;</FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
}</FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cout &lt;&lt;
"More data? (y/n) ";</FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; string
answer;</FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; getline(cin,
answer);</FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (answer
!= "y") more = false;</FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">&nbsp;&nbsp; }</FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">&nbsp;&nbsp; cout &lt;&lt; "The best bang
for the buck is " &lt;&lt; best_name</FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;&lt;
" (Score: " &lt;&lt; best_score</FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;&lt;
" Price: " &lt;&lt; best_price &lt;&lt; ")\n";</FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">&nbsp;&nbsp; return 0;</FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">}</FONT></TT></B>

<P><IMG SRC="bullet.gif"  ALIGN=CENTER> Интерфейс и капсулиране
<BR><B><TT><FONT COLOR="#3333FF">#include &lt;iostream></FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">#include &lt;string></FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">using namespace std;</FONT></TT></B>

<P><B><TT><FONT COLOR="#3333FF">class Product&nbsp; {</FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">public:&nbsp;&nbsp; /*интерфейс*/&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT></TT></B>
<BR><TT><B><FONT COLOR="#3333FF">&nbsp;&nbsp; Product();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
/*</FONT></B><FONT COLOR="#000000">създава нов продукт</FONT><B><FONT COLOR="#3333FF">*/</FONT></B></TT>
<BR><TT><B><FONT COLOR="#3333FF">&nbsp;&nbsp; void read();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
/*</FONT></B><FONT COLOR="#000000">чете продукт</FONT><B><FONT COLOR="#3333FF">*/</FONT></B></TT>
<BR><TT><B><FONT COLOR="#3333FF">&nbsp;&nbsp; bool is_better_than(Product
b) const;/*</FONT></B><FONT COLOR="#000000">сравнява</FONT><B><FONT COLOR="#3333FF">*/</FONT></B></TT>
<BR><TT><B><FONT COLOR="#3333FF">&nbsp;&nbsp; void print() const;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
/*</FONT></B><FONT COLOR="#000000">отпечатва</FONT><B><FONT COLOR="#3333FF">*/</FONT></B></TT>
<BR><B><TT><FONT COLOR="#3333FF">private:&nbsp; /*капсулиране*/</FONT></TT></B>
<BR><TT><B><FONT COLOR="#3333FF">&nbsp;&nbsp; string name;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
/*</FONT></B><FONT COLOR="#000000">скрити данни</FONT><B><FONT COLOR="#3333FF">*/</FONT></B></TT>
<BR><TT><B><FONT COLOR="#3333FF">&nbsp;&nbsp; double price;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
/*</FONT></B><FONT COLOR="#000000">скрити данни</FONT><B><FONT COLOR="#3333FF">*/</FONT></B></TT>
<BR><B><TT><FONT COLOR="#3333FF">&nbsp;&nbsp; int score;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
/*</FONT><FONT COLOR="#000000">скрити данни</FONT><FONT COLOR="#3333FF">*/</FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">};</FONT></TT></B>

<P><B><TT><FONT COLOR="#3333FF">int main()</FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">{&nbsp; Product best;</FONT></TT></B>

<P><B><TT><FONT COLOR="#3333FF">&nbsp;&nbsp; bool more = true;</FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">&nbsp;&nbsp; while (more)</FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">&nbsp;&nbsp; {&nbsp; Product next;</FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; next.read();</FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (next.is_better_than(best))
best = next;</FONT></TT></B>

<P><B><TT><FONT COLOR="#3333FF">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cout &lt;&lt;
"More data? (y/n) ";</FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; string
answer;</FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; getline(cin,
answer);</FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (answer
!= "y") more = false;</FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">&nbsp;&nbsp; }</FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">&nbsp;&nbsp; cout &lt;&lt; "The best bang
for the buck is ";</FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">&nbsp;&nbsp; best.print();</FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">&nbsp;&nbsp; return 0;</FONT></TT></B>
<BR><B><TT><FONT COLOR="#3333FF">}</FONT></TT></B>

<P><IMG SRC="bullet.gif"  ALIGN=CENTER> Членове-функции
<BR>* конструктор
<BR><B><TT><FONT COLOR="#009900">Product::Product() {&nbsp; price = 0;&nbsp;&nbsp;
score = 0; }</FONT></TT></B>

<P>* мутатори (set-функции)
<BR><B><TT><FONT COLOR="#009900">void Product::read()</FONT></TT></B>
<BR><B><TT><FONT COLOR="#009900">{&nbsp; cout &lt;&lt; "Please enter the
model name: ";</FONT></TT></B>
<BR><B><TT><FONT COLOR="#009900">&nbsp;&nbsp; getline(cin, name);</FONT></TT></B>
<BR><B><TT><FONT COLOR="#009900">&nbsp;&nbsp; cout &lt;&lt; "Please enter
the price: ";</FONT></TT></B>
<BR><B><TT><FONT COLOR="#009900">&nbsp;&nbsp; cin >> price;</FONT></TT></B>
<BR><B><TT><FONT COLOR="#009900">&nbsp;&nbsp; cout &lt;&lt; "Please enter
the score: ";</FONT></TT></B>
<BR><B><TT><FONT COLOR="#009900">&nbsp;&nbsp; cin >> score;</FONT></TT></B>
<BR><B><TT><FONT COLOR="#009900">&nbsp;&nbsp; string remainder;</FONT></TT></B>
<BR><B><TT><FONT COLOR="#009900">&nbsp;&nbsp; getline(cin, remainder);
}</FONT></TT></B>

<P>* функции за достъп (get-функции)
<BR><B><TT><FONT COLOR="#009900">bool Product::is_better_than(Product b)
const</FONT></TT></B>
<BR><B><TT><FONT COLOR="#009900">{&nbsp; if (price == 0) return false;</FONT></TT></B>
<BR><B><TT><FONT COLOR="#009900">&nbsp;&nbsp;&nbsp; if (b.price == 0) return
true;</FONT></TT></B>
<BR><B><TT><FONT COLOR="#009900">&nbsp;&nbsp;&nbsp; if (score/price > b.score/b.price)
return true;</FONT></TT></B>
<BR><B><TT><FONT COLOR="#009900">&nbsp;&nbsp;&nbsp; return false;&nbsp;&nbsp;
}</FONT></TT></B>

<P><B><TT><FONT COLOR="#009900">void Product::print() const</FONT></TT></B>
<BR><B><TT><FONT COLOR="#009900">{&nbsp; cout &lt;&lt; name</FONT></TT></B>
<BR><B><TT><FONT COLOR="#009900">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&lt;&lt; " Price: " &lt;&lt; price</FONT></TT></B>
<BR><B><TT><FONT COLOR="#009900">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&lt;&lt; " Score: " &lt;&lt; score &lt;&lt; "\n";&nbsp; }</FONT></TT></B>
<BR><FONT COLOR="#000000">* Неявен параметър на член-функция</FONT>

<P><IMG SRC="bullet.gif"  ALIGN=CENTER> Конструктори по подразбиране и
с параметри
<BR>* Конструкторът инициализира полетата данни на обекта
<BR>* Предефиниране на функции
<BR><B><TT><FONT COLOR="#009900">class Employee {</FONT></TT></B>
<BR><B><TT><FONT COLOR="#009900">public:</FONT></TT></B>
<BR><B><TT><FONT COLOR="#009900">&nbsp;&nbsp; Employee();</FONT></TT></B>
<BR><B><TT><FONT COLOR="#009900">&nbsp;&nbsp; Employee(string emp_name,
double init_salary);</FONT></TT></B>
<BR><B><TT><FONT COLOR="#009900">&nbsp;&nbsp; void set_salary(double new_salary);</FONT></TT></B>
<BR><B><TT><FONT COLOR="#009900">&nbsp;&nbsp; string get_name() const;</FONT></TT></B>
<BR><B><TT><FONT COLOR="#009900">&nbsp;&nbsp; double get_salary() const;</FONT></TT></B>
<BR><B><TT><FONT COLOR="#009900">&nbsp;&nbsp; void print() const;</FONT></TT></B>
<BR><B><TT><FONT COLOR="#009900">private:</FONT></TT></B>
<BR><B><TT><FONT COLOR="#009900">&nbsp;&nbsp; string name;</FONT></TT></B>
<BR><B><TT><FONT COLOR="#009900">&nbsp;&nbsp; double salary;</FONT></TT></B>
<BR><B><TT><FONT COLOR="#009900">};</FONT></TT></B>

<P><B><TT><FONT COLOR="#009900">Employee::Employee(string emp_name, double
init_salary)</FONT></TT></B>
<BR><B><TT><FONT COLOR="#009900">{ name = emp_name;</FONT></TT></B>
<BR><B><TT><FONT COLOR="#009900">&nbsp; salary = init_salary;&nbsp; }</FONT></TT></B>

<P><IMG SRC="bullet.gif"  ALIGN=CENTER> Достъп до полетата с данни
<BR>&nbsp;* Само членовете-функции имат достъп до скритите полета с данни
<BR><B><TT><FONT COLOR="#009900">&nbsp;&nbsp; string get_name() const&nbsp;&nbsp;
{ return name; }</FONT></TT></B>

<P><B><TT><FONT COLOR="#009900">&nbsp;&nbsp; double get_salary() const
{ return salary; }</FONT></TT></B>

<P><FONT COLOR="#000000">* Явни и неявни параметри на функции</FONT>
<BR><FONT COLOR="#000000">-- член-функция с използване на достъпът до скритите
данни</FONT>
<BR><B><TT><FONT COLOR="#009900">void Employee::print() const</FONT></TT></B>
<BR><B><TT><FONT COLOR="#009900">{ cout &lt;&lt; "Name: " &lt;&lt; name
&lt;&lt; "&nbsp;&nbsp;&nbsp; "</FONT></TT></B>
<BR><B><TT><FONT COLOR="#009900">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;&lt;
"Salary: " &lt;&lt; salary &lt;&lt; "\n"; }</FONT></TT></B>
<BR><FONT COLOR="#000000">-- член-функция с използване на член-функции
от същия клас</FONT>
<BR><B><TT><FONT COLOR="#009900">void Employee::print() const</FONT></TT></B>
<BR><B><TT><FONT COLOR="#009900">{ cout &lt;&lt; "Name: " &lt;&lt; get_name()
&lt;&lt; "&nbsp;&nbsp;&nbsp; "</FONT></TT></B>
<BR><B><TT><FONT COLOR="#009900">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;&lt;
"Salary: " &lt;&lt; get_salary() &lt;&lt; "\n"; }</FONT></TT></B>
<BR><FONT COLOR="#000000">-- външна за класа функция</FONT>
<BR><B><TT><FONT COLOR="#009900">void print(Employee const &amp;emp)</FONT></TT></B>
<BR><B><TT><FONT COLOR="#009900">{ cout &lt;&lt; "Name: " &lt;&lt; emp.get_name()
&lt;&lt; "&nbsp;&nbsp;&nbsp; "</FONT></TT></B>
<BR><B><TT><FONT COLOR="#009900">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;&lt;
"Salary: " &lt;&lt; emp.get_salary() &lt;&lt; "\n"; }</FONT></TT></B>
<BR>
<HR WIDTH="100%">
</BODY>
</HTML>
