<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
   <meta name="Author" content="Nikolay Kirov">
   <meta name="GENERATOR" content="Mozilla/4.04 [en] (Win95; I) [Netscape]">
   <title>Pec2</title>
</head>
<body>

<hr width="100%">
<br><b>1. Функции</b>
<br><img src="bullet.gif" height="18" width="20"> Използване на функции
<br><b><tt><font color="#009900">   cout &lt;&lt; sqrt(x);</font></tt></b>
<br>* Входна стойност или стойност на параметъра: променлива, израз, константа
<br>- различен брой на параметрите:
<br><b><tt><font color="#009900"> main(), sqrt(x), pow(x,y)</font></tt></b>
<br>- неявни параметри - за член-функции:
<br><b><tt> <font color="#009900">harry.get_salary(), t.add_seconds(10)</font></tt></b>
<br>- всеки параметър е от определен тип:
<br><b><tt> <font color="#009900">fabs(x), getline(cin,s), </font></tt></b>
<br>* Изходна стойност или стойност на функцията
<br>- стойността има определен тип:
<br><b><tt> <font color="#009900">sqrt(x), main(), c.get_center(),
m.get_text(), getline(cin,s)</font></tt></b>

<p><img src="bullet.gif" height="18" width="20"> Писане на функции
<br>Да пресметнем стойността на влог с начална сума 10000 лв. след 10 години
при месечно начисляване на лихвата. Нека годишната лихва да е p%.
<br><b><tt><font color="#009900">double future_value(double p)</font></tt></b>
<br><b><tt><font color="#009900">{</font></tt></b>
<br><b><tt><font color="#009900"> double b = 1000*pow(1 + p/(12*100),
12*10);</font></tt></b>
<br><b><tt><font color="#009900"> return b;</font></tt></b>
<br><b><tt><font color="#009900">}</font></tt></b>
<br>Тип на резултата, име на функцията, тип на параметъра, име на парамeтъра.

</p>
<p><b><tt><font color="#3333FF">#include &lt;iostream&gt;</font></tt></b>
<br><b><tt><font color="#3333FF">#include &lt;cmath&gt;</font></tt></b>
<br><b><tt><font color="#3333FF">using namespace std;</font></tt></b>
<br><b><tt><font color="#3333FF">double future_value(double p)</font></tt></b>
<br><b><tt><font color="#3333FF">{</font></tt></b>
<br><b><tt><font color="#3333FF"> double b = 1000*pow(1 + p/(12*100),
12*10);</font></tt></b>
<br><b><tt><font color="#3333FF"> return b;</font></tt></b>
<br><b><tt><font color="#3333FF">}</font></tt></b>
<br><b><tt><font color="#3333FF">int main()</font></tt></b>
<br><b><tt><font color="#3333FF">{</font></tt></b>
<br><b><tt><font color="#3333FF"> cout &lt;&lt; "Please enter the
interest rate in percent: ";</font></tt></b>
<br><b><tt><font color="#3333FF"> double rate;</font></tt></b>
<br><b><tt><font color="#3333FF"> cin &gt;&gt; rate;</font></tt></b>

</p>
<p><b><tt><font color="#3333FF"> double balance = future_value(rate);</font></tt></b>
<br><b><tt><font color="#3333FF"> cout &lt;&lt; "After 10 years, the
balance is " &lt;&lt; balance &lt;&lt; "\n";</font></tt></b>
<br><b><tt><font color="#3333FF"> return 0;</font></tt></b>
<br><b><tt><font color="#3333FF">}</font></tt></b>

</p>
<p><img src="bullet.gif" height="18" width="20" align="ABSBOTTOM"> Документиране
на функции

</p>
<p><img src="bullet.gif" height="18" width="20" align="ABSBOTTOM"> Връщане на
стойност
<br>* Оператор <b><tt><font color="#009900">return</font></tt></b>
<br><b><tt><font color="#3333FF">#include &lt;iostream&gt;</font></tt></b>
<br><b><tt><font color="#3333FF">#include &lt;cmath&gt;</font></tt></b>
<br><b><tt><font color="#3333FF">using namespace std;</font></tt></b>

</p>
<p><b><tt><font color="#3333FF">double future_value(double initial_balance,
double p, int nyear)</font></tt></b>
<br><b><tt><font color="#3333FF">{ if (nyear &lt; 0) return 0;</font></tt></b>
<br><b><tt><font color="#3333FF">  if (p &lt; 0) returen 0;</font></tt></b>
<br>  <b><tt><font color="#3333FF"> double b = 1000*pow(1 + p/(12*100),
12*10);</font></tt></b>
<br><b><tt><font color="#3333FF">  return b;</font></tt></b>
<br><b><tt><font color="#3333FF">}</font></tt></b><b><tt><font color="#3333FF"></font></tt></b>

</p>
<p><b><tt><font color="#3333FF">int main()</font></tt></b>
<br><b><tt><font color="#3333FF">{</font></tt></b>
<br><b><tt><font color="#3333FF"> cout &lt;&lt; "Interest rate in
percent: ";</font></tt></b>
<br><b><tt><font color="#3333FF"> double rate;</font></tt></b>
<br><b><tt><font color="#3333FF"> cin &gt;&gt; rate;</font></tt></b>

</p>
<p><b><tt><font color="#3333FF"> double bal = future_value(10000,
rate, 10);</font></tt></b>
<br><b><tt><font color="#3333FF"> cout &lt;&lt; "After 10 years, the
balance is " &lt;&lt; bal &lt;&lt; "\n";</font></tt></b>
<br><b><tt><font color="#3333FF"> return 0;</font></tt></b>
<br><b><tt><font color="#3333FF">}</font></tt></b>
<br>* Предикат - проверка дали точка лежи в кръг.
<br><b><tt><font color="#3333FF">#include "ccc_win.cpp"</font></tt></b>

</p>
<p><b><tt><font color="#3333FF">bool is_inside(Point p, Circle c)</font></tt></b>
<br><b><font color="#3333FF"><tt>/*</tt> </font><tt><font color="#000099">PURPOSE: 
tests whether a point lies inside a circle</font></tt></b>
<br><b><tt><font color="#000099">  RECEIVES: p - a point, c - a circle</font></tt></b>
<br><b><tt><font color="#000099">  RETURNS:  true if p lies inside
c</font></tt></b>
<br><b><tt><font color="#3333FF">*/</font></tt></b>
<br><b><tt><font color="#3333FF">{  double dx = p.get_x() - c.get_center().get_x();</font></tt></b>
<br><b><tt><font color="#3333FF">   double dy = p.get_y() - c.get_center().get_y();</font></tt></b>
<br><b><tt><font color="#3333FF">   double r = c.get_radius();</font></tt></b>

</p>
<p><b><tt><font color="#3333FF">   return dx * dx + dy * dy &lt;=
r * r;</font></tt></b>
<br><b><tt><font color="#3333FF">}</font></tt></b>
<br><b><tt><font color="#3333FF">int main()</font></tt></b>
<br><b><tt><font color="#3333FF">{  Circle c(Point(1, 1), 2);</font></tt></b>
<br><b><tt><font color="#3333FF">   cwin &lt;&lt; c;</font></tt></b>
<br><b><tt><font color="#3333FF">   Point m = cwin.get_mouse("Please
click inside the circle.");</font></tt></b>
<br><b><tt><font color="#3333FF">   if (is_inside(m, c))</font></tt></b>
<br><b><tt><font color="#3333FF">      cwin &lt;&lt;
Message(Point(3, 3), "Congratulations!");</font></tt></b>
<br><b><tt><font color="#3333FF">   else</font></tt></b>
<br><b><tt><font color="#3333FF">      cwin &lt;&lt;
Message(Point(3, 3), "You missed!");</font></tt></b>
<br><b><tt><font color="#3333FF">   return 0;</font></tt></b>
<br><b><tt><font color="#3333FF">}</font></tt></b>

</p>
<p><img src="bullet.gif" height="18" width="20" align="ABSBOTTOM"> Параметри
на функции
<br>* Формални параметри  - параметри-променливи, декларират се при
дефиницията на функцията
<br>* Фактически параметри - изрази за инициализация на параметрите-променливи,
задават се при извикване на функцията

</p>
<p><img src="bullet.gif" height="18" width="20" align="ABSBOTTOM"> Процедури
<br>* Функция, която не връща стойност се нарича процедура.
<br>* Процедура за отпечатване на обект от тип <tt><font color="#009900">Time</font></tt>
<br><b><tt><font color="#3333FF">#include &lt;iostream&gt;</font></tt></b>
<br><b><tt><font color="#3333FF">#include &lt;iomanip&gt;</font></tt></b>
<br><b><tt><font color="#3333FF">using namespace std;</font></tt></b>
<br><b><tt><font color="#3333FF">#include "ccc_time.cpp"</font></tt></b>

</p>
<p><b><tt><font color="#3333FF">void print_time(Time t)</font></tt></b>
<br><b><tt><font color="#3333FF">/*</font><font color="#000099"> PURPOSE: 
Print a time in the format h:mm:ss</font></tt></b>
<br><b><tt><font color="#000099">   RECEIVES: t - the time to
print</font></tt></b>
<br><b><tt><font color="#3333FF">*/</font></tt></b>
<br><b><tt><font color="#3333FF">{  cout &lt;&lt; t.get_hours() &lt;&lt;
":";</font></tt></b>
<br><b><tt><font color="#3333FF">   if (t.get_minutes() &lt;
10) cout &lt;&lt; "0";</font></tt></b>
<br><b><tt><font color="#3333FF">   cout &lt;&lt; t.get_minutes()
&lt;&lt; ":";</font></tt></b>
<br><b><tt><font color="#3333FF">   if (t.get_seconds() &lt;
10) cout &lt;&lt; "0";</font></tt></b>
<br><b><tt><font color="#3333FF">   cout &lt;&lt; t.get_seconds();</font></tt></b>
<br><b><tt><font color="#3333FF">}</font></tt></b>

</p>
<p><b><tt><font color="#3333FF">int main()</font></tt></b>
<br><b><tt><font color="#3333FF">{  Time liftoff(7, 0, 15);</font></tt></b>
<br><b><tt><font color="#3333FF">   Time now;</font></tt></b>
<br><b><tt><font color="#3333FF">   cout &lt;&lt; "Liftoff: ";</font></tt></b>
<br><b><tt><font color="#3333FF">   print_time(liftoff);</font></tt></b>
<br><b><tt><font color="#3333FF">   cout &lt;&lt; "\n";</font></tt></b>

</p>
<p><b><tt><font color="#3333FF">   cout &lt;&lt; "Now: ";</font></tt></b>
<br><b><tt><font color="#3333FF">   print_time(now);</font></tt></b>
<br><b><tt><font color="#3333FF">   cout &lt;&lt; "\n";</font></tt></b>
<br><b><tt><font color="#3333FF">   return 0;</font></tt></b>
<br><b><tt><font color="#3333FF">}</font></tt></b>

</p>
<p><img src="bullet.gif" height="18" width="20" align="ABSBOTTOM"> Параметри-псевдоними
<br>* Параметър-псевдоним не е нова променлива, а псевдоним на съществуваща
променлива в извикващата функция.
<br><b><tt><font color="#3333FF">#include &lt;iostream&gt;</font></tt></b>
<br><b><tt><font color="#3333FF">using namespace std;</font></tt></b>
<br><b><tt><font color="#3333FF">#include "ccc_empl.cpp"</font></tt></b>

</p>
<p><b><tt><font color="#3333FF">void raise_salary(Employee&amp; e, double
by)</font></tt></b>
<br><b><tt><font color="#3333FF">/* </font><font color="#000099">PURPOSE: 
Raise an employee salary</font></tt></b>
<br><b><tt><font color="#000099">   RECEIVES: e - employee receiving
raise</font></tt></b>
<br><b><tt><font color="#000099">            
by - the percentage of the raise</font></tt></b>
<br><b><tt><font color="#3333FF">*/</font></tt></b>
<br><b><tt><font color="#3333FF">{  double new_salary = e.get_salary()
* (1 + by / 100);</font></tt></b>
<br><b><tt><font color="#3333FF">   e.set_salary(new_salary);</font></tt></b>
<br><b><tt><font color="#3333FF">}</font></tt></b>

</p>
<p><b><tt><font color="#3333FF">int main()</font></tt></b>
<br><b><tt><font color="#3333FF">{  Employee harry("Hacker, Harry",
45000.00);</font></tt></b>
<br><b><tt><font color="#3333FF">   raise_salary(harry, 5);</font></tt></b>
<br><b><tt><font color="#3333FF">   cout &lt;&lt; "New salary:
" &lt;&lt; harry.get_salary() &lt;&lt; "\n";</font></tt></b>
<br><b><tt><font color="#3333FF">   return 0;</font></tt></b>
<br><b><tt><font color="#3333FF">}</font></tt></b>

</p>
<p><img src="bullet.gif" height="18" width="20" align="ABSBOTTOM"> Постъпково
прецизиране, създаване на кода, проиграване

</p>
<p><img src="bullet.gif" height="18" width="20" align="ABSBOTTOM"> Рекурсия
<br>* Функцията  <b>n!</b>  (n факториел),  <b>n! = 1.2.3.4...n</b>
<br> 
</p>
<table border cellspacing="4" cellpadding="4" cols="2" width="22%">
<tr>
<td>n</td>

<td>n!</td>
</tr>

<tr>
<td>0</td>

<td>1</td>
</tr>

<tr>
<td>1</td>

<td>1</td>
</tr>

<tr>
<td>2</td>

<td>2</td>
</tr>

<tr>
<td>3</td>

<td>6</td>
</tr>

<tr>
<td>4</td>

<td>24</td>
</tr>

<tr>
<td>5</td>

<td>120</td>
</tr>

<tr>
<td>6</td>

<td>720</td>
</tr>

<tr>
<td>7</td>

<td>5040</td>
</tr>
</table>
<b><tt><font color="#3333FF">#include &lt;iostream&gt;</font></tt></b>
<br><b><tt><font color="#3333FF">using namespace std;</font></tt></b>
<br><b><tt><font color="#3333FF">long factorial(int n)</font></tt></b>
<br><b><tt><font color="#3333FF">{  if (n == 0) return 1;</font></tt></b>
<br><b><tt><font color="#3333FF">   else</font></tt></b>
<br><b><tt><font color="#3333FF">   {  long result = n *
factorial(n - 1);</font></tt></b>
<br><b><tt><font color="#3333FF">      return
result;   }</font></tt></b>
<br><b><tt><font color="#3333FF">}</font></tt></b>
<br><b><tt><font color="#3333FF">int main()</font></tt></b>
<br><b><tt><font color="#3333FF">{  cout &lt;&lt; "Please enter a
number: ";</font></tt></b>
<br><b><tt><font color="#3333FF">   int n;</font></tt></b>
<br><b><tt><font color="#3333FF">   cin &gt;&gt; n;</font></tt></b>
<br><b><tt><font color="#3333FF">   cout &lt;&lt; n &lt;&lt;
"! = " &lt;&lt; factorial(n) &lt;&lt; "\n";</font></tt></b>
<br><b><tt><font color="#3333FF">   return 0;</font></tt></b>
<br><b><tt><font color="#3333FF">}</font></tt></b>
<br>
<hr width="100%">
</body>
</html>
