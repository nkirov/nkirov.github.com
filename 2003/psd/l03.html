<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=windows-1251">
   <meta name="Author" content="Nikolay Kirov">
   <meta name="GENERATOR" content="Mozilla/4.75 [en] (Win98; U) [Netscape]">
   <title>l03</title>
</head>
<body>

<hr WIDTH="100%">
<br><b>2.&nbsp; Масиви</b>
<p><img SRC="bullet.gif"  align=CENTER> Дефиниране и използване на масиви,
масивите като параметри
<br>* Дефиниране и използване:
<br>&nbsp;-- дефиниция
<br><b><tt><font color="#009900">double salaries[10];</font></tt></b>
<br>-- използване
<br><b><tt><font color="#009900">salaries[4] = 355;</font></tt></b>
<br>-- номериране на индекси
<br><b><tt><font color="#009900">salaries[0] </font></tt></b><font color="#000000">-
първи елемент</font>
<br><b><tt><font color="#009900">salaries[1] </font></tt></b><font color="#000000">-
втори елемент</font>
<br><b><tt><font color="#009900">salaries[2] </font></tt></b><font color="#000000">-
трети елемент</font>
<br><b><tt><font color="#009900">salaries[3] </font></tt></b><font color="#000000">-
четвърти елемент</font>
<br><b><tt><font color="#009900">...</font></tt></b>
<br><b><tt><font color="#009900">salaries[9] </font></tt></b><font color="#000000">-
десети елемент</font>
<p>Обхождане на елементите на масив:
<br><b><tt><font color="#006600">const int SAL_MAXSIZE = 10;</font></tt></b>
<br><b><tt><font color="#006600">double sal[SAL_MAXSIZE];</font></tt></b>
<br><b><tt><font color="#006600">int sal_size = 0;</font></tt></b>
<br><b><tt><font color="#006600">bool more = true;</font></tt></b>
<br><b><tt><font color="#006600">while (more and sal_size &lt; SAL_MAXSIZE)</font></tt></b>
<br><b><tt><font color="#006600">{ cout &lt;&lt; "Enter salary or 0 to
quit";</font></tt></b>
<br><b><tt><font color="#006600">&nbsp; double x;</font></tt></b>
<br><b><tt><font color="#006600">&nbsp; cin >> x;</font></tt></b>
<br><b><tt><font color="#006600">&nbsp; if (cin.fail()) more = false</font></tt></b>
<br><b><tt><font color="#006600">&nbsp; else</font></tt></b>
<br><b><tt><font color="#006600">&nbsp; {&nbsp; sal[sal_size] = x;&nbsp;&nbsp;
sal_size++;&nbsp;&nbsp; }</font></tt></b>
<br><b><tt><font color="#006600">}</font></tt></b>
<p>* Mасивите като параметри на функции
<br>Масивите винаги се предават по псевдоним.
<br><b><tt><font color="#006600">double maximum(const double a[], int a_size)</font></tt></b>
<br><b><tt><font color="#006600">{&nbsp; if (a_size == 0) return 0;</font></tt></b>
<br><b><tt><font color="#006600">&nbsp;&nbsp; double highest = a[0];</font></tt></b>
<br><b><tt><font color="#006600">&nbsp;&nbsp; int i;</font></tt></b>
<br><b><tt><font color="#006600">&nbsp;&nbsp; for (i = 1; i &lt; a_size;
i++)</font></tt></b>
<br><b><tt><font color="#006600">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (a[i]
> highest) highest = a[i];</font></tt></b>
<br><b><tt><font color="#006600">&nbsp;&nbsp; return highest;</font></tt></b>
<br><b><tt><font color="#006600">}</font></tt></b>
<br>Следващата програма чете заплати от стандартен вход и отпечатва максималната
заплата.
<br><b><tt><font color="#000099">// salarray.cpp</font></tt></b>
<br><b><tt><font color="#000099">#include &lt;iostream></font></tt></b>
<br><b><tt><font color="#000099">using namespace std;</font></tt></b>
<p><b><tt><font color="#000099">void read_data(double a[], int a_maxsize,
int&amp; a_size)</font></tt></b>
<br><b><tt><font color="#000099">{&nbsp; a_size = 0;</font></tt></b>
<br><b><tt><font color="#000099">&nbsp;&nbsp; double x;</font></tt></b>
<br><b><tt><font color="#000099">&nbsp;&nbsp; while (a_size &lt; a_maxsize
and (cin >> x))</font></tt></b>
<br><b><tt><font color="#000099">&nbsp;&nbsp; {&nbsp; a[a_size] = x;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
a_size++;&nbsp;&nbsp; }</font></tt></b>
<br><b><tt><font color="#000099">}</font></tt></b>
<p><b><tt><font color="#000099">double maximum(const double a[], int a_size)</font></tt></b>
<br><b><tt><font color="#000099">{&nbsp; if (a_size == 0) return 0;</font></tt></b>
<br><b><tt><font color="#000099">&nbsp;&nbsp; double highest = a[0];</font></tt></b>
<br><b><tt><font color="#000099">&nbsp;&nbsp; int i;</font></tt></b>
<br><b><tt><font color="#000099">&nbsp;&nbsp; for (i = 1; i &lt; a_size;
i++)</font></tt></b>
<br><b><tt><font color="#000099">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (a[i]
> highest) highest = a[i];</font></tt></b>
<br><b><tt><font color="#000099">&nbsp;&nbsp; return highest;</font></tt></b>
<br><b><tt><font color="#000099">}</font></tt></b>
<p><b><tt><font color="#000099">int main()</font></tt></b>
<br><b><tt><font color="#000099">{&nbsp; const int SALARIES_MAXSIZE = 100;</font></tt></b>
<br><b><tt><font color="#000099">&nbsp;&nbsp; double salaries[SALARIES_MAXSIZE];</font></tt></b>
<br><b><tt><font color="#000099">&nbsp;&nbsp; int salaries_size = 0;</font></tt></b>
<p><b><tt><font color="#000099">&nbsp;&nbsp; cout &lt;&lt; "Please enter
all salary data: ";</font></tt></b>
<br><b><tt><font color="#000099">&nbsp;&nbsp; read_data(salaries, SALARIES_MAXSIZE,
salaries_size);</font></tt></b>
<p><b><tt><font color="#000099">&nbsp;&nbsp; if (salaries_size == SALARIES_MAXSIZE
and not cin.fail())</font></tt></b>
<br><b><tt><font color="#000099">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cout &lt;&lt;
"Sorry--extra data ignored\n";</font></tt></b>
<p><b><tt><font color="#000099">&nbsp;&nbsp; double maxsal = maximum(salaries,
salaries_size);</font></tt></b>
<br><b><tt><font color="#000099">&nbsp;&nbsp; cout &lt;&lt; "The maximum
salary is " &lt;&lt; maxsal &lt;&lt; "\n";</font></tt></b>
<br><b><tt><font color="#000099">&nbsp;&nbsp; return 0;</font></tt></b>
<br><b><tt><font color="#000099">}</font></tt></b>
<p><img SRC="bullet.gif"  align=CENTER> Масиви от символи
<br><b><tt><font color="#006600">char input = 'y';</font></tt></b>
<br><b><tt><font color="#006600">char greeting[6] = "Hello";</font></tt></b>
<br><b><tt><font color="#006600">char greeting[] = "Hello";</font></tt></b>
<br><b><tt><font color="#006600">char greeting[10] = "Hello";</font></tt></b>
<br>Проблемът със символа за край на низ при използване на масиви от символи.
<p><img SRC="bullet.gif"  align=CENTER> Двумерни масиви
<br><b><tt><font color="#000099">// matrix.cpp</font></tt></b>
<br><b><tt><font color="#000099">#include &lt;iostream></font></tt></b>
<br><b><tt><font color="#000099">#include &lt;iomanip></font></tt></b>
<br><b><tt><font color="#000099">#include &lt;cmath></font></tt></b>
<br><b><tt><font color="#000099">using namespace std;</font></tt></b>
<p><b><tt><font color="#000099">const int BALANCES_ROWS = 11;</font></tt></b>
<br><b><tt><font color="#000099">const int BALANCES_COLS = 6;</font></tt></b>
<p><b><tt><font color="#000099">double future_value(double initial_balance,
double p, int nyear)</font></tt></b>
<br><b><tt><font color="#000099">{&nbsp; double b = initial_balance * pow(1
+ p/12/100, 12*nyear);</font></tt></b>
<br><b><tt><font color="#000099">&nbsp;&nbsp; return b;&nbsp;&nbsp; }</font></tt></b>
<p><b><tt><font color="#000099">void print_table(const double table[][BALANCES_COLS],
int table_rows)</font></tt></b>
<br><b><tt><font color="#000099">{&nbsp; int i, j;</font></tt></b>
<br><b><tt><font color="#000099">&nbsp;&nbsp; cout &lt;&lt; fixed &lt;&lt;
setprecision(2);</font></tt></b>
<br><b><tt><font color="#000099">&nbsp;&nbsp; for (i = 0; i &lt; table_rows;
i++)</font></tt></b>
<br><b><tt><font color="#000099">&nbsp;&nbsp; {&nbsp; for (j = 0; j &lt;
BALANCES_COLS; j++)</font></tt></b>
<br><b><tt><font color="#000099">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
cout &lt;&lt; setw(10) &lt;&lt; table[i][j];</font></tt></b>
<br><b><tt><font color="#000099">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cout &lt;&lt;
"\n";</font></tt></b>
<br><b><tt><font color="#000099">&nbsp;&nbsp; }</font></tt></b>
<br><b><tt><font color="#000099">}</font></tt></b>
<p><b><tt><font color="#000099">int main()</font></tt></b>
<br><b><tt><font color="#000099">{&nbsp; double balances[BALANCES_ROWS][BALANCES_COLS];</font></tt></b>
<br><b><tt><font color="#000099">&nbsp;&nbsp; int i;</font></tt></b>
<br><b><tt><font color="#000099">&nbsp;&nbsp; int j;</font></tt></b>
<br><b><tt><font color="#000099">&nbsp;&nbsp; for (i = 0; i &lt; BALANCES_ROWS;
i++)</font></tt></b>
<br><b><tt><font color="#000099">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for (j
= 0; j &lt; BALANCES_COLS; j++)</font></tt></b>
<br><b><tt><font color="#000099">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
balances[i][j] = future_value(10000, 5 + i * 0.5,</font></tt></b>
<br><b><tt><font color="#000099">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
5 + j * 5);</font></tt></b>
<p><b><tt><font color="#000099">&nbsp;&nbsp; print_table(balances, BALANCES_ROWS);</font></tt></b>
<br><b><tt><font color="#000099">&nbsp;&nbsp; return 0;</font></tt></b>
<br><b><tt><font color="#000099">}</font></tt></b>
<p>
<hr WIDTH="100%">
</body>
</html>
