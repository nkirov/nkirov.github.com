<!DOCTYPE html PUBLIC "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
   <meta name="Author" content="Nikolay Kirov">
   <meta name="GENERATOR" content="Mozilla/4.75 [en] (Win98; U) [Netscape]">
   <title>os3</title>
</head>
<body>

<h2>
Операционни системи</h2>

<h3>
3 (3). Описание и управление на процеси</h3>
* ОС трябва да организира изпълнението на няколко процеса (multiprogramming),
за да максимизира използването на процесора, докато осигурява разумно време
за отговор (multiuser).
<br>* ОС трябва да разпределя ресурси на процесите в съответствие със специфичните
им изисквания и приоритети, като в същото време избягва "мъртва хватка".
<br>* ОС поддържа връзките между процесите и създаването на процеси от
потребителите.
<p><b>3.1 Състояния на процеси</b>
<br>    Процесорът изпълнява машинни инструкции, съхраняващи
се в ОП. Списъкът на инструкциите на един процес се нарича следа на процеса.
<br>    Пример:
</p>
<center><img src="03-01.gif" height="584" width="485"></center>

<hr width="100%">
<center>
<p><img src="03-02.gif" height="413" width="548">
</p>
<p><img src="03-03.gif" height="711" width="503"></p>
</center>

<hr width="100%">
<p>** Модел с 2 състояния:
<br>-- изпълнение (running);
<br>-- неизпълнение (nonrunning).
</p>
<center><img src="03-04.gif" height="530" width="568"></center>
** Създаване на процеси.
<br>    Причини за създаване на процес:
<br>- ново пакетно задание (new batch job) - с команди на ОС;
<br>- диалогов login - потребител влиза в системата;
<br>- създаден от ОС за осигуряване на услуга - във връзка с потребителска
програма, без да чака потребителят;
<br>- породен от съществуващ процес (parent and child processes).
<p>** Унищожаване на процеси.
<br>    Причини за унищожаване на процес:
<br>- нормално завършване;
<br>- превишаване на максималната време;
<br>- няма памет;
<br>- нарушаване на границите на паметта;
<br>- грешка от защита;
<br>- аритметична грешка;
<br>- превишаване на времето за чакане на събитие;
<br>- входно-изходна грешка;
<br>- невалидна инструкция;
<br>- инструкция, изпълнявана само от ОС;
<br>- неправилна работа с данни;
<br>- намеса на оператор или ОС;
<br>- завършване на родителски процес;
<br>- по заявка на родителски процес.
</p>
<p>** Модел с 5 състояния.
<br>    Състоянията са:
<br>   1. Running - изпълнение;
<br>   2. Ready   - готов;
<br>   3. Blocked- блокиран (чака събитие);
<br>   4. New     - нов;
<br>   5. Exit      - прекратен;
<br>    Преходи между различните състояния:
</p>
<center><img src="03-05.gif" height="376" width="693"></center>

<hr width="100%">
<center><img src="03-06.gif" height="434" width="736"></center>

<hr width="100%">
<center><img src="03-07.gif" height="717" width="527"></center>

<hr width="100%">
<br>** Преустановени процеси (suspended processes).
<br>    Необходимостта от размяна (swapping).
<br>    Нови състояния на процесите:
<br> 3. Blocked, suspend
<br> 4. Ready, suspend
<br>    Преходи между различните състояния:
<br> 
<br> 
<br>
<br>
<center>
<p><img src="03-08.gif" height="667" width="558"></p>
</center>

<p>    Обобщени характеристики на преустановени процеси:
<br>   1. Процесът не е готов за непосредствено изпълнение.
<br>   2. Независимост от блокировка.
<br>   3. Поставяне в това състояние с цел недопускане до изпълнение.
<br>   4. Смяна на това състояние става само с "нарочна заповед".
<br>    Причини за преустановяване на процес:
<br>- размяна;
<br>- друга причина за ОС;
<br>- диалогово искане на потребителя;
<br>- по време, ако се изпълнява периодично;
<br>- искане на родителя.
<br>
</p>
<hr width="100%">
<br><b>3.2 Описание на процеси</b><b></b>
<center>
<p><img src="03-09.gif" height="375" width="760"></p>
</center>

<p>** Структури на ОС  за управление на процеси.
<br>-- таблици на паметта за:
<br>       ОП - оперативна памет (main memory)
<br>       ВП - виртуална памет (virtual
memory)
<br>-- I/O таблици;
<br>-- таблици за файлове;
<br>-- таблици на процеси.
</p>
<center><img src="03-10.gif" height="566" width="633"></center>

<p>** Структури за управление на процеси
<br>-- разполагане на процесите (process location).
<br>   Типични елементи на изображение на процеса (process image):
<br>      User Data
<br>      User Program
<br>      System Stack
<br>      Process Control Block (PCB)
<br>-- атрибути на процесите.
<br>   Типични елементи на контролния блок на процес (PCB):
<br><img src="03-12.gif" height="553" width="715">
<br>
</p>
<hr width="100%">
<br><b>3.3 Управление на процеси</b>
<br>** Режими на изпълнение (modes of execution).
<br>Функции на ядрото:
<br>      - организация на процесите;
<br>      - организация на паметта;
<br>      - органицация на входа и изхода;
<br>      - поддържащи функции.
<br>** Създаване на процеси.
<br>Дейности на ОС за създаване на процес:
<br>     1. Създаване на идентификатор на процеса и
записването му в таблицата на процесите (primary process table).
<br>     2. Отделяне на памет за процеса.
<br>     3. Инициализация на контролния блок.
<br>     4. Създаване на необходимите връзки.
<br>     5. Други структури от данни.
<br>** Превключване на процеси.
<br>-- Кога ? - прекъсване на часовника; - I/O прекъсване; - недостатъчно
памет;
<br>-- Превключване на режими: ядро-потребител;
<br>-- Промяна на състоянията на процесите.
<br>    Действия на ОС при превключване на процеси:
<br>     1. Запазване на контекста на процеса, който
ще се прекъсва.
<br>     2. Обновяване на PCB.
<br>     3. Преместване на PCB в съответната опашка.
<br>     4. Избиране на друг процес за изпълнение.
<br>     5. Обновяване на PCB на избрания процес.
<br>     6. Обновяване на паметта с новите данни.
<br>     7. Възстановяване на състоянието на процесора
във вида при предишното прекъсване на процеса.
<br>** Изпълнение на ОС:
<br>-- ядро, което не е процес;
<br>-- изпълнение в потребителски процеси;
<br>-- базирана на процеси ОС.
<br> 
<table cellpadding="4" cols="2" width="100%">
<tr>
<td valign="BOTTOM"><img src="03-14.gif" height="590" width="445"></td>

<td><img src="03-15.gif" height="625" width="385"></td>
</tr>
</table>

<hr width="100%">
</body>
</html>
