<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <title>lecture_14</title>
  </head>
  <body>
    <h3 align="left"> 14. Указатели</h3>
    <i>План:</i><br>
    Дялове в оперативната памет при изпълнение на програма на С++<br>
    Тип указател<br>
    Използване на указатели в класове<br>
    Указатели и масиви, адресна аритметика<span
      class="Apple-converted-space"> </span><br>
    Указатели и С-низове<br>
    <hr width="100%" size="2"><b>** Дялове в оперативната памет при
      изпълнение на програма на С++<br>
      <br>
    </b><b><span class="Apple-converted-space"></span></b><span
      class="Apple-converted-space">Когато стартираме транслирана
      програма на С++ за изпълнение, операционната система отделя
      оперативна памет за нея, която се състои от следните части:</span><span
      class="Apple-converted-space"></span><b><span
        class="Apple-converted-space"><br>
        <br>
      </span></b>
    <table cellspacing="0" cellpadding="4" border="">
      <tbody>
        <tr align="left">
          <td>CODE<span class="Apple-converted-space">&nbsp;</span><br>
            <ul>
              <li> <a href="../ch01/lecture_1.html">транслираната
                  програма</a> (изпълним файл)</li>
            </ul>
          </td>
        </tr>
        <tr align="left">
          <td>DATA<span class="Apple-converted-space">&nbsp;</span><br>
            <ul>
              <li> <a href="../ch05/lecture_5b.html">глобални данни</a>
                (константи и променливи)</li>
            </ul>
          </td>
        </tr>
        <tr align="left">
          <td>
            <div>STACK<span class="Apple-converted-space"> (системен
                стек, run-time stack)</span><br>
              <span class="Apple-converted-space"></span></div>
            <ul>
              <li> <a href="../ch05/lecture_5b.html">локални данни</a>
                (константи и променливи)</li>
              <li> <a href="../ch05/lecture_5a.html">параметри-променливи</a></li>
              <li> <a href="../ch05/lecture_5a.html">върнати стойности
                  на функции</a></li>
            </ul>
          </td>
        </tr>
        <tr align="left">
          <td>HEAP (динамична памет)<br>
            <ul>
              <li> стойности на указатели</li>
            </ul>
          </td>
        </tr>
      </tbody>
    </table>
    <hr width="100%" size="2">
    <p style="color: rgb(0, 0, 0); font-family: Times; font-size:
      medium; font-style: normal; font-variant: normal; font-weight:
      normal; letter-spacing: normal; line-height: normal; orphans:
      auto; text-align: start; text-indent: 0px; text-transform: none;
      white-space: normal; widows: auto; word-spacing: 0px;
      -webkit-text-stroke-width: 0px;"><b>** Тип указател (pointer)<br>
        <br>
      </b> * Константа или променлива от тип указател съхранява адрес от
      оперативната памет на компютъра.<span
        class="Apple-converted-space">&nbsp;</span><br>
      <br>
      * Дефиниране на променлива тип указател (език C)<br>
      <span class="Apple-converted-space"></span><br>
      <i>Синтаксис:</i><span class="Apple-converted-space"> </span><b><tt>&lt;име
на




















          тип&gt;<span class="Apple-converted-space"> </span><font
            color="#009900">*<span class="Apple-converted-space"> &lt;</span></font>име




















          на променлива&gt;<br>
        </tt></b></p>
    <p style="color: rgb(0, 0, 0); font-family: Times; font-size:
      medium; font-style: normal; font-variant: normal; font-weight:
      normal; letter-spacing: normal; line-height: normal; orphans:
      auto; text-align: start; text-indent: 0px; text-transform: none;
      white-space: normal; widows: auto; word-spacing: 0px;
      -webkit-text-stroke-width: 0px;"><i>Примери:</i><b> </b><span
        class="Apple-converted-space"></span><b><tt><font
            color="#009900"> </font></tt></b>Дефиниции на указателите <tt>pk</tt>,
      <tt>boss</tt> и <tt>pn</tt>.<b><tt><font color="#009900"><br>
            int* pk; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </font></tt></b><tt><tt>//







          без инициализация </tt></tt><b><tt><font color="#009900"><br>
            Employee * boss;</font></tt></b><span
        class="Apple-converted-space">&nbsp;&nbsp; </span><tt>// без </tt><tt><tt>инициализация</tt></tt><b><tt><br>
          <font color="#009900"><br>
          </font></tt></b> <b><tt><font color="#009900">int *pn =
            NULL;&nbsp; </font></tt></b><tt>// с </tt><tt><tt>инициализация</tt></tt><b><tt><font
            color="#009900"> </font></tt></b></p>
    Константата <tt>NULL</tt> означава адрес 0. <br>
    <hr width="100%" size="2">* Запазване на място в динамичната памет -
    унарна операция<span class="Apple-converted-space">&nbsp;</span><b><tt><font
          color="#009900">new</font></tt></b> (език C++)<span
      class="Apple-converted-space"></span><span
      class="Apple-converted-space"></span><i><br>
      <br>
      Синтаксис:</i><b><tt><font color="#009900"><span
            class="Apple-converted-space"> </span>new</font><span
          class="Apple-converted-space"> </span>&lt;име на тип&gt;<br>
      </tt></b>Запазва място (памет) за една променлива от зададения тип
    и има стойност адреса на началото на запазената памет.<br>
    <span class="Apple-converted-space">&nbsp;</span><i><br>
    </i><i>Синтаксис:</i><span class="Apple-converted-space"></span><span
      class="Apple-converted-space"></span><span
      class="Apple-converted-space"></span><font color="#009900"><font
        color="#009900"><span class="Apple-converted-space"></span></font></font><font
      color="#009900"><font color="#009900"><span
          class="Apple-converted-space"> </span></font></font><b><tt><b><tt><font
              color="#009900">new<span class="Apple-converted-space"> </span></font>&lt;име















            на тип&gt;<font color="#009900">[</font>&lt;число&gt;<font
              color="#009900">]</font></tt></b><font color="#006600"><span
            class="Apple-converted-space"> </span></font></tt></b><br>
    Запазва място за <b><tt>&lt;число&gt;</tt></b> променливи (масив!)
    от зададения тип и има стойност адреса на първата променлива.<br>
    <p style="color: rgb(0, 0, 0); font-family: Times; font-size:
      medium; font-style: normal; font-variant: normal; font-weight:
      normal; letter-spacing: normal; line-height: normal; orphans:
      auto; text-align: start; text-indent: 0px; text-transform: none;
      white-space: normal; widows: auto; word-spacing: 0px;
      -webkit-text-stroke-width: 0px;"><i>Пример 1: </i><br>
      - дефиниране на променлива тип указател (<font color="#006600"><tt>pn</tt></font>)
      и инициализация на указателя<span class="Apple-converted-space"></span>:<span
        class="Apple-converted-space">&nbsp;</span><br>
      <b><tt><font color="#009900">int *pn = new int;</font></tt></b><span
        class="Apple-converted-space">&nbsp;</span></p>
    <p style="color: rgb(0, 0, 0); font-family: Times; font-size:
      medium; font-style: normal; font-variant: normal; font-weight:
      normal; letter-spacing: normal; line-height: normal; orphans:
      auto; text-align: start; text-indent: 0px; text-transform: none;
      white-space: normal; widows: auto; word-spacing: 0px;
      -webkit-text-stroke-width: 0px;"><i>Пример 2:</i><br>
      - дефиниране на масив (с име указател <b><font color="#006600"><tt>arr</tt></font></b>)
      в динамичната памет с помощта на операция <tt>new</tt>:<b><tt><font
            color="#009900"><br>
            int *arr = new int[100];</font></tt></b></p>
    <p style="color: rgb(0, 0, 0); font-family: Times; font-size:
      medium; font-style: normal; font-variant: normal; font-weight:
      normal; letter-spacing: normal; line-height: normal; orphans:
      auto; text-align: start; text-indent: 0px; text-transform: none;
      white-space: normal; widows: auto; word-spacing: 0px;
      -webkit-text-stroke-width: 0px;"><i>Пример 3:</i><br>
      -дефиниране на променлива тип указател (<b><tt><font
            color="#009900">boss</font></tt></b>), инициализация на
      указателя (операция<span class="Apple-converted-space">&nbsp;</span><b><tt><font
            color="#009900">new</font></tt></b>) и задаване на начална
      стойност (конструктор) на обекта на този адрес:<span
        class="Apple-converted-space"> </span><b><tt><font
            color="#009900"><br>
            Employee *boss = new Employ("John", 3200);</font></tt></b><span
        class="Apple-converted-space"></span></p>
    <p style="color: rgb(0, 0, 0); font-family: Times; font-size:
      medium; font-style: normal; font-variant: normal; font-weight:
      normal; letter-spacing: normal; line-height: normal; orphans:
      auto; text-align: start; text-indent: 0px; text-transform: none;
      white-space: normal; widows: auto; word-spacing: 0px;
      -webkit-text-stroke-width: 0px;"><span
        class="Apple-converted-space"> </span>-конструиране на обект от
      тип <b><font color="#006600"><tt>int</tt></font></b>,
      инициализация на указателя (операция <tt>new</tt>) и задаване на
      начална стойност&nbsp; на променливата на този адрес:<br>
      <b><tt><font color="#009900">int *pn = new int(10);<br>
          </font></tt></b></p>
    <table cols="2" style="font-family: Times; letter-spacing: normal;
      orphans: auto; text-indent: 0px; text-transform: none; widows:
      auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;"
      width="100%" cellspacing="0" cellpadding="4" border="1">
      <tbody>
        <tr>
          <td valign="TOP">STACK <br>
            <br>
            <table cellspacing="0" cellpadding="2" border="">
              <tbody>
                <tr>
                  <td>Име:</td>
                  <td><b><tt><font color="#009900">boss</font></tt></b></td>
                </tr>
                <tr>
                  <td>Тип:</td>
                  <td><b><tt><font color="#009900">Employee*<span
                            class="Apple-converted-space">&nbsp;</span></font></tt></b><font
                      color="#000000">(указател)</font></td>
                </tr>
                <tr>
                  <td>Стойност:</td>
                  <td>адрес XXX</td>
                </tr>
              </tbody>
            </table>
            <br>
            <br>
          </td>
          <td>Динамична памет&nbsp; <br>
            адрес XXX
            <table cellspacing="0" cellpadding="2" border="">
              <tbody>
                <tr>
                  <td>Име:</td>
                  <td><b><tt><font color="#009900">*boss<span
                            class="Apple-converted-space">&nbsp;</span></font></tt></b><font
                      color="#000000">(временно!)</font></td>
                </tr>
                <tr>
                  <td>Тип:</td>
                  <td><b><tt><font color="#009900">Employee</font></tt></b></td>
                </tr>
                <tr>
                  <td>Стойност:</td>
                  <td>
                    <center>
                      <table cellspacing="0" cellpadding="2" border="">
                        <tbody>
                          <tr>
                            <td><b><tt><font color="#009900">"John"</font></tt></b></td>
                          </tr>
                          <tr>
                            <td><b><tt><font color="#009900">3200</font></tt></b></td>
                          </tr>
                        </tbody>
                      </table>
                    </center>
                  </td>
                </tr>
              </tbody>
            </table>
          </td>
        </tr>
        <tr>
          <td valign="top">
            <table cols="2" style="font-family: Times; letter-spacing:
              normal; orphans: auto; text-indent: 0px; text-transform:
              none; widows: auto; word-spacing: 0px;
              -webkit-text-stroke-width: 0px;" width="100%"
              cellspacing="0" cellpadding="4" border="0">
              <tbody>
                <tr>
                  <td valign="TOP">STACK<br>
                    <br>
                    <table cellspacing="0" cellpadding="2" border="">
                      <tbody>
                        <tr>
                          <td>Име:</td>
                          <td><b><tt><font color="#009900">pn</font></tt></b></td>
                        </tr>
                        <tr>
                          <td>Тип:</td>
                          <td><b><tt><font color="#009900">int*<span
                                    class="Apple-converted-space">&nbsp;</span></font></tt></b><font
                              color="#000000">(указател)</font></td>
                        </tr>
                        <tr>
                          <td>Стойност:</td>
                          <td>адрес YYY</td>
                        </tr>
                      </tbody>
                    </table>
                  </td>
                </tr>
              </tbody>
            </table>
          </td>
          <td valign="top">
            <table cols="2" width="100%" cellspacing="0" cellpadding="4"
              border="0">
              <tbody>
                <tr>
                  <td>Динамична памет<br>
                    адрес YYY
                    <table cellspacing="0" cellpadding="2" border="">
                      <tbody>
                        <tr>
                          <td>Име:</td>
                          <td><b><tt><font color="#009900">*pn<span
                                    class="Apple-converted-space">&nbsp;</span></font></tt></b><font
                              color="#000000">(временно!)</font></td>
                        </tr>
                        <tr>
                          <td>Тип:</td>
                          <td><b><tt><font color="#009900">int</font></tt></b></td>
                        </tr>
                        <tr>
                          <td>Стойност:</td>
                          <td><b><tt><font color="#009900">10</font></tt></b></td>
                        </tr>
                      </tbody>
                    </table>
                  </td>
                </tr>
              </tbody>
            </table>
          </td>
        </tr>
      </tbody>
    </table>
    <hr width="100%" size="2">* Операция <i>стойност на указател</i>
    (dereference) - унарна операция<span class="Apple-converted-space">&nbsp;</span><b><tt><font
          color="#009900">*</font></tt></b> (език C)<span
      class="Apple-converted-space"></span><i><br>
      <br>
      Синтаксис:</i><span class="Apple-converted-space">&nbsp;</span><b><tt><font
          color="#009900">*</font><font color="#000000">&lt;указател&gt;</font></tt></b><font
      color="#000000"><br>
      Стойността на операцията е обектът, намиращ се на адрес</font><font
      color="#000000">а, записан в</font><b><tt><font color="#000000"><b><tt><font
                color="#000000"> &lt;указател&gt;.<br>
              </font></tt></b></font></tt></b>
    <p style="color: rgb(0, 0, 0); font-family: Times; font-size:
      medium; font-style: normal; font-variant: normal; font-weight:
      normal; letter-spacing: normal; line-height: normal; orphans:
      auto; text-align: start; text-indent: 0px; text-transform: none;
      white-space: normal; widows: auto; word-spacing: 0px;
      -webkit-text-stroke-width: 0px;"><i><font color="#000000">Примери:</font></i><span
        class="Apple-converted-space"> </span><br>
      <b><tt><font color="#009900">Employee *boss = new Employee("John",
            3200); </font></tt></b><tt>// началник е John, * означава
        дефиниране на указател</tt><b><tt> <font color="#009900"><br>
          </font></tt></b><b><tt><font color="#009900">Employee
            harry("Harry", 1500);</font></tt></b><span
        class="Apple-converted-space"> </span><br>
      <b><tt><font color="#009900">*boss =
harry;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>
        </tt></b><tt><tt>// началник </tt>вече е Harry, * означава
        операция *, lvalue;</tt><b><tt><br>
        </tt></b><tt>// операция присвояване (</tt><tt><tt>Employee</tt>)</tt><span
        class="Apple-converted-space"></span> <br>
      <br>
      <b><tt><font color="#009900"><b><tt><font color="#009900">int *pn
                  = new int(10);<br>
                  cout &lt;&lt; *pn;&nbsp;&nbsp;&nbsp;&nbsp; </font></tt></b></font></tt></b><tt><tt>//





          10; операция *, стойността на оперцията е използвана като
          rvalue</tt></tt><b><tt><font color="#009900"><br>
            *pn = 12;</font></tt></b><span class="Apple-converted-space">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;















      </span><tt><tt>// операция *, </tt></tt><tt><tt><tt><tt>стойността






              на оперцията е </tt></tt>lvalue; операция присвояване
          (int)</tt></tt><br>
      <b><tt><font color="#009900">cout &lt;&lt; *pn;&nbsp;&nbsp;&nbsp;
          </font></tt></b><tt><tt>// 12; операция *, </tt></tt><tt><tt><tt><tt>стойността






              на оперцията е използвана като </tt></tt>rvalue</tt></tt>
    </p>
    <p style="color: rgb(0, 0, 0); font-family: Times; font-size:
      medium; font-style: normal; font-variant: normal; font-weight:
      normal; letter-spacing: normal; line-height: normal; orphans:
      auto; text-align: start; text-indent: 0px; text-transform: none;
      white-space: normal; widows: auto; word-spacing: 0px;
      -webkit-text-stroke-width: 0px;">* Обекти и променливи без имена<br>
      Операция <tt>new</tt> създава обект без име, като достъпът до
      този обект става с указатели.<br>
    </p>
    <p style="color: rgb(0, 0, 0); font-family: Times; font-size:
      medium; font-style: normal; font-variant: normal; font-weight:
      normal; letter-spacing: normal; line-height: normal; orphans:
      auto; text-align: start; text-indent: 0px; text-transform: none;
      white-space: normal; widows: auto; word-spacing: 0px;
      -webkit-text-stroke-width: 0px;"><span
        class="Apple-converted-space"><i>Примери: </i>Указатели <tt>boss</tt>
        и <tt>h</tt> осигуряват дастъп до обекта <tt>Employee("John",
          3200).</tt> </span><br>
      <b><tt><font color="#009900"><b><tt><font color="#009900">Employee
                  *boss = new Employee("John", 3200); </font></tt></b></font></tt></b><tt><tt>//





          *boss е John</tt></tt><b><tt><font color="#009900"><br>
            Еmployee *h;</font></tt></b><span
        class="Apple-converted-space"> </span><br>
      <b><tt><font color="#009900">h = boss;&nbsp;&nbsp;&nbsp;&nbsp; </font></tt></b><tt>//





        операция присвояване (Employee*); *boss и *h е все John</tt><b><tt><font
            color="#009900"><br>
            boss = NULL;</font><font color="#009900">&nbsp; </font></tt></b><tt>//





      </tt><tt><tt>операция присвояване (Employee*)</tt>; само *h е
        John,<font color="#009900"> </font></tt><b><tt><font
            color="#009900"><font color="#cc0000">*boss е грешка!</font>
            <br>
          </font></tt></b></p>
    <hr width="100%" size="2">* Операция <i>стрелка</i><span
      class="Apple-converted-space"> - бинарна операция </span><b><tt><font
          color="#009900">-&gt; </font></tt></b>(език C)<span
      class="Apple-converted-space"></span><br>
    <i><br>
      Синтаксис:</i><b><tt><span class="Apple-converted-space"> &lt;</span>указател



































        към клас<span class="Apple-converted-space">&gt; </span><font
          color="#009900">-&gt;</font><span
          class="Apple-converted-space"> </span>&lt;член на класа&gt;</tt></b><span
      class="Apple-converted-space"></span><b><tt><font color="#009900"><br>
        </font></tt></b>Стойността на операцията е функцията или обекта,
    членове на класа.<b><tt><font color="#009900"><br>
        </font></tt></b><br>
    <span class="Apple-converted-space"><i>Пример: </i>Достъп до
      функцията <tt>get_salary()</tt> от класа <tt>Employee </tt>с
      двойка операции <tt>*</tt> и <tt>.&nbsp;</tt> <br>
      и с операция -&gt;:</span> <b><tt><font color="#009900"><br>
          cout &lt;&lt; (*boss).get_salary();</font></tt></b><span
      class="Apple-converted-space"></span><b><tt><font color="#009900">&nbsp;





        </font> </tt></b><tt>// операция *; операция .</tt><b><tt><font
          color="#009900"><br>
          cout &lt;&lt; boss-&gt;get_salary();&nbsp;&nbsp;&nbsp; </font></tt></b><tt>//





      операция -&gt;</tt><b><tt> <font color="#009900"><br>
        </font></tt></b><b><tt><font color="#009900">cout &lt;&lt;
          *boss.get_salary();&nbsp;&nbsp;&nbsp; </font></tt></b><tt>//
      операция .; операция *</tt><b><tt><font color="#009900"><br>
          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;















        </font></tt></b><tt><font color="#009900">//</font></tt><b><tt><font
          color="#009900"> <font color="#ff0000">синтактична грешка! </font></font></tt></b><tt><font
        color="#009900"><font color="#ff0000">*(boss.get_salary())!</font></font></tt>
    <br>
    <hr width="100%" size="2">* Освобождаване на памет (унищожаване на
    обект) - унарна операция<span class="Apple-converted-space">&nbsp;</span><b><tt><font
          color="#009900">delete </font></tt></b><span
      class="Apple-converted-space"></span>(C++):<i><br>
      <br>
      Синтаксис:</i><span class="Apple-converted-space">&nbsp;</span><b><tt><font
          color="#009900">delete<span class="Apple-converted-space"> </span></font><font
          color="#000000">&lt;указател&gt;<br>
        </font></tt></b><font color="#000000">Освобождава заетата с
      операция</font><tt><font color="#000000"> new</font></tt><font
      color="#000000"> динамична памет.</font><b><tt><font
          color="#000000"><br>
        </font></tt></b>
    <p style="color: rgb(0, 0, 0); font-family: Times; font-size:
      medium; font-style: normal; font-variant: normal; font-weight:
      normal; letter-spacing: normal; line-height: normal; orphans:
      auto; text-align: start; text-indent: 0px; text-transform: none;
      white-space: normal; widows: auto; word-spacing: 0px;
      -webkit-text-stroke-width: 0px;"><span
        class="Apple-converted-space"></span><span
        class="Apple-converted-space"><i>Примери:&nbsp;</i></span> <br>
      <b><tt><font color="#009900">delete boss; </font></tt></b><tt>//
        boss е указател със стойност адрес в динамичната памет</tt><span
        class="Apple-converted-space"></span><br>
      <b><tt><font color="#009900">delete pn;&nbsp;&nbsp; </font></tt></b><tt>//















        pn </tt><tt><tt>е указател със стойност адрес в динамичната
          памет</tt></tt><font color="#000000"><br>
      </font><font color="#009900"><b><tt>delete [] arr;</tt></b></font><tt><font
          color="#000000"> // освобождава паметта, запазена с new (целия
          масив)<br>
        </font></tt></p>
    <tt> </tt>
    <hr width="100%" size="2"><font color="#000000">* Невалидни
      указатели </font><br>
    <p style="color: rgb(0, 0, 0); font-family: Times; font-size:
      medium; font-style: normal; font-variant: normal; font-weight:
      normal; letter-spacing: normal; line-height: normal; orphans:
      auto; text-align: start; text-indent: 0px; text-transform: none;
      white-space: normal; widows: auto; word-spacing: 0px;
      -webkit-text-stroke-width: 0px;">-- О<font color="#000000">пит за
        работа със стойност на указател след освобождаване на заетата
        памет<br>
      </font></p>
    <p style="color: rgb(0, 0, 0); font-family: Times; font-size:
      medium; font-style: normal; font-variant: normal; font-weight:
      normal; letter-spacing: normal; line-height: normal; orphans:
      auto; text-align: start; text-indent: 0px; text-transform: none;
      white-space: normal; widows: auto; word-spacing: 0px;
      -webkit-text-stroke-width: 0px;"><font color="#000000"><span
          class="Apple-converted-space"><i>Пример: </i>След операция </span></font><font
        color="#000000"><span class="Apple-converted-space"><tt>dele</tt><tt>te</tt></span></font><font
        color="#000000"><span class="Apple-converted-space">, </span></font><font
        color="#000000"><span class="Apple-converted-space"><tt>pk</tt></span></font><font
        color="#000000"><span class="Apple-converted-space"> става
          невалиден указател.</span></font> <br>
      <b><tt><font color="#006600">int *pk = new int(10);</font></tt></b><span
        class="Apple-converted-space">&nbsp;</span><br>
      <b><tt><font color="#006600">cout &lt;&lt; *pk; </font></tt></b><tt><font
          color="#006600">// 10; операция *</font></tt><span
        class="Apple-converted-space">&nbsp; </span><br>
      <b><tt><font color="#006600">delete pk;&nbsp;&nbsp; </font></tt></b><tt><font
          color="#006600">// операция delete</font></tt><span
        class="Apple-converted-space">&nbsp;</span><b><span
          class="Apple-converted-space">&nbsp;&nbsp; </span></b><br>
      <b><tt><font color="#006600">*pk = 100;&nbsp;&nbsp; </font></tt></b><tt><font
          color="#006600">// </font>операция *, операция присвояване
        (int);<font color="#006600"><font color="#cc0000"> <b>невалиден
              указател</b></font></font></tt><b><tt><font
            color="#006600"><font color="#cc0000"><br>
            </font></font></tt></b><tt>// на адрес pk няма променлива
        тип int</tt><tt> </tt><b><tt>&nbsp; &nbsp;<font color="#006600"><font
              color="#cc0000"> &nbsp; &nbsp;</font> </font></tt></b><span
        class="Apple-converted-space"></span><br>
      <font color="#cc0000">Опасна грешка! <br>
      </font></p>
    <p style="color: rgb(0, 0, 0); font-family: Times; font-size:
      medium; font-style: normal; font-variant: normal; font-weight:
      normal; letter-spacing: normal; line-height: normal; orphans:
      auto; text-align: start; text-indent: 0px; text-transform: none;
      white-space: normal; widows: auto; word-spacing: 0px;
      -webkit-text-stroke-width: 0px;"><b><tt><font color="#006600">delete


            pk;&nbsp;&nbsp; </font></tt></b><tt><font color="#006600">//


          операция delete <br>
          <b>pk = NULL;</b></font></tt><b><font color="#006600"><span
            class="Apple-converted-space"></span></font></b><b><span
          class="Apple-converted-space"><font color="#006600">&nbsp;</font>
        </span></b><br>
      <b><tt><font color="#006600">*pk = 100;&nbsp;&nbsp; </font></tt></b><tt><font
          color="#006600">// ОС идентифицира грешката</font></tt><br>
    </p>
    <p style="color: rgb(0, 0, 0); font-family: Times; font-size:
      medium; font-style: normal; font-variant: normal; font-weight:
      normal; letter-spacing: normal; line-height: normal; orphans:
      auto; text-align: start; text-indent: 0px; text-transform: none;
      white-space: normal; widows: auto; word-spacing: 0px;
      -webkit-text-stroke-width: 0px;"><span
        class="Apple-converted-space"></span>-- Неопределена
      (незаредена) променлива<span class="Apple-converted-space"><i><br>
        </i></span></p>
    <p style="color: rgb(0, 0, 0); font-family: Times; font-size:
      medium; font-style: normal; font-variant: normal; font-weight:
      normal; letter-spacing: normal; line-height: normal; orphans:
      auto; text-align: start; text-indent: 0px; text-transform: none;
      white-space: normal; widows: auto; word-spacing: 0px;
      -webkit-text-stroke-width: 0px;"><span
        class="Apple-converted-space"><i>Пример:</i></span><b><tt><font
            color="#006600"> </font></tt></b><font color="#006600">Операция









      </font><font color="#006600"><tt>*</tt></font><font
        color="#006600"> връща невалидна променлива.</font><b><tt><font
            color="#006600"><br>
            int *pk;</font></tt></b><span class="Apple-converted-space">
      </span><span class="Apple-converted-space"></span><span
        class="Apple-converted-space"></span><br>
      <b><tt><font color="#006600">*pk = 100; // <font color="#cc0000">невалиден
































              указател<br>
            </font></font></tt></b><font color="#cc0000"><span
          class="Apple-converted-space"></span></font><tt>// указателят
        pk съдържа неопределена стойност (незаредена променлива)</tt><br>
      <font color="#cc0000">Опасна грешка<br>
      </font></p>
    <p style="color: rgb(0, 0, 0); font-family: Times; font-size:
      medium; font-style: normal; font-variant: normal; font-weight:
      normal; letter-spacing: normal; line-height: normal; orphans:
      auto; text-align: start; text-indent: 0px; text-transform: none;
      white-space: normal; widows: auto; word-spacing: 0px;
      -webkit-text-stroke-width: 0px;"><tt><font color="#006600"><b>int*
            pk = NULL;</b></font></tt><b><font color="#006600"><span
            class="Apple-converted-space"></span></font></b><b><span
          class="Apple-converted-space"><font color="#006600">&nbsp;</font>
        </span></b><br>
      <b><tt><font color="#006600">*pk = 100;&nbsp;&nbsp; </font></tt></b><tt><font
          color="#006600">// ОС идентифицира грешката</font></tt><br>
    </p>
    <hr width="100%" size="2">* <i>Адрес</i> на променлива или обект -
    унарна операция<span class="Apple-converted-space"> </span><b><tt>&amp;









      </tt></b><span class="Apple-converted-space"></span>(език C)<i><br>
      <br>
      Синтаксис:</i><span class="Apple-converted-space">&nbsp;</span><b><tt><font
          color="#006600">&amp;</font><span
          class="Apple-converted-space"> &lt;</span>име на
        променлива&gt;<br>
      </tt></b>Стойността на операцията е адреса на променливата.<b><tt><br>
      </tt></b>
    <p style="color: rgb(0, 0, 0); font-family: Times; font-size:
      medium; font-style: normal; font-variant: normal; font-weight:
      normal; letter-spacing: normal; line-height: normal; orphans:
      auto; text-align: start; text-indent: 0px; text-transform: none;
      white-space: normal; widows: auto; word-spacing: 0px;
      -webkit-text-stroke-width: 0px;"><span
        class="Apple-converted-space"><i>Пример:</i></span><b><tt><span
            class="Apple-converted-space"> </span></tt><span
          class="Apple-converted-space"></span></b><span
        class="Apple-converted-space">Адрес на променлива в динамичната
        памет.</span><b><tt><span class="Apple-converted-space"><br>
          </span><font color="#006600">int *p = new int(20); <br>
            int *p1 = &amp;(*p); </font></tt></b><tt>// инициализира p1
        с адреса на променливата *p</tt><b><tt><font color="#006600"><br>
            int *p2 = p;&nbsp;&nbsp;&nbsp;&nbsp; </font></tt></b><tt><tt>//





          инициализира p2 с адреса, записан в p</tt></tt><b><tt><font
            color="#006600"><b><tt><font color="#006600"><br>
                </font></tt></b></font> </tt></b></p>
    <hr width="100%" size="2">* Указатели в системния стек (run-time
    stack).<br>
    <p style="color: rgb(0, 0, 0); font-family: Times; font-size:
      medium; font-style: normal; font-variant: normal; font-weight:
      normal; letter-spacing: normal; line-height: normal; orphans:
      auto; text-align: start; text-indent: 0px; text-transform: none;
      white-space: normal; widows: auto; word-spacing: 0px;
      -webkit-text-stroke-width: 0px;"> <i>Пример:</i> Локални обект <tt>harry</tt>
      и указател <tt>h</tt>, инициализиран с адреса на <tt>harry</tt>.<b><tt><font
            color="#009900"> <br>
            Employee harry("Harry", 4300); </font></tt></b><tt><font
          color="#009900">// обект в системния стек</font></tt><span
        class="Apple-converted-space">&nbsp; </span><br>
      <b><tt><font color="#009900">Employee *h =
            &amp;harry;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
          </font></tt></b><tt><font color="#009900">// h съдържа адрес
          на обект в системниея стек</font></tt><br>
    </p>
    <table cols="3" style="font-family: Times; letter-spacing: normal;
      orphans: auto; text-indent: 0px; text-transform: none; widows:
      auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;"
      width="100%">
      <tbody>
        <tr>
          <td><b><tt><font color="#006600">int k = 10;</font></tt></b><span
              class="Apple-converted-space">&nbsp;</span><br>
            <b><tt><font color="#006600">int *pk = &amp;k;</font></tt></b><span
              class="Apple-converted-space">&nbsp;</span><br>
            <b><tt><font color="#006600">cout &lt;&lt; k;</font></tt></b><span
              class="Apple-converted-space">&nbsp;</span><br>
            <b><tt><font color="#006600">cout &lt;&lt; (*pk);</font></tt></b></td>
          <td valign="CENTER" align="CENTER">STACK<span
              class="Apple-converted-space">&nbsp;</span><br>
            Адрес<span class="Apple-converted-space">&nbsp;</span><b><tt>XXX</tt></b>
            <table cellspacing="0" cellpadding="2" border="">
              <tbody>
                <tr>
                  <td>Име:</td>
                  <td><b><tt><font color="#009900">k</font></tt></b></td>
                </tr>
                <tr>
                  <td>Тип:</td>
                  <td><b><tt><font color="#006600">int</font></tt></b></td>
                </tr>
                <tr>
                  <td>Стойност:</td>
                  <td><b><tt><font color="#006600">10</font></tt></b></td>
                </tr>
              </tbody>
            </table>
          </td>
          <td>STACK<span class="Apple-converted-space">&nbsp;</span><br>
            &nbsp;
            <table cellspacing="0" cellpadding="2" border="">
              <tbody>
                <tr>
                  <td>Име:</td>
                  <td><b><tt><font color="#009900">pk</font></tt></b></td>
                </tr>
                <tr>
                  <td>Тип:</td>
                  <td><b><tt><font color="#006600">int*<span
                            class="Apple-converted-space">&nbsp;</span></font></tt></b><font
                      color="#000000">(указател)</font></td>
                </tr>
                <tr>
                  <td>Стойност:</td>
                  <td>Адрес<span class="Apple-converted-space">&nbsp;</span><b><tt>XXX</tt></b></td>
                </tr>
              </tbody>
            </table>
          </td>
        </tr>
      </tbody>
    </table>
    <br>
    <hr width="100%" size="2">* Задължително освобождаване на заета
    динамична памет.<br>
    <br>
    Паметта, заета от локалните променливи (в системния стек) се
    освобождава автоматично.<br>
    Паметта, заета от стойности на указатели (в динамичната памет) се
    освобождава с операция <tt>delete</tt>.<br>
    &nbsp;За всяка операция <tt>new</tt> трябва да има съответна
    операция <tt>delete</tt>. <br>
    <br>
    <i>Пример:</i><br>
    <tt><b>void g()</b></tt><br>
    &nbsp;<b><tt>{&nbsp;&nbsp;&nbsp; </tt></b><b><tt>Employee* boss; </tt></b><b><tt><br>
      </tt></b><b><tt>&nbsp;&nbsp;&nbsp;&nbsp; </tt></b><tt>// 1-st
      allocation: pointer variable allocated on the stack (name boss)</tt><b><tt><br>
      </tt></b><b><tt>&nbsp;&nbsp;&nbsp;&nbsp; boss = new Employee(. .
        .);</tt></b><b><tt><br>
      </tt></b><b><tt>&nbsp;&nbsp;&nbsp;&nbsp; </tt></b><tt>// 2-nd
      allocation: Employee object allocated on the heap (no name!)</tt><b><tt><br>
      </tt></b><b><tt>&nbsp;&nbsp;&nbsp;&nbsp; . . .</tt></b><b><tt><br>
        &nbsp;</tt></b><b><tt>} </tt></b><tt>// memory for boss
      automatically reclaimed</tt><b><tt><br>
      </tt></b><tt>&nbsp;</tt><tt>&nbsp; // <font color="#cc0000">NO!
        Memory leak! Missing delete!</font></tt><br>
    <hr width="100%" size="2">* Дефиниране на променлива-псевдоним -
    друго име на същата променлива<br>
    Както при параметри-псевдоними на функции.<br>
    <br>
    <i>Пример: </i><tt>ak</tt> е друго има на променливата <tt>k</tt>.<span
      class="Apple-converted-space"></span><br>
    <b><tt><font color="#006600">int k = 10;</font></tt></b><span
      class="Apple-converted-space">&nbsp;</span><br>
    <b><tt><font color="#006600">int &amp;ak =
          k;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </font></tt></b><tt><font
        color="#006600">// дефиниране на променлива-псевдоним </font></tt><span
      class="Apple-converted-space"></span><br>
    <b><tt><font color="#006600">if (ak == k) cout &lt;&lt; "YES, of
          course";<br>
        </font></tt></b>
    <hr width="100%" size="2">* Параметри на функции - псевдоними и
    указатели<br>
    <p style="color: rgb(0, 0, 0); font-family: Times; font-size:
      medium; font-style: normal; font-variant: normal; font-weight:
      normal; letter-spacing: normal; line-height: normal; orphans:
      auto; text-align: start; text-indent: 0px; text-transform: none;
      white-space: normal; widows: auto; word-spacing: 0px;
      -webkit-text-stroke-width: 0px;"><span
        class="Apple-converted-space"></span><i>Пример: </i>Разменяне
      на стойностите на две променливи</p>
    <p style="color: rgb(0, 0, 0); font-family: Times; font-size:
      medium; font-style: normal; font-variant: normal; font-weight:
      normal; letter-spacing: normal; line-height: normal; orphans:
      auto; text-align: start; text-indent: 0px; text-transform: none;
      white-space: normal; widows: auto; word-spacing: 0px;
      -webkit-text-stroke-width: 0px;"><tt>// формалните параметри са
        параметри-псевдоними</tt><br>
      <b><tt><font color="#006600">void swap1(int &amp;a, int &amp;b) </font></tt></b><tt>//





        разменя стойностите на променливите a и b</tt><b><tt><font
            color="#006600"><br>
            {<br>
            &nbsp;&nbsp;&nbsp; int w = a;<br>
            &nbsp;&nbsp;&nbsp; a = b;<br>
            &nbsp;&nbsp;&nbsp; b = w;<br>
            }</font></tt></b><span class="Apple-converted-space"> <br>
      </span><tt><tt>// формалните параметри са параметри-променливи от
          тип указатели</tt></tt><b><tt><font color="#006600"><br>
            void swap2(int *pa, int *pb) </font></tt></b><tt> // </tt><tt><tt>разменя





          стойностите на променливите с адреси указателите a и b</tt></tt><b><tt>
          <br>
          {<font color="#006600"><br>
            &nbsp;&nbsp;&nbsp; int w = *pa;<br>
            &nbsp;&nbsp;&nbsp; *pa = *pb;<br>
            &nbsp;&nbsp;&nbsp; *pb = w;<br>
            }<br>
            int main()<br>
            {<br>
            &nbsp;&nbsp;&nbsp; int x = 10, y = 12;<br>
            &nbsp;&nbsp;&nbsp; swap1(x, y);&nbsp;&nbsp;&nbsp; </font></tt></b><tt>//





        фактическите параметри са промелниви от тип int</tt><b><tt><font
            color="#006600"><br>
            &nbsp;&nbsp;&nbsp; cout &lt;&lt; x &lt;&lt; " " &lt;&lt; y
            &lt;&lt; endl;<br>
            &nbsp;&nbsp;&nbsp; swap2(&amp;x, &amp;y); </font></tt></b><tt>//





        фактическите параметри са адреси на променливи от тип int</tt><b><tt><font
            color="#006600"><br>
            &nbsp;&nbsp;&nbsp; cout &lt;&lt; x &lt;&lt; " " &lt;&lt; y
            &lt;&lt; endl;<br>
            &nbsp;&nbsp;&nbsp; return 0;<br>
            }</font></tt></b><span class="Apple-converted-space"> </span><br>
    </p>
    <p style="color: rgb(0, 0, 0); font-family: Times; font-size:
      medium; font-style: normal; font-variant: normal; font-weight:
      normal; letter-spacing: normal; line-height: normal; orphans:
      auto; text-align: start; text-indent: 0px; text-transform: none;
      white-space: normal; widows: auto; word-spacing: 0px;
      -webkit-text-stroke-width: 0px;">
      <meta charset="utf-8">
    </p>
    <p style="color: rgb(0, 0, 0); font-family: Times; font-size:
      medium; font-style: normal; font-variant: normal; font-weight:
      normal; letter-spacing: normal; line-height: normal; orphans:
      auto; text-align: start; text-indent: 0px; text-transform: none;
      white-space: normal; widows: auto; word-spacing: 0px;
      -webkit-text-stroke-width: 0px;">
      <meta charset="utf-8">
    </p>
    <hr width="100%" size="2"><b>** Използване на указатели в класове</b><br>
    <p style="color: rgb(0, 0, 0); font-size: medium; font-style:
      normal; font-variant: normal; font-weight: normal; letter-spacing:
      normal; line-height: normal; text-align: start; text-indent: 0px;
      text-transform: none; white-space: normal; word-spacing: 0px;
      -webkit-text-stroke-width: 0px; font-family: 'Times New Roman';
      orphans: 2; widows: 2;"> * <i>Пример (optional attribute): </i>Класът













      <tt>Department</tt> представя департамент с име (тип <tt>string</tt>)
      и администратор (тип <tt>Employee</tt>), като в някой департамент
      може да няма администратор. <br>
      <br>
      1. Решение без указатели с допълнителна данна<font color="#003300"><b>
        </b></font><font color="#003300"><tt>exists</tt></font><font
        color="#003300">, която показва има ли администратор</font><font
        color="#003300"><tt>:<br>
        </tt></font></p>
    <pre style="color: rgb(0, 0, 0); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-indent: 0px; text-transform: none; word-spacing: 0px; -webkit-text-stroke-width: 0px; orphans: 2; text-align: left; widows: 2; background-color: rgb(255, 255, 255);"><font color="#003300"><b>class</b><b> Department {</b><b><br></b><b> . . .</b><b><br></b><b>private:</b><b><br></b><b>   string name;<br>   bool exists;     // true ако има администратор <br></b><b>   Employee recept; // обектът съществува само ако има администратор</b><b><br></b><b>};</b></font><br></pre>
    2. Решение с указател. Ако в департамента има администратор, то
    указателят ще сочи към този обект (ще съдържа адреса на този обект),
    ако няма - указателят ще съдържа <tt>NULL</tt>.<br>
    <pre style="color: rgb(0, 0, 0); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-indent: 0px; text-transform: none; word-spacing: 0px; -webkit-text-stroke-width: 0px; orphans: 2; text-align: left; widows: 2; background-color: rgb(255, 255, 255);"><font color="#003300"><b>class</b><b> Department {</b><b><br></b><b> . . .</b><b><br></b><b>private:</b><b><br></b><b>   string name;</b><b><br></b><b>   Employee* receptionist;</b><b><br></b><b>};</b></font></pre>
    <p style="color: rgb(0, 0, 0); font-size: medium; font-style:
      normal; font-variant: normal; font-weight: normal; letter-spacing:
      normal; line-height: normal; text-align: start; text-indent: 0px;
      text-transform: none; white-space: normal; word-spacing: 0px;
      -webkit-text-stroke-width: 0px; font-family: 'Times New Roman';
      orphans: 2; widows: 2;"><i>Пример (sharing):&nbsp; </i>Някои
      департаменти могат да имат администратор и/или секретар, като
      някъде един и същи служител може да заема и двете длъжности.<br>
    </p>
    <pre style="color: rgb(0, 0, 0); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-indent: 0px; text-transform: none; word-spacing: 0px; -webkit-text-stroke-width: 0px; orphans: 2; text-align: left; widows: 2; background-color: rgb(255, 255, 255);"><b><span style="color: rgb(0, 0, 153);">class</span></b><b> Department {</b><b><br></b><b> . . .</b><b><br></b><b><span style="color: rgb(0, 0, 153);">private:</span></b><b><br></b><b>   string name;</b><b><br></b><b>   Employee* receptionist;</b><b> </b>// NULL ако няма; адреса на администратора, ако има<b><br></b><b>   Employee* secretary;</b><b><b>    </b></b>// NULL ако няма; адреса на секретаря, ако има<b><br>};</b><br><br><tt><b>// <a href="../../../../2014/NETB151/sources/ch10/department.cpp">department.cpp</a><br> #include </b><b><font color="#990000">&lt;</font></b><b>string</b><b><font color="#990000">&gt;</font></b><b>
 #include </b><b><font color="#990000">&lt;</font></b><b>iostream</b><b><font color="#990000">&gt;</font></b><b>
 using namespace std</b><b><font color="#990000">;</font></b><b>

 #include </b><b><font color="#ff0000">"ccc_empl.h"</font></b><b>
</b><b><i><font color="#9a1900"> /**</font></i></b><b><span style="font-family: mon;"><span style="font-style: italic;"><br></span></span></b><b><i><font color="#9a1900">    A department in an organization.</font></i></b><b>
</b><b><i><font color="#9a1900"> */</font></i></b><b>
</b><b><font color="#0000ff"> class</font></b><b> Department </b><b><font color="#ff0000">{</font></b><b>
 </b><b><font color="#0000ff">public</font></b><b><font color="#990000">:</font></b><b>
    </b><b><font color="#000000">Department</font></b><b><font color="#990000">(</font></b><b>string n</b><b><font color="#990000">)</font></b><b><font color="#990000">;</font></b><b>
    </b><b><font color="#009900">void</font></b><b> </b><b><font color="#000000">set_receptionist</font></b><b><font color="#990000">(</font></b><b>Employee</b><b><font color="#990000">*</font></b><b> e</b><b><font color="#990000">)</font></b><b><font color="#990000">;</font></b><b>
    </b><b><font color="#009900">void</font></b><b> </b><b><font color="#000000">set_secretary</font></b><b><font color="#990000">(</font></b><b>Employee</b><b><font color="#990000">*</font></b><b> e</b><b><font color="#990000">)</font></b><b><font color="#990000">;</font></b><b>
    </b><b><font color="#009900">void</font></b><b> </b><b><font color="#000000">print</font></b><b><font color="#990000">(</font></b><b><font color="#990000">)</font></b><b> </b><b><font color="#0000ff">const</font></b><b><font color="#990000">;</font></b><b>
 </b><b><font color="#0000ff">private</font></b><b><font color="#990000">:</font></b><b>
    string name</b><b><font color="#990000">;</font></b><b>
    Employee</b><b><font color="#990000">*</font></b><b> receptionist</b><b><font color="#990000">;</font></b><b>
    Employee</b><b><font color="#990000">*</font></b><b> secretary</b><b><font color="#990000">;</font></b><b>
 </b><b><font color="#ff0000">}</font></b><b><font color="#990000">;</font></b><b>
 </b><b><i><font color="#9a1900">/**</font></i></b><b>
 </b><b><i><font color="#9a1900">   Constructs a department with a given name.</font></i></b><b>
 </b><b><i><font color="#9a1900">   @param n the department name</font></i></b><b>
 </b><b><i><font color="#9a1900">*/</font></i></b><b>
 Department</b><b><font color="#990000">:</font></b><b><font color="#990000">:</font></b><b><font color="#000000">Department</font></b><b><font color="#990000">(</font></b><b>string n</b><b><font color="#990000">)</font></b><b>
 </b><b><font color="#ff0000">{</font></b><b>  name </b><b><font color="#990000">=</font></b><b> n</b><b><font color="#990000">;</font></b><b>
    receptionist </b><b><font color="#990000">=</font></b><b> NULL</b><b><font color="#990000">;</font></b><b>
    secretary </b><b><font color="#990000">=</font></b><b> NULL</b><b><font color="#990000">;</font></b><b>
 </b><b><font color="#ff0000">}</font></b><b>
 </b><b><i><font color="#9a1900">/**</font></i></b><b>
 </b><b><i><font color="#9a1900">   Sets the receptionist for this department.</font></i></b><b>
 </b><b><i><font color="#9a1900">   @param e the receptionist</font></i></b><b>
 </b><b><i><font color="#9a1900">*/</font></i></b><b>
 </b><b><font color="#009900">void</font></b><b> Department</b><b><font color="#990000">:</font></b><b><font color="#990000">:</font></b><b><font color="#000000">set_receptionist</font></b><b><font color="#990000">(</font></b><b>Employee</b><b><font color="#990000">*</font></b><b> e</b><b><font color="#990000">)</font></b><b>
 </b><b><font color="#ff0000">{</font></b><b> receptionist </b><b><font color="#990000">=</font></b><b> e</b><b><font color="#990000">;</font></b><b> </b><b><font color="#ff0000">}</font></b><b>
 </b><b><i><font color="#9a1900">/**</font></i></b><b>
 </b><b><i><font color="#9a1900">   Sets the secretary for this department.</font></i></b><b>
 </b><b><i><font color="#9a1900">   @param e the secretary</font></i></b><b>
 </b><b><i><font color="#9a1900">*/</font></i></b><b>
 </b><b><font color="#009900">void</font></b><b> Department</b><b><font color="#990000">:</font></b><b><font color="#990000">:</font></b><b><font color="#000000">set_secretary</font></b><b><font color="#990000">(</font></b><b>Employee</b><b><font color="#990000">*</font></b><b> e</b><b><font color="#990000">)</font></b><b>
 </b><b><font color="#ff0000">{</font></b><b> secretary </b><b><font color="#990000">=</font></b><b> e</b><b><font color="#990000">;</font></b><b> </b><b><font color="#ff0000">}</font></b><b>
 </b><b><i><font color="#9a1900">/**</font></i></b><b>
 </b><b><i><font color="#9a1900">   Prints a description of this department.</font></i></b><b>
 </b><b><i><font color="#9a1900">*/</font></i></b><b>
 </b><b><font color="#009900">void</font></b><b> Department</b><b><font color="#990000">:</font></b><b><font color="#990000">:</font></b><b><font color="#000000">print</font></b><b><font color="#990000">(</font></b><b><font color="#990000">)</font></b><b> </b><b><font color="#0000ff">const</font></b><b>
 </b><b><font color="#ff0000">{</font></b><b>  cout </b><b><font color="#990000">&lt;</font></b><b><font color="#990000">&lt;</font></b><b> </b><b><font color="#ff0000">"Name: "</font></b><b> </b><b><font color="#990000">&lt;</font></b><b><font color="#990000">&lt;</font></b><b> name </b><b><font color="#990000">&lt;</font></b><b><font color="#990000">&lt;</font></b><b> </b><b><font color="#ff0000">"\n"</font></b><b>
         </b><b><font color="#990000">&lt;</font></b><b><font color="#990000">&lt;</font></b><b> </b><b><font color="#ff0000">"Receptionist: "</font></b><b><font color="#990000">;</font></b><b>
    </b><b><font color="#000000">if</font></b><b> </b><b><font color="#990000">(</font></b><b>receptionist </b><b><font color="#990000">=</font></b><b><font color="#990000">=</font></b><b> NULL</b><b><font color="#990000">)</font></b><b> cout </b><b><font color="#990000">&lt;</font></b><b><font color="#990000">&lt;</font></b><b> </b><b><font color="#ff0000">"None"</font></b><b><font color="#990000">;</font></b><b>
    </b><b><font color="#0000ff">else</font></b><b>
       cout </b><b><font color="#990000">&lt;</font></b><b><font color="#990000">&lt;</font></b><b> receptionist</b><b><font color="#990000">-</font></b><b><font color="#990000">&gt;</font></b><b><font color="#000000">get_name</font></b><b><font color="#990000">(</font></b><b><font color="#990000">)</font></b><b> </b><b><font color="#990000">&lt;</font></b><b><font color="#990000">&lt;</font></b><b> </b><b><font color="#ff0000">" "</font></b><b>
            </b><b><font color="#990000">&lt;</font></b><b><font color="#990000">&lt;</font></b><b> receptionist</b><b><font color="#990000">-</font></b><b><font color="#990000">&gt;</font></b><b><font color="#000000">get_salary</font></b><b><font color="#990000">(</font></b><b><font color="#990000">)</font></b><b><font color="#990000">;</font></b><b>
    cout </b><b><font color="#990000">&lt;</font></b><b><font color="#990000">&lt;</font></b><b> </b><b><font color="#ff0000">"\nSecretary: "</font></b><b><font color="#990000">;</font></b><b>
    </b><b><font color="#000000">if</font></b><b> </b><b><font color="#990000">(</font></b><b>secretary </b><b><font color="#990000">=</font></b><b><font color="#990000">=</font></b><b> NULL</b><b><font color="#990000">)</font></b><b> cout </b><b><font color="#990000">&lt;</font></b><b><font color="#990000">&lt;</font></b><b> </b><b><font color="#ff0000">"None"</font></b><b><font color="#990000">;</font></b><b>
    </b><b><font color="#0000ff">else</font></b><b> </b><b><font color="#000000">if</font></b><b> </b><b><font color="#990000">(</font></b><b>secretary </b><b><font color="#990000">=</font></b><b><font color="#990000">=</font></b><b> receptionist</b><b><font color="#990000">)</font></b><b> cout </b><b><font color="#990000">&lt;</font></b><b><font color="#990000">&lt;</font></b><b> </b><b><font color="#ff0000">"Same"</font></b><b><font color="#990000">;</font></b><b>
    </b><b><font color="#0000ff">else</font></b><b> cout </b><b><font color="#990000">&lt;</font></b><b><font color="#990000">&lt;</font></b><b> secretary</b><b><font color="#990000">-</font></b><b><font color="#990000">&gt;</font></b><b><font color="#000000">get_name</font></b><b><font color="#990000">(</font></b><b><font color="#990000">)</font></b><b> </b><b><font color="#990000">&lt;</font></b><b><font color="#990000">&lt;</font></b><b> </b><b><font color="#ff0000">" "</font></b><b>
              </b><b><font color="#990000">&lt;</font></b><b><font color="#990000">&lt;</font></b><b> secretary</b><b><font color="#990000">-</font></b><b><font color="#990000">&gt;</font></b><b><font color="#000000">get_salary</font></b><b><font color="#990000">(</font></b><b><font color="#990000">)</font></b><b><font color="#990000">;</font></b><b>      </b><b><br></b><b>    cout </b><b><font color="#990000">&lt;</font></b><b><font color="#990000">&lt;</font></b><b> </b><b><font color="#ff0000">"\n"</font></b><b><font color="#990000">;</font></b><b>
 </b><b><font color="#ff0000">}</font></b><b>
 
 </b><b><font color="#009900">int</font></b><b> </b><b><font color="#000000">main</font></b><b><font color="#990000">(</font></b><b><font color="#990000">)</font></b><b>
 </b><b><font color="#ff0000">{</font></b><b>  Department </b><b><font color="#000000">shipping</font></b><b><font color="#990000">(</font></b><b><font color="#ff0000">"Shipping"</font></b><b><font color="#990000">)</font></b><b><font color="#990000">;</font></b><b>
</b><b>    Employee</b><b><font color="#990000">*</font></b><b> harry </b><b><font color="#990000">=</font></b><b> </b><b><font color="#0000ff">new</font></b><b> </b><b><font color="#000000">Employee</font></b><b><font color="#990000">(</font></b><b><font color="#ff0000">"Hacker, Harry"</font></b><b><font color="#990000">,</font></b><b> </b><b><font color="#993399">45000</font></b><b><font color="#990000">)</font></b><b><font color="#990000">;</font></b><b>
    shipping</b><b><font color="#990000">.</font></b><b><font color="#000000">set_secretary</font></b><b><font color="#990000">(</font></b><b>harry</b><b><font color="#990000">)</font></b><b><font color="#990000">;<br><br></font></b></tt><br><tt><b><font color="#990000"><tt><b>   </b></tt></font><tt><b> Department</b></tt><font color="#990000"><tt><b> </b><b><font color="#000000">qc</font></b><b><font color="#990000">(</font></b><b><font color="#ff0000">"Quality Control"</font></b><b><font color="#990000">)</font></b><b><font color="#990000">;</font></b></tt></font></b><b>&nbsp;   <br>    Employee</b><b><font color="#990000">*</font></b><b> tina </b><b><font color="#990000">=</font></b><b> </b><b><font color="#0000ff">new</font></b><b> </b><b><font color="#000000">Employee</font></b><b><font color="#990000">(</font></b><b><font color="#ff0000">"Tester, Tina"</font></b><b><font color="#990000">,</font></b><b> </b><b><font color="#993399">50000</font></b><b><font color="#990000">)</font></b><b><font color="#990000">;</font></b><b>
    qc</b><b><font color="#990000">.</font></b><b><font color="#000000">set_receptionist</font></b><b><font color="#990000">(</font></b><b>tina</b><b><font color="#990000">)</font></b><b><font color="#990000">;</font></b><b>
    qc</b><b><font color="#990000">.</font></b><b><font color="#000000">set_secretary</font></b><b><font color="#990000">(</font></b><b>tina</b><b><font color="#990000">)</font></b><b><font color="#990000">;<br></font></b><b>&nbsp;   tina</b><b><font color="#990000">-</font></b><b><font color="#990000">&gt;</font></b><b><font color="#000000">set_salary</font></b><b><font color="#990000">(</font></b><b><font color="#993399">55000</font></b><b><font color="#990000">)</font></b><b><font color="#990000">;<br><br>   </font>Department cs("<font color="#ff0000">Computer Support</font>"); <br>   Employee* mary = <font color="#3366ff">new</font> Employee(<font color="#ff0000">"Brown, Mary"</font>, <font color="#993300">33000</font>);<br>   cs.set_receptionist(mary);<br>   Employee* boby = <font color="#3333ff">new</font> Employee(<font color="#ff0000">"Hill, Boby"</font>, <font color="#993300">44000</font>);<br>   cs.set_secretary(boby);<font color="#990000"><br><br></font></b><b>&nbsp;  shipping</b><b>.</b><b>print</b><b>(</b><b>)</b><b>;</b><b>
   qc</b><b>.</b><b>print</b><b>(</b><b>)</b><b>;<br>   cs.print();<font color="#990000"><br><br></font></b><b>&nbsp;</b><b><font color="#0000ff">  return</font></b><b> </b><b><font color="#993399">0</font></b><b><font color="#990000">;</font></b><b>
 </b><b><font color="#ff0000">}</font></b></tt><b><font color="#ff0000"><br></font></b></pre>
    <table width="100%" cellspacing="2" cellpadding="2" border="1">
      <tbody>
        <tr>
          <td valign="top"><tt>nkirov@cpp % c++ department.cpp
              ccc_empl.cpp</tt><tt><br>
            </tt><tt>nkirov@cpp % ./a.out</tt><tt><br>
            </tt><tt>Name: Shipping</tt><tt><br>
            </tt><tt>Receptionist: None</tt><tt><br>
            </tt><tt>Secretary: Hacker, Harry 45000</tt><tt><br>
            </tt><tt>Name: Quality Control</tt><tt><br>
            </tt><tt>Receptionist: Tester, Tina 55000</tt><tt><br>
            </tt><tt>Secretary: Same</tt><tt><br>
            </tt><tt>Name: Computer Support</tt><tt><br>
            </tt><tt>Receptionist: Brown, Mary 33000</tt><tt><br>
            </tt><tt>Secretary: Hill, Boby 44000</tt><br>
          </td>
        </tr>
      </tbody>
    </table>
    <b><font color="#ff0000"><br>
        <a
href="https://www.youtube.com/watch?v=zuegQmMdy8M&amp;ab_channel=freeCodeCamp.org">Pointers



          in C / C++ [Full Course]</a></font></b><br>
    <hr width="100%" size="2"><b>** Указатели и масиви, адресна
      аритметика</b><b><span class="Apple-converted-space"></span></b><br>
    <p style="color: rgb(0, 0, 0); font-family: Times; font-size:
      medium; font-style: normal; font-variant: normal; font-weight:
      normal; letter-spacing: normal; line-height: normal; orphans:
      auto; text-align: start; text-indent: 0px; text-transform: none;
      white-space: normal; widows: auto; word-spacing: 0px;
      -webkit-text-stroke-width: 0px;"> * Името на масив е константен
      указател.<span class="Apple-converted-space">&nbsp; Променлива
        указател може да служи за име на масив.<br>
      </span></p>
    <p style="color: rgb(0, 0, 0); font-family: Times; font-size:
      medium; font-style: normal; font-variant: normal; font-weight:
      normal; letter-spacing: normal; line-height: normal; orphans:
      auto; text-align: start; text-indent: 0px; text-transform: none;
      white-space: normal; widows: auto; word-spacing: 0px;
      -webkit-text-stroke-width: 0px;"><span
        class="Apple-converted-space"><i>Пример:</i><br>
      </span> <b><tt><font color="#006600">int a[3] = {10, 20, 30};</font></tt></b><span
        class="Apple-converted-space">&nbsp;</span><br>
      <b><tt><font color="#006600">int *pa = a;</font></tt></b><span
        class="Apple-converted-space"> <br>
      </span><tt>// отпечатва 3 пъти стойността на a[0]</tt><span
        class="Apple-converted-space"> </span><br>
      <b><tt><font color="#006600">cout &lt;&lt; a[0] &lt;&lt;"
            "&lt;&lt; pa[0] &lt;&lt;" "&lt;&lt; *pa;</font></tt></b><span
        class="Apple-converted-space">&nbsp;<tt> // 10 10 10</tt></span><br>
      <span class="Apple-converted-space"></span></p>
    <p style="color: rgb(0, 0, 0); font-family: Times; font-size:
      medium; font-style: normal; font-variant: normal; font-weight:
      normal; letter-spacing: normal; line-height: normal; orphans:
      auto; text-align: start; text-indent: 0px; text-transform: none;
      white-space: normal; widows: auto; word-spacing: 0px;
      -webkit-text-stroke-width: 0px;"><span
        class="Apple-converted-space">* Адресна аритметика</span><span
        class="Apple-converted-space"></span></p>
    <p style="color: rgb(0, 0, 0); font-family: Times; font-size:
      medium; font-style: normal; font-variant: normal; font-weight:
      normal; letter-spacing: normal; line-height: normal; orphans:
      auto; text-align: start; text-indent: 0px; text-transform: none;
      white-space: normal; widows: auto; word-spacing: 0px;
      -webkit-text-stroke-width: 0px;"><span
        class="Apple-converted-space"> </span><span
        class="Apple-converted-space"><i>Синтаксис:</i><span
          class="Apple-converted-space"> </span><b><tt>&lt;указател&gt;<span
              class="Apple-converted-space"> </span><font
              color="#009900">+<span class="Apple-converted-space"> &lt;</span></font>число&gt;<br>
          </tt></b>Стойността на операцията е адрес, отместен с<b><tt> </tt></b></span><span
        class="Apple-converted-space"><b><tt><span
              class="Apple-converted-space"><b><tt><font color="#009900"><span
                      class="Apple-converted-space">&lt;</span></font>число&gt;















                </tt></b></span></tt></b><tt><span
            class="Apple-converted-space"></span></tt><span
          class="Apple-converted-space">променливи от същия тип</span><b><tt>
            &nbsp;&nbsp;</tt> </b> </span></p>
    <p style="color: rgb(0, 0, 0); font-family: Times; font-size:
      medium; font-style: normal; font-variant: normal; font-weight:
      normal; letter-spacing: normal; line-height: normal; orphans:
      auto; text-align: start; text-indent: 0px; text-transform: none;
      white-space: normal; widows: auto; word-spacing: 0px;
      -webkit-text-stroke-width: 0px;"><span
        class="Apple-converted-space"></span><span
        class="Apple-converted-space"><i>Примери:</i></span><span
        class="Apple-converted-space"><br>
      </span> <tt>// отпечатва 4 пъти стойността на a[1]</tt><span
        class="Apple-converted-space"></span><br>
      <b><tt><font color="#006600">cout &lt;&lt; a[1] &lt;&lt;"
            "&lt;&lt; pa[1] &lt;&lt;" "<br>
            &nbsp;&nbsp;&nbsp;&nbsp; &lt;&lt; *(pa+1) &lt;&lt;"
            "&lt;&lt;(pa+1)[0]; </font></tt></b><tt><font
          color="#006600">// 20 20 20 20</font></tt><span
        class="Apple-converted-space"> </span> </p>
    <table cols="4" style="font-family: Times; letter-spacing: normal;
      orphans: auto; text-indent: 0px; text-transform: none; widows:
      auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;"
      cellspacing="0" cellpadding="2" border="">
      <tbody>
        <tr>
          <td>Адрес</td>
          <td><b><tt><font color="#006600">pa или a</font></tt></b></td>
          <td><b><tt><font color="#006600">pa+1 или a+1</font></tt></b></td>
          <td><b><tt><font color="#006600">pa+2 или a+2</font></tt></b></td>
        </tr>
        <tr>
          <td>Стойност</td>
          <td><b><tt><font color="#CC0000">10</font></tt></b></td>
          <td><b><tt><font color="#CC0000">20</font></tt></b></td>
          <td><b><tt><font color="#CC0000">30</font></tt></b></td>
        </tr>
        <tr>
          <td>Индекс</td>
          <td><b><tt><font color="#006600">0</font></tt></b></td>
          <td><b><tt><font color="#006600">1</font></tt></b></td>
          <td><b><tt><font color="#006600">2</font></tt></b></td>
        </tr>
        <tr>
          <td>Достъп 1</td>
          <td><b><tt><font color="#006600">a[0]</font></tt></b></td>
          <td><b><tt><font color="#006600">a[1]</font></tt></b></td>
          <td><b><tt><font color="#006600">a[2]</font></tt></b></td>
        </tr>
        <tr>
          <td>Достъп 2</td>
          <td><b><tt><font color="#006600">*pa</font></tt></b></td>
          <td><b><tt><font color="#006600">*(pa+1)</font></tt></b></td>
          <td><b><tt><font color="#006600">*(pa+2)</font></tt></b></td>
        </tr>
        <tr>
          <td>Достъп 3</td>
          <td><b><tt><font color="#006600">pa[0]</font></tt></b></td>
          <td><b><tt><font color="#006600">(pa+1)[0]</font></tt></b></td>
          <td><b><tt><font color="#006600">(pa+1)[1]</font></tt></b></td>
        </tr>
        <tr>
          <td>Достъп 4</td>
          <td><b><tt><font color="#006600">*a</font></tt></b></td>
          <td><b><tt><font color="#006600">*(a+1)</font></tt></b></td>
          <td><b><tt><font color="#006600">*(a+2)</font></tt></b></td>
        </tr>
      </tbody>
    </table>
    <hr width="100%" size="2"> <b>** Указатели и С-низове<br>
      <br>
    </b> * C++ наследява от езика C по-ниско ниво за работа с низове
    (С-низове), когато низовете са представени като масиви от <tt>char</tt>
    стойности.<br>
    <br>
    * Не се препоръчва използването на С-низове, указатели и масиви в
    програмите на С++, но понякога е удобно да се използват функции,
    които получават или да връщат <tt>char*</tt>&nbsp; стойности.<br>
    <font size="+1"><font size="+1">
        <pre><span style="color: rgb(0, 0, 153);">char</span> s[] = "Harry"; // същото като<br><span style="color: rgb(0, 0, 153);">char</span> *s = "Harry";</pre>
      </font></font><font size="+1"><font size="+1">
        <table cellpadding="4" border="1" bgcolor="#00ffff">
          <tbody>
            <tr>
              <td style="vertical-align: top; background-color: rgb(255,
                255, 255);"><font size="+1"><font size="+1"><tt><font
                        size="+1">*s</font></tt></font></font></td>
              <td style="vertical-align: top; background-color: rgb(255,
                255, 255);"><font size="+1"><font size="+1"><tt><font
                        size="+1">*(s+1)</font></tt></font></font></td>
              <td style="vertical-align: top; background-color: rgb(255,
                255, 255);"><font size="+1"><font size="+1"><tt><font
                        size="+1">*(s+2)</font></tt></font></font></td>
              <td style="vertical-align: top; background-color: rgb(255,
                255, 255);"><font size="+1"><font size="+1"><font
                      size="+1"><font size="+1"><tt><font size="+1">*(s+3)</font></tt></font></font></font></font></td>
              <td style="vertical-align: top; background-color: rgb(255,
                255, 255);"><font size="+1"><font size="+1"><font
                      size="+1"><font size="+1"><tt><font size="+1">*(s+4)</font></tt></font></font></font></font></td>
              <td style="vertical-align: top; background-color: rgb(255,
                255, 255);"><font size="+1"><font size="+1"><font
                      size="+1"><font size="+1"><tt><font size="+1">*(s+5)</font></tt></font></font></font></font></td>
            </tr>
            <tr bgcolor="#ffffff">
              <td>
                <p><tt><font size="+1">s[0]</font></tt></p>
              </td>
              <td><tt><font size="+1">s[1]</font></tt></td>
              <td><tt><font size="+1">s[2]</font></tt></td>
              <td><tt><font size="+1">s[3]</font></tt></td>
              <td><tt><font size="+1">s[4]</font></tt></td>
              <td><tt><font size="+1">s[5]</font></tt></td>
            </tr>
            <tr bgcolor="#ffffff">
              <td><tt><font size="+1">'H'</font></tt></td>
              <td><tt><font size="+1">'a'</font></tt></td>
              <td><tt><font size="+1">'r'</font></tt></td>
              <td><tt><font size="+1">'r'</font></tt></td>
              <td><tt><font size="+1">'y'</font></tt></td>
              <td><tt><font size="+1">'\0'</font></tt></td>
            </tr>
          </tbody>
        </table>
      </font></font><br>
    Превръщане на С-низове в "C++ низове" - тип <tt>char*</tt> в тип <tt>string</tt>.
    <br>
    <font size="+1">
      <pre><span style="color: rgb(0, 0, 153);">char</span>* p = "Harry";<br>string name(p);    // or string name = p;</pre>
    </font>Превръщане на обекти от тип <tt>string</tt> в тип <tt>char*</tt>.<br>
    <font size="+1">
      <pre>string num = "123";<br><span style="color: rgb(0, 0, 153);">const char</span>* cnum = num.c_str();<br>int n = atoi(cnum);</pre>
    </font>
    <hr width="100%" size="2">
  </body>
</html>
