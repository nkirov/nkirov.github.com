<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
    <meta content="text/html; charset=UTF-8" http-equiv="content-type">
    <title>Chapter 8</title>
  </head>
  <body>
    <h2>Chapter 8: Dictionaries I<br>
    </h2>
    <ul>
      <li><big>The primary use of a dictionary is to store elements so
          that they can be located quickly using keys.</big></li>
      <li><big>Like a priority queue, a dictionary is a container of <span
            style="font-style: italic;">key-element pairs</span>. </big></li>
      <li><big>Nevertheless, although a total order relation on the keys
          is always required for a priority queue, it is optional for a
          dictionary. </big></li>
      <li><big>Indeed, the simplest form of a dictionary assumes only
          that we can determine whether <span style="font-style:
            italic;">two keys are equal</span>.</big></li>
      <li><big>When the total order relation on the keys is defined,
          then we can talk about an <span style="font-style: italic;">ordered


            dictionary</span>, and we specify additional ADT functions
          that refer to the ordering of the keys.</big></li>
    </ul>
    <h3>8.1 The Dictionary Abstract Data Type</h3>
    <ul>
      <li><big>A dictionary ADT stores key-element pairs (<span
            style="font-style: italic;">k</span>,<span
            style="font-style: italic;">e</span>) which we call <span
            style="font-style: italic;">items</span>, where <span
            style="font-style: italic;">k</span> is the key and <span
            style="font-style: italic;">e</span> is the element. </big></li>
      <li><big>In an <span style="font-style: italic;">unordered
            dictionary</span> we can use an equality tester object to
          test whether two keys, <span style="font-style: italic;">k</span><sub>1</sub>
          and <span style="font-style: italic;">k</span><sub>2</sub>,
          are equal with function <span style="font-family: monospace;">isEqualTo(</span><span
            style="font-style: italic;">k</span><sub>1</sub>, <span
            style="font-style: italic;">k</span><sub>2</sub>).</big></li>
    </ul>
    <big><span style="font-weight: bold;">8.1.1 The Dictionary ADT</span><br>
    </big>
    <ul>
      <li><big>The dictionary ADT models a searchable collection of
          key-element items</big></li>
      <li><big>The main operations of a dictionary are searching,
          inserting, and deleting items</big></li>
      <li><big>Multiple items with the same key are allowed</big></li>
      <li><big>Applications:</big></li>
      <ul>
        <li><big>address book</big></li>
        <li><big>credit card authorization</big></li>
        <li><big>mapping host names (e.g., <span style="font-family:
              monospace;">www.nbu.bg</span>) to internet addresses
            (e.g., <span style="font-family: monospace;">193.19.172.24</span>)</big></li>
      </ul>
      <li><big>As an ADT, a dictionary <span style="font-style:
            italic;">D</span> supports the following functions:</big></li>
    </ul>
    <table style="width: 100%; text-align: left;" cellspacing="0"
      cellpadding="2" border="1">
      <tbody>
        <tr>
          <td style="vertical-align: top;"><big>Function<br>
            </big></td>
          <td style="vertical-align: top;"><big>Input<br>
            </big></td>
          <td style="vertical-align: top;"><big>Output<br>
            </big></td>
          <td style="vertical-align: top;"><big>Description<br>
            </big></td>
        </tr>
        <tr>
          <td style="vertical-align: top; font-family: monospace;"><big>size()<br>
            </big></td>
          <td style="vertical-align: top;"><big>-<br>
            </big></td>
          <td style="vertical-align: top;"><big>Integer<br>
            </big></td>
          <td style="vertical-align: top;"><big>Return the number of
              items in <span style="font-style: italic;">D.</span><br>
            </big></td>
        </tr>
        <tr>
          <td style="vertical-align: top; font-family: monospace;"><big>isEmpty()<br>
            </big></td>
          <td style="vertical-align: top;"><big>-<br>
            </big></td>
          <td style="vertical-align: top;"><big>Boolean<br>
            </big></td>
          <td style="vertical-align: top;"><big>Test whether <span
                style="font-style: italic;">D</span> is empty.<br>
            </big></td>
        </tr>
        <tr>
          <td style="vertical-align: top; font-family: monospace;"><big>elements()<br>
            </big></td>
          <td style="vertical-align: top;"><big>-<br>
            </big></td>
          <td style="vertical-align: top;"><big>Iterator of objects
              (elements)<br>
            </big></td>
          <td style="vertical-align: top;"><big>Returns the elements
              stored in <span style="font-style: italic;">D</span>.<br>
            </big></td>
        </tr>
        <tr>
          <td style="vertical-align: top; font-family: monospace;"><big>keys()<br>
            </big></td>
          <td style="vertical-align: top;"><big>-<br>
            </big></td>
          <td style="vertical-align: top;"><big>Iterator of objects
              (keys)</big></td>
          <td style="vertical-align: top;"><big>Returns the keys stored
              in <span style="font-style: italic;">D</span>.</big></td>
        </tr>
        <tr>
          <td style="vertical-align: top; font-family: monospace;"><big>find(k)<br>
            </big></td>
          <td style="vertical-align: top;"><big>Object (key)</big></td>
          <td style="vertical-align: top;"><big>Position<br>
            </big></td>
          <td style="vertical-align: top;"><big>If <span
                style="font-style: italic;">D</span> contain an item
              with key equal to <span style="font-family: monospace;">k</span>,
              then return the position of such an item. If not, a null
              position is returned.<br>
            </big></td>
        </tr>
        <tr>
          <td style="vertical-align: top; font-family: monospace;"><big>findAll(k)<br>
            </big></td>
          <td style="vertical-align: top;"><big>Object (key)</big></td>
          <td style="vertical-align: top;"><big>Iterator of Positions</big></td>
          <td style="vertical-align: top;"><big>Return an iterator of
              positions for all items whose key equals <span
                style="font-family: monospace;">k</span>.<br>
            </big></td>
        </tr>
        <tr>
          <td style="vertical-align: top; font-family: monospace;"><big>insertItem(k,e)<br>
            </big></td>
          <td style="vertical-align: top;"><big>Objects <span
                style="font-family: monospace;">k</span> (key) and<span
                style="font-family: monospace;"> e</span><span
                style="font-family: monospace;"></span> (element) </big></td>
          <td style="vertical-align: top;"><big>-<br>
            </big></td>
          <td style="vertical-align: top;"><big>Insert an item with
              element <span style="font-family: monospace;">e</span>
              and key <span style="font-family: monospace;">k</span>
              into <span style="font-style: italic;">D</span>.<br>
            </big></td>
        </tr>
        <tr>
          <td style="vertical-align: top; font-family: monospace;"><big>removeElement(k)<br>
            </big></td>
          <td style="vertical-align: top;"><big>Object (key)<br>
            </big></td>
          <td style="vertical-align: top;"><big>-<br>
            </big></td>
          <td style="vertical-align: top;"><big>Remove an item with key
              equal to <span style="font-family: monospace;">k</span>
              from <span style="font-style: italic;">D</span>. An error
              condition occurs if <span style="font-style: italic;">D</span>
              has no such item.<br>
            </big></td>
        </tr>
        <tr>
          <td style="vertical-align: top; font-family: monospace;"><big>removeAllElements(k)<br>
            </big></td>
          <td style="vertical-align: top;"><big>Object (key)</big></td>
          <td style="vertical-align: top;"><big>-<br>
            </big></td>
          <td style="vertical-align: top;"><big>Remove the items with
              key equal to <span style="font-family: monospace;">k</span>
              from <span style="font-style: italic;">D</span>.</big></td>
        </tr>
      </tbody>
    </table>
    <ul>
      <li><big>Remarks: <br>
        </big></li>
      <ul>
        <li><big>The way the items of a dictionary are stored is
            implementation dependent.</big></li>
        <li><big>The notation <span style="font-family: monospace;">p(x)</span>
            indicates the position of the item storing element <span
              style="font-family: monospace;">x</span>.</big></li>
      </ul>
      <li style="color: rgb(0, 102, 0);"><big>Example:</big></li>
    </ul>
    <table style="width: 100%; text-align: left;" cellspacing="2"
      cellpadding="2" border="1">
      <tbody>
        <tr>
          <td style="vertical-align: top;"><big>Operation<br>
            </big></td>
          <td style="vertical-align: top;"><big>Output<br>
            </big></td>
          <td style="vertical-align: top;"><big>Dictionary<br>
            </big></td>
        </tr>
        <tr>
          <td style="vertical-align: top; font-family: monospace;"><big>insertItem(5,A)<br>
              insertItem(7,B)<br>
              insertItem(2,C)<br>
              insertItem(8,D)<br>
              insertItem(2,E)<br>
              find(7)<br>
              find(4)<br>
              find(2)<br>
              findAll(2)<br>
              size()<br>
              removeElement(5)<br>
              removeElement(5)<br>
              removeAllElements(2)<br>
              find(2)<br>
              findAll(2)<br>
            </big></td>
          <td style="vertical-align: top;"><big><span
                style="font-family: monospace;"></span><span
                style="font-family: monospace;">-</span><br
                style="font-family: monospace;">
              <span style="font-family: monospace;">-</span><br
                style="font-family: monospace;">
              <span style="font-family: monospace;">-</span><br
                style="font-family: monospace;">
              <span style="font-family: monospace;">-<br>
                -<br style="font-family: monospace;">
              </span><span style="font-family: monospace;">p(B)<br>
                "null"<br>
                p(C) or p(E)<br>
                p(C),p(E)<br>
                5<br>
                -<br>
                "error"<br>
                -<br>
                "null"<br>
                "empty iterator"<br>
              </span> </big></td>
          <td style="vertical-align: top;"><big><span
                style="font-family: monospace;">{(5,A)}</span><br
                style="font-family: monospace;">
              <span style="font-family: monospace;">{(5,A),(7,B)}</span><br
                style="font-family: monospace;">
              <span style="font-family: monospace;">{(5,A),(7,B),(2,C)}</span><br
                style="font-family: monospace;">
              <span style="font-family: monospace;">{(5,A),(7,B),(2,C),(8,D)}</span><br
                style="font-family: monospace;">
              <span style="font-family: monospace;">{(5,A),(7,B),(2,C),(8,D),(2,E)}</span><br
                style="font-family: monospace;">
              <span style="font-family: monospace;">{(5,A),(7,B),(2,C),(8,D),(2,E)}</span><br
                style="font-family: monospace;">
              <span style="font-family: monospace;">{(5,A),(7,B),(2,C),(8,D),(2,E)}</span><br
                style="font-family: monospace;">
              <span style="font-family: monospace;">{(5,A),(7,B),(2,C),(8,D),(2,E)}</span><br
                style="font-family: monospace;">
              <span style="font-family: monospace;">{(5,A),(7,B),(2,C),(8,D),(2,E)}<br>
              </span><span style="font-family: monospace;">{(5,A),(7,B),(2,C),(8,D),(2,E)}</span><br
                style="font-family: monospace;">
              <span style="font-family: monospace;">{(7,B),(2,C),(8,D),(2,E)}<br>
              </span><span style="font-family: monospace;">{(7,B),(2,C),(8,D),(2,E)}<br>
              </span><span style="font-family: monospace;">{(7,B),(8,D)}<br>
              </span><span style="font-family: monospace;">{(7,B),(8,D)}<br>
              </span><span style="font-family: monospace;">{(7,B),(8,D)}</span>
            </big></td>
        </tr>
      </tbody>
    </table>
    <ul>
      <li><big>Position class provides:</big></li>
    </ul>
    <table style="width: 100%; text-align: left;" cellspacing="0"
      cellpadding="2" border="1">
      <tbody>
        <tr>
          <td style="vertical-align: top;"><big>Operation<br>
            </big></td>
          <td style="vertical-align: top;"><big>Input<br>
            </big></td>
          <td style="vertical-align: top;"><big>Output<br>
            </big></td>
          <td style="vertical-align: top;"><big>Description</big></td>
        </tr>
        <tr>
          <td style="vertical-align: top; font-family: monospace;"><big>element()</big></td>
          <td style="vertical-align: top;"><big>-<br>
            </big></td>
          <td style="vertical-align: top;"><big>Object (element)</big></td>
          <td style="vertical-align: top;"><big>Return a reference to
              the element of the associated item.<br>
            </big></td>
        </tr>
        <tr>
          <td style="vertical-align: top; font-family: monospace;"><big>key()</big></td>
          <td style="vertical-align: top;"><big>-<br>
            </big></td>
          <td style="vertical-align: top;"><big>Object (key)</big></td>
          <td style="vertical-align: top;"><big>Return a constant
              reference to the key of the associated item.</big></td>
        </tr>
        <tr>
          <td style="vertical-align: top; font-family: monospace;"><big>isNull()</big></td>
          <td style="vertical-align: top;"><big>-<br>
            </big></td>
          <td style="vertical-align: top;"><big>Boolean<br>
            </big></td>
          <td style="vertical-align: top;"><big>Determine if this is a
              null position.<br>
            </big></td>
        </tr>
      </tbody>
    </table>
    <big><br>
      <span style="font-weight: bold;">8.1.2 Log Files</span><br>
    </big>
    <ul>
      <li><big>A simple way of realizing a dictionary is to use an
          unordered vector, list, or general sequence to store the
          key-element pairs. </big></li>
      <li><big>Such an implementation is called a <span
            style="font-style: italic;">log file</span>.</big></li>
    </ul>
    <big> </big>
    <ul>
      <li><big>A log file is a dictionary implemented by means of an <span
            style="font-style: italic;">unsorted sequence</span></big></li>
      <ul>
        <li><big>We store the items of the dictionary in a sequence
            (based on a doubly-linked lists or a circular array), in
            arbitrary order</big></li>
      </ul>
      <li><big>Performance:</big></li>
      <ul>
        <li><big><span style="font-family: monospace;">insertItem</span>
            takes <span style="font-style: italic;">O</span>(1) time
            since we can insert the new item <span style="font-style:
              italic;">at the beginning</span> or at the end of the
            sequence</big></li>
        <li><big><span style="font-family: monospace;">find</span> and <span
              style="font-family: monospace;">removeElement</span> take
            <span style="font-style: italic;">O</span>(<span
              style="font-style: italic;">n</span>) time since in the
            worst case (the item is not found) we<span
              style="font-style: italic;"> traverse</span> the entire
            sequence to look for an item with the given key</big></li>
      </ul>
      <li><big>The log file is effective only for dictionaries of small
          size or for dictionaries on which insertions are the most
          common operations, while searches and removals are rarely
          performed (e.g., historical record of logins to a workstation)</big></li>
    </ul>
    <big><span style="font-weight: bold;">
        <hr style="width: 100%; height: 2px;">
        <h3>8.3 Ordered Dictionaries</h3>
      </span>In an ordered dictionary, we wish to perform the usual
      dictionary operations, but also maintain an order relation for the
      keys in our dictionary.<br>
      <br>
      <span style="font-weight: bold;">8.3.1 The Ordered Dictionary ADT</span></big><span
      style="font-weight: bold;"> </span><big><span style="font-weight:
        bold;"></span><br>
      An ordered dictionary supports the following functions beyond
      those included in the general dictionary ADT (<a href="#8.1.1">8.1.1</a>):<br>
    </big>
    <ul>
      <li><big><span style="font-family: monospace;">closestBefore(k)</span>
          - Return a position of an item with the largest key less than
          or equal to <span style="font-family: monospace;">k.</span></big></li>
      <li><big><span style="font-family: monospace;">closestAfter(k)</span>
          - Return a position of an item with the smallest key greater
          than or equal to <span style="font-family: monospace;">k.</span></big></li>
    </ul>
    <big><span style="font-weight: bold;">8.3.2 Look-Up Tables</span><br>
    </big>
    <ul>
      <li><big>A lookup table is a dictionary implemented by means of a
          <span style="font-style: italic;">sorted sequence</span></big></li>
      <ul>
        <li><big>We store the items of the dictionary in an array-based
            sequence, sorted by key</big></li>
        <li><big>We use an external comparator for the keys</big></li>
      </ul>
      <li><big>Performance:</big></li>
      <ul>
        <li><big><span style="font-family: monospace;">find</span> takes
            <span style="font-style: italic;">O</span>(log <span
              style="font-style: italic;">n</span>) time, using binary
            search</big></li>
        <li><big><span style="font-family: monospace;">insertItem</span>
            takes <span style="font-style: italic;">O</span>(<span
              style="font-style: italic;">n</span>) time since in the
            worst case we have to shift <span style="font-style:
              italic;">n</span>/2 items to make room for the new item</big></li>
        <li><big><span style="font-family: monospace;">removeElement</span>
            takes <span style="font-style: italic;">O</span>(<span
              style="font-style: italic;">n</span>) time since in the
            worst case we have to shift <span style="font-style:
              italic;">n</span>/2 items to compact the items after the
            removal</big></li>
      </ul>
      <li><big>The lookup table is effective only for dictionaries of
          small size or for dictionaries on which searches are the most
          common operations, while insertions and removals are rarely
          performed (e.g., credit card authorizations)</big></li>
    </ul>
    <big><span style="font-weight: bold;">8.3.3 Binary Search </span><br>
    </big>
    <ul>
      <li><big>Binary search performs operation <span
            style="font-family: monospace;">find</span>(<span
            style="font-style: italic;">k</span>) on a dictionary
          implemented by means of an array-based sequence, sorted by key</big></li>
      <ul>
        <li><big>similar to the high-low game</big></li>
        <li><big>at each step, the number of candidate items is halved</big></li>
        <li><big>terminates after a logarithmic number of steps</big></li>
      </ul>
      <li><big>Example: <span style="font-family: monospace;">find</span>(7)</big></li>
    </ul>
    <big><img style="width: 718px; height: 225px;" alt="" src="pic5.jpg"><br>
      <a style="font-family: monospace;" href="bsearch.cpp">bsearch.cpp</a><br>
      <br>
      <span style="font-weight: bold;">Analysis of Binary Search</span></big>
    <big><br>
    </big>
    <ul>
      <li><big>The running time is proportional to the number <span
            style="font-style: italic;">k</span> of recursive calls. </big></li>
      <li><big>The number of remaining candidates is reduced by at least
          one half with each recursive call. </big></li>
      <li><big>In the worst case (unsuccessful search), the recursive
          call stops when there are no more candidates, i.e. <span
            style="font-style: italic;">n</span>/2<sup><span
              style="font-style: italic;">k</span></sup> = 1, <span
            style="font-style: italic;">k</span> = log <span
            style="font-style: italic;">n</span> and we obtain <span
            style="font-style: italic;">O</span>(log <span
            style="font-style: italic;">n</span>) running time.</big></li>
    </ul>
    <big><span style="font-weight: bold;"></span> <span
        style="font-weight: bold;">Comparing Simple Ordered Dictionary
        Implementations</span></big> <big><br>
      <br>
    </big>
    <table style="width: 100%; text-align: left;" cellspacing="2"
      cellpadding="2" border="1">
      <tbody>
        <tr>
          <td style="vertical-align: top;"><big>Function<br>
            </big></td>
          <td style="vertical-align: top;"><big>Log File<br>
            </big></td>
          <td style="vertical-align: top;"><big>Look-Up Table<br>
            </big></td>
        </tr>
        <tr>
          <td style="vertical-align: top; font-family: monospace;"><big>size(),



              isEmpty()<br>
            </big></td>
          <td style="vertical-align: top;"><big><span style="font-style:
                italic;">O</span>(1)<br>
            </big></td>
          <td style="vertical-align: top;"><big><span style="font-style:
                italic;">O</span>(1)<br>
            </big></td>
        </tr>
        <tr>
          <td style="vertical-align: top; font-family: monospace;"><big>keys(),



              elements()<br>
            </big></td>
          <td style="vertical-align: top;"><big><span style="font-style:
                italic;">O</span>(<span style="font-style: italic;">n</span>)<br>
            </big></td>
          <td style="vertical-align: top;"><big><span style="font-style:
                italic;">O</span>(<span style="font-style: italic;">n</span>)<br>
            </big></td>
        </tr>
        <tr>
          <td style="vertical-align: top; font-family: monospace;"><big>find(key)<br>
            </big></td>
          <td style="vertical-align: top;"><big><span style="font-style:
                italic;">O</span>(<span style="font-style: italic;">n</span>)<br>
            </big></td>
          <td style="vertical-align: top;"><big><span style="font-style:
                italic;">O</span>(log <span style="font-style: italic;">n</span>)<br>
            </big></td>
        </tr>
        <tr>
          <td style="vertical-align: top; font-family: monospace;"><big>findAll(key)<br>
            </big></td>
          <td style="vertical-align: top;"><big>Theta(<span
                style="font-style: italic;">n</span>)<br>
            </big></td>
          <td style="vertical-align: top;"><big><span style="font-style:
                italic;">O</span>(log <span style="font-style: italic;">n
                + s</span>)<br>
            </big></td>
        </tr>
        <tr>
          <td style="vertical-align: top; font-family: monospace;"><big>insertItem(key,



              element)<br>
            </big></td>
          <td style="vertical-align: top;"><big><span style="font-style:
                italic;">O</span>(1)<br>
            </big></td>
          <td style="vertical-align: top;"><big><span style="font-style:
                italic;">O</span>(<span style="font-style: italic;">n</span>)<br>
            </big></td>
        </tr>
        <tr>
          <td style="vertical-align: top; font-family: monospace;"><big>removeElement(key)<br>
            </big></td>
          <td style="vertical-align: top;"><big><span style="font-style:
                italic;">O</span>(<span style="font-style: italic;">n</span>)<br>
            </big></td>
          <td style="vertical-align: top;"><big><span style="font-style:
                italic;">O</span>(<span style="font-style: italic;">n</span>)<br>
            </big></td>
        </tr>
        <tr>
          <td style="vertical-align: top; font-family: monospace;"><big>removeAllElements()<br>
            </big></td>
          <td style="vertical-align: top;"><big>Theta(<span
                style="font-style: italic;">n</span>)</big></td>
          <td style="vertical-align: top;"><big><span style="font-style:
                italic;">O</span>(<span style="font-style: italic;">n</span>)<br>
            </big></td>
        </tr>
      </tbody>
    </table>
    <hr style="width: 100%; height: 2px;">
  </body>
</html>
