<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
  <meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
  <title>l7</title>
</head>
<body>
<h2>7.  Търсене с връщане</h2>
<span style="font-weight: bold;">Класификация на задачите [6.1]</span><br>
<span style="font-weight: bold;">Сложност по време </span>[6.1.1] <br>
NP- задачи: Класът на полиномиално проверимите задачи<br>
P- задачи: Съществува решение с полиномиална сложност<br>
Експоненциални задачи: Съществува алгоритъм с експоненциална сложност<br>
<span style="font-weight: bold;">Сложност по паме</span>т <span style="font-weight: bold;"> </span>[6.1.2] <br>
<span style="font-weight: bold;">Нерешими задачи</span> <span style="font-weight: bold;"> </span>[6.1.3] <br>
Задачи, за които съществува доказателство, че не могат да бъдат решени,
независимо от това с колко време и памет разполагаме. <br>
<span style="font-weight: bold;">Примери</span> [6.1.4] <br>
Полиномиално решими задачи: търсене, сортиране, ...<br>
NP- задачи: Съществуване на делител на цяло положително число, по-малък
от зададено число. <br>
Класификация по памет: игра на шах<br>
Нерешими задачи: Дали дадена програма е в безкраен цикъл.<br>
<br>
<span style="font-family: monospace;">int main()</span><br style="font-family: monospace;">
<span style="font-family: monospace;">{</span><br style="font-family: monospace;">
<span style="font-family: monospace;">    unsigned a, b
, c, n, u;</span><br style="font-family: monospace;">
<span style="font-family: monospace;">    for (u = 3;;)</span><br style="font-family: monospace;">
<span style="font-family: monospace;">    {</span><br style="font-family: monospace;">
<span style="font-family: monospace;">   
    for (a = 1; a &lt; u; a++)</span><br style="font-family: monospace;">
<span style="font-family: monospace;">   
        for (b = 1; b &lt; u; b++)</span><br style="font-family: monospace;">
<span style="font-family: monospace;">   
            for (c=1; c
&lt; u; c++)</span><br style="font-family: monospace;">
<span style="font-family: monospace;">   
           
    for (n=3; n &lt; u; n++)</span><br style="font-family: monospace;">
<span style="font-family: monospace;">   
           
        if (pow(a, n) + pow(b, n) ==
pow(c, n)) exit(0);</span><br style="font-family: monospace;">
<span style="font-family: monospace;">   
    u++;</span><br style="font-family: monospace;">
<span style="font-family: monospace;">    }</span><br style="font-family: monospace;">
<span style="font-family: monospace;">    return 0;</span><br style="font-family: monospace;">
<span style="font-family: monospace;">}</span> <br>
Неопределени задачи: Задача на Сколем - За дадена матрица дали
съществува число <span style="font-style: italic;">n</span> такова, че
матрицата, повдигната на степен n съдържа нула в горния десен ъгъл.<br>
<br>
<span style="font-weight: bold;">NP-пълни задачи [6.2]</span> <br>
(<a href="http://en.wikipedia.org/wiki/P_versus_NP_problem">Wiki</a>)<br>
<br>
<span style="font-weight: bold;">Търсене с връщане [6.3]</span><br>
<br>
<span style="font-weight: bold;">Разходка на коня</span> [6.3.4]<br>
<span style="font-family: monospace;">#include &lt;stdio.h&gt;</span><br style="font-family: monospace;">
<span style="font-family: monospace;">#include &lt;stdlib.h&gt;</span><br style="font-family: monospace;">
<span style="font-family: monospace;"></span><br style="font-family: monospace;">
<span style="font-family: monospace;">#define MAXN 10</span><br style="font-family: monospace;">
<span style="font-family: monospace;"></span><br style="font-family: monospace;">
<span style="font-family: monospace;">#define MAXD 10</span><br style="font-family: monospace;">
<span style="font-family: monospace;"></span><br style="font-family: monospace;">
<span style="font-family: monospace;">const unsigned n = 6;</span><br style="font-family: monospace;">
<span style="font-family: monospace;"></span><br style="font-family: monospace;">
<span style="font-family: monospace;">const unsigned startX = 1;</span><br style="font-family: monospace;">
<span style="font-family: monospace;">const unsigned startY = 1;</span><br style="font-family: monospace;">
<span style="font-family: monospace;"></span><br style="font-family: monospace;">
<span style="font-family: monospace;">const unsigned maxDiff = 8;</span><br style="font-family: monospace;">
<span style="font-family: monospace;">const int diffX[MAXD] = { 1, 1,
-1, -1, 2, -2, 2, -2 };</span><br style="font-family: monospace;">
<span style="font-family: monospace;">const int diffY[MAXD] = { 2, -2,
2, -2, 1, 1, -1, -1 };</span><br style="font-family: monospace;">
<br style="font-family: monospace;">
<span style="font-family: monospace;">unsigned board[MAXN][MAXN];</span><br style="font-family: monospace;">
<span style="font-family: monospace;">unsigned newX, newY;</span><br style="font-family: monospace;">
<br style="font-family: monospace;">
<span style="font-family: monospace;">void printBoard(void)</span><br style="font-family: monospace;">
<span style="font-family: monospace;">{ unsigned i, j;</span><br style="font-family: monospace;">
<span style="font-family: monospace;">  for (i = n; i &gt; 0; i--)
{</span><br style="font-family: monospace;">
<span style="font-family: monospace;">    for (j = 0; j
&lt; n; j++) printf("%3u", board[i-1][j]);</span><br style="font-family: monospace;">
<span style="font-family: monospace;">    printf("\n");</span><br style="font-family: monospace;">
<span style="font-family: monospace;">  }</span><br style="font-family: monospace;">
<span style="font-family: monospace;">  exit(0); </span><br style="font-family: monospace;">
<span style="font-family: monospace;">}</span><br style="font-family: monospace;">
<br style="font-family: monospace;">
<span style="font-family: monospace;">void nextMove(unsigned X,
unsigned Y, unsigned i)</span><br style="font-family: monospace;">
<span style="font-family: monospace;">{ unsigned k;</span><br style="font-family: monospace;">
<span style="font-family: monospace;">  board[X][Y] = i;</span><br style="font-family: monospace;">
<span style="font-family: monospace;">  if (i == n * n) {
printBoard(); return; }</span><br style="font-family: monospace;">
<span style="font-family: monospace;">  for (k = 0; k &lt;
maxDiff; k++) {</span><br style="font-family: monospace;">
<span style="font-family: monospace;">    newX = X +
diffX[k]; newY = Y + diffY[k];</span><br style="font-family: monospace;">
<span style="font-family: monospace;">    if ((newX
&gt;= 0 &amp;&amp; newX &lt; n &amp;&amp; newY &gt;= 0 &amp;&amp; newY
&lt; n) &amp;&amp; (0 == board[newX][newY]))</span><br style="font-family: monospace;">
<span style="font-family: monospace;">     
nextMove(newX, newY, i + 1);</span><br style="font-family: monospace;">
<span style="font-family: monospace;">  }</span><br style="font-family: monospace;">
<span style="font-family: monospace;">  board[X][Y] = 0;</span><br style="font-family: monospace;">
<span style="font-family: monospace;">}</span><br style="font-family: monospace;">
<br style="font-family: monospace;">
<span style="font-family: monospace;">int main(void) {</span><br style="font-family: monospace;">
<span style="font-family: monospace;">  unsigned i, j;</span><br style="font-family: monospace;">
<span style="font-family: monospace;">  for (i = 0; i &lt; n; i++)</span><br style="font-family: monospace;">
<span style="font-family: monospace;">    for (j = 0; j
&lt; n; j++) board[i][j] = 0;</span><br style="font-family: monospace;">
<span style="font-family: monospace;">  nextMove(startX-1,
startY-1, 1);</span><br style="font-family: monospace;">
<span style="font-family: monospace;">  printf("No solution. \n");</span><br style="font-family: monospace;">
<span style="font-family: monospace;">  return 0;</span><br style="font-family: monospace;">
<span style="font-family: monospace;">}</span><br>
<br>
<span style="font-weight: bold;">Задача за осемте царици</span> [6.3.5]<br>
<br>
<span style="font-family: monospace;">#include&lt;stdio.h&gt;</span><br style="font-family: monospace;">
<span style="font-family: monospace;">#include&lt;stdlib.h&gt;</span><br style="font-family: monospace;">
<br style="font-family: monospace;">
<span style="font-family: monospace;">#define MAXN 100</span><br style="font-family: monospace;">
<br style="font-family: monospace;">
<span style="font-family: monospace;">const unsigned n = 13;</span><br style="font-family: monospace;">
<br style="font-family: monospace;">
<span style="font-family: monospace;">unsigned col[MAXN] , RD[2*MAXN -
1],</span><br style="font-family: monospace;">
<span style="font-family: monospace;">        
LD[2*MAXN],
queens
[MAXN];</span><br style="font-family: monospace;">
<br style="font-family: monospace;">
<span style="font-family: monospace;">void printBoard()</span><br style="font-family: monospace;">
<span style="font-family: monospace;">{ unsigned i , j ;</span><br style="font-family: monospace;">
<span style="font-family: monospace;">  for (i = 0; i &lt; n; i++)
{</span><br style="font-family: monospace;">
<span style="font-family: monospace;">    printf("\n");</span><br style="font-family: monospace;">
<span style="font-family: monospace;">    for (j = 0; j
&lt; n; j++)</span><br style="font-family: monospace;">
<span style="font-family: monospace;">     
if(queens[i] == j) printf("x ");</span><br style="font-family: monospace;">
<span style="font-family: monospace;">     
else printf(". ");</span><br style="font-family: monospace;">
<span style="font-family: monospace;">  }</span><br style="font-family: monospace;">
<span style="font-family: monospace;">  printf("\n");</span><br style="font-family: monospace;">
<span style="font-family: monospace;">  exit(0);</span><br style="font-family: monospace;">
<span style="font-family: monospace;">}</span><br style="font-family: monospace;">
<span style="font-family: monospace;"></span><br style="font-family: monospace;">
<span style="font-family: monospace;">void generate(unsigned i)</span><br style="font-family: monospace;">
<span style="font-family: monospace;">{ if(i == n) printBoard();</span><br style="font-family: monospace;">
<span style="font-family: monospace;">  unsigned
k;    </span><br style="font-family: monospace;">
<span style="font-family: monospace;">  for (k = 0; k &lt;= n;
k++) {</span><br style="font-family: monospace;">
<span style="font-family: monospace;">    if (col[k]
&amp;&amp; RD[i + k] &amp;&amp; LD[n + i - k]) {</span><br style="font-family: monospace;">
<span style="font-family: monospace;">     
col[k] = 0; RD[i + k] = 0; LD[n + i - k] = 0; queens[i] = k;</span><br style="font-family: monospace;">
<span style="font-family: monospace;">     
generate(i + 1);</span><br style="font-family: monospace;">
<span style="font-family: monospace;">     
col[k] = 1; RD[i + k] = 1; LD[n + i - k] = 1;</span><br style="font-family: monospace;">
<span style="font-family: monospace;">    }</span><br style="font-family: monospace;">
<span style="font-family: monospace;">  }</span><br style="font-family: monospace;">
<span style="font-family: monospace;">}</span><br style="font-family: monospace;">
<br style="font-family: monospace;">
<span style="font-family: monospace;">int main(void) {</span><br style="font-family: monospace;">
<span style="font-family: monospace;">  unsigned i;</span><br style="font-family: monospace;">
<span style="font-family: monospace;">  for (i = 0; i &lt; n; i++)
col[i] = 1;</span><br style="font-family: monospace;">
<span style="font-family: monospace;">  for (i = 0; i &lt; (2*n -
1); i++) RD[i] = 1;</span><br style="font-family: monospace;">
<span style="font-family: monospace;">  for (i = 0; i &lt; 2*n;
i++) LD[i] = 1;</span><br style="font-family: monospace;">
<span style="font-family: monospace;">  generate(0);</span><br style="font-family: monospace;">
<span style="font-family: monospace;">  printf("No solution!\n");</span><br style="font-family: monospace;">
<span style="font-family: monospace;">  return 0;</span><br style="font-family: monospace;">
<span style="font-family: monospace;">}</span><br>
<br>
<span style="font-weight: bold;">Метод на разклоненията и границите </span>[6.4]<br>
<a href="http://optlab-server.sce.carleton.ca/POAnimations2007/BranchAndBound.html">http://optlab-server.sce.carleton.ca/POAnimations2007/BranchAndBound.html</a><span style="text-decoration: underline;"><br>
<br>
</span>Задача за раницата<span style="text-decoration: underline;"><br>
<br>
</span>
<hr style="width: 100%; height: 2px;">
<span style="text-decoration: underline;"><br>
</span><br>
</body>
</html>
