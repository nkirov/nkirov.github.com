<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <title>exeption2.htm</title>
<!-- Generated by SynEdit HTML exporter -->
</head>
<body bgcolor="#ffffff" text="#000000">
<pre><code><font face="Courier New" size="3"><font color="#008000">#include </font>&lt;iostream&gt;<br><font color="#008000">#include </font>&lt;stdexcept&gt;<br></font></code><code></code><code><font><font><font><font face="Courier New" size="3"><font color="#000000"><font color="#008000">#include</font></font></font></font></font></font></code><code><font face="Courier New" size="3"><font color="#000000"> &lt;cmath&gt;</font></font></code><br><code><font face="Courier New" size="3"><b>using namespace </b>std;<br> <br><b>class </b>FutureValueError : <b>public </b>logic_error {<br><b>public</b>:<br>   FutureValueError(<b>const char </b>reason[]);<br>};<br><br>FutureValueError::FutureValueError(<b>const char </b>reason[])<br>   : logic_error(reason){}<br><br><b>double </b>future_value(<b>double </b>initial_balance, <b>double </b>p, <b>int </b>n)<br>{  <b>if </b>(p &lt; <font color="#800080">0 </font>|| n &lt; <font color="#800080">0</font>)<br>     <b>throw </b>FutureValueError(<font color="#ff0000">"illegal future_value parameter"</font>);<br>   <b>return </b>initial_balance * pow(<font color="#800080">1 </font>+ p / <font color="#800080">100</font>, n);<br>}<br><br><b>void </b>read(<b>double</b>&amp; init, <b>double</b>&amp; interest, <b>int</b>&amp; years)<br>{  cout &lt;&lt; <font color="#ff0000">"Enter initial value, interest and years: "</font>;<br>   cin &gt;&gt; init &gt;&gt; interest &gt;&gt; years;<br>   <b>if </b>(years &gt; <font color="#800080">100</font>) <b>throw </b>logic_error(<font color="#ff0000">"too many years!"</font>);<br>   cout &lt;&lt; init &lt;&lt; <font color="#ff0000">" " </font>&lt;&lt; interest &lt;&lt; <font color="#ff0000">" " </font>&lt;&lt; years &lt;&lt; endl;<br>}<br><br><b>int </b>main()<br>{  <b>bool </b>more = <b>true</b>;<br>   <b>while </b>(more)<br>    {  <b>double </b>init, interest;<br>       <b>int </b>years;<br>       <b>try<br>       </b>{  read(init, interest, years);<br>          <b>double </b>fvalue = future_value(init, interest, years); <br>          cout &lt;&lt; <font color="#ff0000">"The future value is " </font>&lt;&lt; fvalue &lt;&lt; endl;  <br>       }<br>       <font color="#000080"><i>/**/<br>       </i></font><b>catch </b>(FutureValueError&amp; e)<br>       {  cout &lt;&lt; <font color="#ff0000">"A FutureValueError has occurred: "<br>               </font>&lt;&lt; e.what() &lt;&lt; <font color="#ff0000">"\n"</font>;<br>       } <br>       <font color="#000080"><i>/**/      <br>       </i></font><b>catch </b>(logic_error&amp; e)<br>       {  cout &lt;&lt; <font color="#ff0000">"A logic error has occurred: "<br>               </font>&lt;&lt; e.what() &lt;&lt; <font color="#ff0000">"\n"</font>;<br>       }       <br>       cout &lt;&lt; <font color="#ff0000">"Retry? (y/n)"</font>;<br>       <b>char </b>input;<br>       cin &gt;&gt; input;<br>       <b>if </b>(input == 'n') more = <b>false</b>;<br>    } <font color="#000080"><i><br>    </i></font><b>return </b><font color="#800080">0</font>;<br> }<br></font>
</code></pre>
</body>
</html>
