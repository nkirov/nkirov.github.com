<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML Basic 1.0//EN" "http://www.w3.org/TR/xhtml-basic/xhtml-basic10.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <title>NodeList1</title>
</head>
<body bgcolor="#fffabb" link="blue" text="black" vlink="purple">
<h2><font face="Helvetica">Code Fragment: NodeList1</font></h2>
<br>
<dl>
  <dd>
    <pre>
<font color="#a000a0">template</font> &lt;<font color="#a000a0">typename</font> Object&gt;<br><font color="#a000a0">class</font> NodeList {<br><font color="#a000a0">protected</font>: <br>  <font color="#0000ff">// ... (insert Node class definition here)</font>
<font color="#a000a0">public</font>:<br>  <font color="#0000ff">// ... (insert Position class definition here)</font>
<font color="#a000a0">protected</font>:                          <font color="#0000ff">// utility to convert Position to node pointer</font>
  NodePtr <font color="#000000">nodePtr</font>(<font color="#a000a0">const</font> Position&amp; p) <font color="#a000a0">const</font> <font color="#00a000">throw</font>(InvalidPositionException) {<br>    <font color="#00a000">if</font> (p.node == NULL)<br>      <font color="#00a000">throw</font> <font color="#000000">InvalidPositionException</font>(<font color="#0000ff">"Attempt to use null position"</font>);<br>    <font color="#00a000">else</font> <font color="#00a000">return</font> p.node;<br>  }<br><font color="#a000a0">protected</font>: 			<font color="#0000ff">// data members</font>
  <font color="#a000a0">int</font>       sz;        		<font color="#0000ff">// number of items</font>
  NodePtr   header;		<font color="#0000ff">// head of list sentinel</font>
  NodePtr   trailer;		<font color="#0000ff">// tail of list sentinel</font>
<font color="#a000a0">public</font>:<br>  <font color="#000000">NodeList</font>() {			<font color="#0000ff">// default constructor</font>
    sz = 0;
    header   = <font color="#a000a0">new</font> Node;	<font color="#0000ff">// create sentinels</font>
    trailer  = <font color="#a000a0">new</font> Node;<br>    header-&gt;next   = trailer;	<font color="#0000ff">// head points to trailer</font>
    trailer-&gt;prev  = header;	<font color="#0000ff">// trailer points to head</font>
  }
  <font color="#a000a0">int</font> <font color="#000000">size</font>() <font color="#a000a0">const</font> 		<font color="#0000ff">// list size</font>
    { <font color="#00a000">return</font> sz; }<br>  <font color="#a000a0">bool</font> <font color="#000000">isEmpty</font>() <font color="#a000a0">const</font> 		<font color="#0000ff">// is the list empty?</font>
    { <font color="#00a000">return</font> (sz == 0); }<br>  <font color="#a000a0">bool</font> <font color="#000000">isFirst</font>(<font color="#a000a0">const</font> Position&amp; p) <font color="#a000a0">const</font>	<font color="#0000ff">// is this the first?</font>
      <font color="#00a000">throw</font>(InvalidPositionException) {<br>    NodePtr v = <font color="#000000">nodePtr</font>(p);<br>    <font color="#00a000">return</font> v-&gt;prev == header;<br>  }<br>  <font color="#a000a0">bool</font> <font color="#000000">isLast</font>(<font color="#a000a0">const</font> Position&amp; p) <font color="#a000a0">const</font> 	<font color="#0000ff">// is this the last?</font>
      <font color="#00a000">throw</font>(InvalidPositionException) {<br>    NodePtr v = <font color="#000000">nodePtr</font>(p);<br>    <font color="#00a000">return</font> v-&gt;next == trailer;<br>  }<br>  <font color="#0000ff">// ...</font>
    </pre>
  </dd>
</dl>
</body>
</html>
