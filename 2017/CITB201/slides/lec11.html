<!DOCTYPE html PUBLIC "-//w3c//dtd html 4.0 transitional//en">
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="Author" content="Nikolay Kirov">
    <meta name="GENERATOR" content="Mozilla/4.75 [en] (Win98; U)
      [Netscape]">
    <title>l12</title>
  </head>
  <body>
    <center>
      <h3> <b>Предефиниране на операции и управление на паметта<br>
        </b> </h3>
    </center>
    <img alt="" src="../b5.gif" height="18" width="20">&nbsp;<b>
      Предефиниране на операции. </b><br>
    Даване на ново значение на операция се нарича предефиниране
    (operator overloading). <br>
    <br>
    <b>**</b> Предефиниране на операции като обикновени функции.&nbsp; <br>
    Операциите в С++ се предефинират за нови аргументи - обекти от даден
    клас.&nbsp; <br>
    При предефиниране на бинарна операция, типът на поне един от
    аргументите трябва да е от този клас. <br>
    Аргументите на предефинирана операция са параметри на функцията за
    предефиниране.<br>
    <br>
    <b><tt><font color="#000099">// <a
            href="../../../2014/NETB151/sources/ch17/overload.cpp">overload.cpp</a></font></tt></b>
    <br>
    <b><tt><font color="#000099">#include &lt;iostream&gt;</font></tt></b>
    <br>
    <b><tt><font color="#000099">using namespace std;</font></tt></b> <br>
    <br>
    <b><tt><font color="#000099">#include "ccc_time.h"</font></tt></b>
    <p><tt><font color="#000099">/* Предефиниране на бинарна операция -
          с аргументи от клас Time и стойност от тип long */</font></tt>
      <br>
      <b><tt><font color="#000099">long operator-(Time a, Time b)</font></tt></b>
      <br>
      <tt><font color="#000099">/* ЦЕЛ: пресмята броя на секундите между
          два момента от време</font></tt> <br>
      <tt><font color="#000099">&nbsp;&nbsp; ПОЛУЧАВА: a, b - два
          момента от време</font></tt> <br>
      <tt><font color="#000099">&nbsp;&nbsp; ВРЪЩА: броя на секундите
          между a и b</font></tt> <br>
      <tt><font color="#000099">*/</font></tt> <br>
      <b><tt><font color="#000099">{&nbsp; return
            a.seconds_from(b);&nbsp;&nbsp; }</font></tt></b> </p>
    <p><tt><font color="#000099">/* Предефиниране на бинарна операция +
          с аргументи от клас Time и тип long и стойност от</font></tt>
      <tt><font color="#000099">клас Time */</font></tt> <br>
      <b><tt><font color="#000099">Time operator+(Time a, long sec)</font></tt></b>
      <br>
      <tt><font color="#000099">/* ЦЕЛ: пресмята момент от време,
          отдалечен на зададен брой секунди</font></tt> <br>
      <tt><font color="#000099">&nbsp;&nbsp; ПОЛУЧАВА: a - момент от
          време</font></tt> <br>
      <tt><font color="#000099">&nbsp;&nbsp; ВРЪЩА: </font></tt><tt><font
          color="#000099">момент от време, отдалечен на зададения брой
          секунди</font></tt> <br>
      <tt><font color="#000099">*/</font></tt> <br>
      <b><tt><font color="#000099">{&nbsp; Time r = a;</font></tt></b> <br>
      <b><tt><font color="#000099">&nbsp;&nbsp; r.add_seconds(sec);</font></tt></b>
      <br>
      <b><tt><font color="#000099">&nbsp;&nbsp; return r;&nbsp; }</font></tt></b>
    </p>
    <p><tt><font color="#000099">/* Предефиниране на бинарна операция ==
          с аргументи от клас Time и стойност от тип bool */</font></tt><b><tt><font
            color="#000099"><br>
            &nbsp;&nbsp; bool operator==(Time a, Time b)</font></tt></b>
      <b><tt><font color="#000099"><br>
          </font></tt></b><tt><font color="#000099">/* ЦЕЛ: сравнява два
          момента от време</font></tt> <br>
      <tt><font color="#000099">&nbsp;&nbsp; ПОЛУЧАВА: a, b - два
          момента от време</font></tt> <br>
      <tt><font color="#000099">&nbsp;&nbsp; ВРЪЩА: true ако те са равни
          и false ако не са равни</font></tt><br>
      <tt><font color="#000099">*/</font></tt> <br>
      <b><tt><font color="#000099">{&nbsp; return a.seconds_from(b) ==
            0;&nbsp; }</font></tt></b> </p>
    <p><tt><font color="#000099">/* Предефиниране на бинарна операция !=
          с аргументи от клас Time и стойност от тип bool */</font></tt><b><tt><font
            color="#000099"><br>
            &nbsp;&nbsp; bool operator!=(Time a, Time b)</font></tt></b>
      <b><tt><font color="#000099"><br>
          </font></tt></b><tt><font color="#000099">/* ЦЕЛ: сравнява два
          момента от време</font></tt> <br>
      <tt><font color="#000099">&nbsp;&nbsp; ПОЛУЧАВА: a, b - два
          момента от време</font></tt> <br>
      <tt><font color="#000099">&nbsp;&nbsp; ВРЪЩА: true - ако те не са
          равни</font></tt> <br>
      <tt><font color="#000099">*/</font></tt> <br>
      <b><tt><font color="#000099">{&nbsp; return a.seconds_from(b) !=
            0;&nbsp; }</font></tt></b> </p>
    <p><tt><font color="#000099">/* Предефиниране на бинарна операция
          &lt;&lt; с аргументи от клас ostream и клас Time и стойност</font></tt>
      <tt><font color="#000099">от тип ostream */</font></tt> <br>
      <tt><font color="#000099"><b>&nbsp;&nbsp; </b></font></tt><b><tt><font
            color="#000099">ostream &amp;operator&lt;&lt;(ostream
            &amp;out, const Time &amp;a)</font></tt></b> <br>
      <tt><font color="#000099">/* ЦЕЛ: отпечатва обект от тип Time</font></tt>
      <br>
      <tt><font color="#000099">&nbsp;&nbsp; ПОЛУЧАВА: out - изходен
          поток</font></tt>,&nbsp; <tt><font color="#000099">a - момент
          от време</font></tt> <br>
      <tt><font color="#000099">&nbsp;&nbsp; ВРЪЩА: входния параметър
          out</font></tt> <br>
      <tt><font color="#000099">*/</font></tt> <br>
      <b><tt><font color="#000099">{&nbsp; out &lt;&lt; a.get_hours()
            &lt;&lt; ":";</font></tt></b> <br>
      <b><tt><font color="#000099">&nbsp;&nbsp; if (a.get_minutes() &lt;
            10) out &lt;&lt; "0";</font></tt></b> <br>
      <b><tt><font color="#000099">&nbsp;&nbsp; out &lt;&lt;
            a.get_minutes() &lt;&lt; ":";</font></tt></b> <br>
      <b><tt><font color="#000099">&nbsp;&nbsp; if (a.get_seconds() &lt;
            10) out &lt;&lt; "0";</font></tt></b> <br>
      <b><tt><font color="#000099">&nbsp;&nbsp; out &lt;&lt;
            a.get_seconds();</font></tt></b> <br>
      <b><tt><font color="#000099">&nbsp;&nbsp; return
            out;&nbsp;&nbsp;&nbsp; }</font></tt></b> </p>
    <p><tt><font color="#000099">/* Предефиниране на унарна операция -
          префиксна форма на ++ с аргумент от клас</font></tt> <tt><font
          color="#000099">Time и стойност от клас Time */</font></tt> <br>
      <b><tt><font color="#000099">Time operator++(Time &amp;a)</font></tt></b>
      <br>
      <tt><font color="#000099">/* ЦЕЛ: добавя към момент от време 1
          секунда</font></tt> <br>
      <tt><font color="#000099">&nbsp;&nbsp; ПОЛУЧАВА: a - момент от
          време</font></tt> <br>
      <tt><font color="#000099">&nbsp;&nbsp; ВРЪЩА: новият момент от
          време и променя a</font></tt> <br>
      <tt><font color="#000099">*/</font></tt> <br>
      <b><tt><font color="#000099">{ a = a + 1; return a; }</font></tt></b>
    </p>
    <p><tt><font color="#000099">/* Предефиниране на унарна операция -
          постфиксна форма на ++ с аргумент от клас</font></tt> <tt><font
          color="#000099">Time и стойност от клас Time */</font></tt> <br>
      <b><tt><font color="#000099">Time operator++(Time &amp;a, int
            dummy)</font></tt></b> <br>
      <tt><font color="#000099">/* ЦЕЛ: добавя към момент от време 1
          минута</font></tt> <br>
      <tt><font color="#000099">&nbsp;&nbsp; ПОЛУЧАВА: a - момент от
          време</font></tt> <br>
      <tt><font color="#000099">&nbsp;&nbsp; ВРЪЩА: непромененият момент
          от време и променя a</font></tt> <br>
      <tt><font color="#000099">*/</font></tt> <br>
      <b><tt><font color="#000099">{ Time b = a;</font></tt></b> <br>
      <b><tt><font color="#000099">&nbsp; a = a + 60; return b;</font></tt></b>
      <br>
      <b><tt><font color="#000099">}</font></tt></b> <br>
      <b><tt><font color="#000099">&nbsp;</font></tt></b> <br>
      <b><tt><font color="#000099">int main()</font></tt></b> <br>
      <b><tt><font color="#000099">{&nbsp; Time now;</font></tt></b> <br>
      <b><tt><font color="#000099">&nbsp;&nbsp; cout &lt;&lt; "Now it is
            " &lt;&lt; now &lt;&lt; "\n";</font></tt></b> <br>
      <b><tt><font color="#000099">&nbsp;&nbsp; Time later = now + 1000;</font></tt></b>
      <br>
      <b><tt><font color="#000099">&nbsp;&nbsp; cout &lt;&lt; "A
            thousand seconds later it is " &lt;&lt; later &lt;&lt; "\n";</font></tt></b>
      <br>
      <b><tt><font color="#000099">&nbsp;&nbsp; Time now2;</font></tt></b>
      <br>
      <b><tt><font color="#000099">&nbsp;&nbsp; if (now == now2)</font></tt></b>
      <br>
      <b><tt><font color="#000099">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cout
            &lt;&lt; "It still is " &lt;&lt; now2 &lt;&lt; "\n";</font></tt></b>
      <br>
      <b><tt><font color="#000099">&nbsp;&nbsp; if (now != now2)</font></tt></b>
      <br>
      <b><tt><font color="#000099">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cout
            &lt;&lt; "It is already " &lt;&lt; now2 &lt;&lt; "\n";</font></tt></b>
      <br>
      <b><tt><font color="#000099">&nbsp;&nbsp; cout &lt;&lt; "Another "
            &lt;&lt; later - now2 &lt;&lt; " seconds until "</font></tt></b>
      <br>
      <b><tt><font color="#000099">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&lt;&lt;
















            later &lt;&lt; "\n";</font></tt></b> <br>
      <b><tt><font color="#000099">&nbsp;&nbsp; now = Time();</font></tt></b>
      <br>
      <b><tt><font color="#000099">&nbsp;&nbsp; cout &lt;&lt; "Now it is
            " &lt;&lt; now &lt;&lt; "\n";</font></tt></b> <br>
      <b><tt><font color="#000099">&nbsp;&nbsp; cout &lt;&lt; "One
            second later " &lt;&lt; (++now) &lt;&lt; "\n";</font></tt></b>
      <br>
      <b><tt><font color="#000099">&nbsp;&nbsp; cout &lt;&lt; "The same
            time " &lt;&lt; (now++);</font></tt></b> <br>
      <b><tt><font color="#000099">&nbsp;&nbsp; cout &lt;&lt; " and 60
            seconds later " &lt;&lt; now &lt;&lt; "\n";</font></tt></b>
      <br>
      <b><tt><font color="#000099">&nbsp;&nbsp; return 0;</font></tt></b>
      <br>
      <b><tt><font color="#000099">}</font></tt></b> <br>
    </p>
    <table border="" cellpadding="4" width="100%">
      <tbody>
        <tr>
          <td> <b><tt><font color="#993300">Now it is 11:42:51</font></tt></b>
            <br>
            <b><tt><font color="#993300">A thousand seconds later it is
                  11:59:31</font></tt></b> <br>
            <b><tt><font color="#993300">It still is 11:42:51</font></tt></b>
            <br>
            <b><tt><font color="#993300">Another 1000 seconds until
                  11:59:31</font></tt></b> <br>
            <b><tt><font color="#993300">Now it is 11:42:51</font></tt></b>
            <br>
            <b><tt><font color="#993300">One second later 11:42:52</font></tt></b>
            <br>
            <b><tt><font color="#993300">The same time 11:42:52 and 60
                  seconds later 11:43:52</font></tt></b> </td>
        </tr>
      </tbody>
    </table>
    <br>
    <b>**</b> Предефиниране на операции като член-функции на клас. <br>
    Първият аргумент на предефинираната операция е текущият обект
    (неявният параметър).<br>
    Унарна операция се предефинира с член-функция без параметри, бинарна
    операция се предефинира с член-фунция с един параметър.<br>
    <pre style="color: rgb(0, 0, 0); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: 
normal; line-height: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: auto; word-spacing: 
0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px;"><code><span style="font-family: 'Courier New'; font-style: 
normal; font-variant: normal; font-weight: normal; font-size: 10pt; line-height: normal;"><span class="cpp1-preprocessor" style="color: rgb(255, 0, 0);"><b>// <a href="../../../2014/NETB151/sources/ch17/overload1.cpp">overload1.cpp</a></b><br>#include &lt;iostream&gt;<br>#include &lt;iomanip&gt;<br></span><span class="cpp1-reservedword" style="color: rgb(58, 110, 165); 
font-weight: bold;">using</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-reservedword" style="color: rgb(58, 110, 165); font-weight: bold;">namespace</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-identifier" style="color: rgb(0, 0, 0);">std</span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">;<br>
</span><span class="cpp1-preprocessor" style="color: rgb(255, 0, 0);">#include "ccc_time.h"<br></span>
<span class="cpp1-reservedword" style="color: rgb(58, 110, 165); font-weight: bold;">class</span><span class="cpp1-space" style="background-color: 
rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-identifier" style="color: rgb(0, 0, 0);">Time_new</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: 
bold;">:</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-reservedword" style="color: rgb(58, 110, 165); font-weight: bold;">public</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: 
rgb(0, 0, 0);"> </span><span class="cpp1-identifier" style="color: rgb(0, 0, 0);">Time</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">{<br></span><span class="cpp1-reservedword" style="color: rgb(58, 110, 165); font-weight: bold;">public</span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">:<br></span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);">  </span><span class="cpp1-reservedword" style="color: rgb(58, 110, 165); font-weight: bold;">int</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-reservedword" style="color: rgb(58, 110, 165); font-weight: bold;">operator</span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">-(</span><span class="cpp1-identifier" style="color: rgb(0, 0, 0);">Time_new</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-identifier" style="color: rgb(0, 0, 0);">b</span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">)</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-reservedword" style="color: rgb(58, 110, 165); font-weight: bold;">const</span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">;<br></span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);">  </span><span class="cpp1-identifier" style="color: rgb(0, 0, 0);">Time_new</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-reservedword" style="color: rgb(58, 110, 165); font-weight: bold;">operator</span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">+(</span><span class="cpp1-reservedword" style="color: rgb(58, 110, 165); font-weight: bold;">int</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-identifier" style="color: rgb(0, 0, 0);">sec</span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">)</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-reservedword" style="color: rgb(58, 110, 165); font-weight: bold;">const</span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">;<br></span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);">  </span><span class="cpp1-reservedword" style="color: rgb(58, 110, 165); font-weight: bold;">bool</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-reservedword" style="color: rgb(58, 110, 165); font-weight: bold;">operator</span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">==(</span><span class="cpp1-identifier" style="color: rgb(0, 0, 0);">Time_new</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-identifier" style="color: rgb(0, 0, 0);">b</span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">)</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-reservedword" style="color: rgb(58, 110, 165); font-weight: bold;">const</span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">;<br></span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);">  </span><span class="cpp1-reservedword" style="color: rgb(58, 110, 165); font-weight: bold;">bool</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-reservedword" style="color: rgb(58, 110, 165); font-weight: bold;">operator</span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">!=(</span><span class="cpp1-identifier" style="color: rgb(0, 0, 0);">Time_new</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-identifier" style="color: rgb(0, 0, 0);">b</span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">)</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-reservedword" style="color: rgb(58, 110, 165); font-weight: bold;">const</span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">;<br></span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);">  </span><span class="cpp1-identifier" style="color: rgb(0, 0, 0);">Time_new</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-reservedword" style="color: rgb(58, 110, 165); font-weight: bold;">operator</span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">++();</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);">   </span><span class="cpp1-comment" style="color: rgb(10, 36, 106); font-style: italic;">        // prefix<br></span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);">  </span><span class="cpp1-identifier" style="color: rgb(0, 0, 0);">Time_new</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-reservedword" style="color: rgb(58, 110, 165); font-weight: bold;">operator</span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">++(</span><span class="cpp1-reservedword" style="color: rgb(58, 110, 165); font-weight: bold;">int</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-identifier" style="color: rgb(0, 0, 0);">dummy</span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">);</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);">  </span><span class="cpp1-comment" style="color: rgb(10, 36, 106); font-style: italic;">// postfix<br></span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);">  </span><span class="cpp1-reservedword" style="color: rgb(58, 110, 165); font-weight: bold;">friend</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-identifier" style="color: rgb(0, 0, 0);">ostream</span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">&amp;</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-reservedword" style="color: rgb(58, 110, 165); font-weight: bold;">operator</span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">&lt;&lt;(</span><span class="cpp1-identifier" style="color: rgb(0, 0, 0);">ostream</span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">&amp;</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-identifier" style="color: rgb(0, 0, 0);">out</span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">,</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-identifier" style="color: rgb(0, 0, 0);">Time_new</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-identifier" style="color: rgb(0, 0, 0);">a</span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">);</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);">             <br></span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">};<br><br></span><span class="cpp1-comment" style="color: rgb(10, 36, 106); font-style: italic;">/**<br>   Compute the number of seconds between two points in time.<br>   @param b another point in time<br>   @return the number of seconds that a is away from b<br>*/<br></span><span class="cpp1-reservedword" style="color: rgb(58, 110, 165); font-weight: bold;">int</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-identifier" style="color: rgb(0, 0, 0);">Time_new</span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">::</span><span class="cpp1-reservedword" style="color: rgb(58, 110, 165); font-weight: bold;">operator</span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">-(</span><span class="cpp1-identifier" style="color: rgb(0, 0, 0);">Time_new</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-identifier" style="color: rgb(0, 0, 0);">b</span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">)</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-reservedword" style="color: rgb(58, 110, 165); font-weight: bold;">const<br></span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">{</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);">  </span><span class="cpp1-reservedword" style="color: rgb(58, 110, 165); font-weight: bold;">return</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-reservedword" style="color: rgb(58, 110, 165); font-weight: bold;">this</span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">-&gt;</span><span class="cpp1-identifier" style="color: rgb(0, 0, 0);">seconds_from</span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">(</span><span class="cpp1-identifier" style="color: rgb(0, 0, 0);">b</span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">);<br>}<br><br></span><span class="cpp1-comment" style="color: rgb(10, 36, 106); font-style: italic;">/**<br>   Compute a point in time that is some number of seconds away.<br>   @param sec the seconds to add<br>   @return a point in time that is sec seconds away from a<br>*/<br></span><span class="cpp1-identifier" style="color: rgb(0, 0, 0);">Time_new</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-identifier" style="color: rgb(0, 0, 0);">Time_new</span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">::</span><span class="cpp1-reservedword" style="color: rgb(58, 110, 165); font-weight: bold;">operator</span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">+(</span><span class="cpp1-reservedword" style="color: rgb(58, 110, 165); font-weight: bold;">int</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-identifier" style="color: rgb(0, 0, 0);">sec</span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">)</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-reservedword" style="color: rgb(58, 110, 165); font-weight: bold;">const<br></span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">{</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);">  </span><span class="cpp1-identifier" style="color: rgb(0, 0, 0);">Time_new</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-identifier" style="color: rgb(0, 0, 0);">r</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">=</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">*</span><span class="cpp1-reservedword" style="color: rgb(58, 110, 165); font-weight: bold;">this</span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">;<br></span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);">   </span><span class="cpp1-identifier" style="color: rgb(0, 0, 0);">r</span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">.</span><span class="cpp1-identifier" style="color: rgb(0, 0, 0);">add_seconds</span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">(</span><span class="cpp1-identifier" style="color: rgb(0, 0, 0);">sec</span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">);<br></span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);">   </span><span class="cpp1-reservedword" style="color: rgb(58, 110, 165); font-weight: bold;">return</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-identifier" style="color: rgb(0, 0, 0);">r</span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">;<br>}<br><br></span><span class="cpp1-comment" style="color: rgb(10, 36, 106); font-style: italic;">/**<br>   Compare two points in time<br>   @param b another point in time<br>   @return true if they are the same<br>*/<br></span><span class="cpp1-reservedword" style="color: rgb(58, 110, 165); font-weight: bold;">bool</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-identifier" style="color: rgb(0, 0, 0);">Time_new</span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">::</span><span class="cpp1-reservedword" style="color: rgb(58, 110, 165); font-weight: bold;">operator</span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">==(</span><span class="cpp1-identifier" style="color: rgb(0, 0, 0);">Time_new</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-identifier" style="color: rgb(0, 0, 0);">b</span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">)</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-reservedword" style="color: rgb(58, 110, 165); font-weight: bold;">const<br></span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">{</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);">  </span><span class="cpp1-reservedword" style="color: rgb(58, 110, 165); font-weight: bold;">return</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-reservedword" style="color: rgb(58, 110, 165); font-weight: bold;">this</span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">-&gt;</span><span class="cpp1-identifier" style="color: rgb(0, 0, 0);">seconds_from</span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">(</span><span class="cpp1-identifier" style="color: rgb(0, 0, 0);">b</span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">)</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">==</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-number" style="color: rgb(128, 0, 128); font-weight: bold;">0</span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">;<br>}<br><br></span><span class="cpp1-comment" style="color: rgb(10, 36, 106); font-style: italic;">/**<br>   Compare two points in time.<br>   @param b another point in time<br>   @return true if they are the different<br>*/<br></span><span class="cpp1-reservedword" style="color: rgb(58, 110, 165); font-weight: bold;">bool</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-identifier" style="color: rgb(0, 0, 0);">Time_new</span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">::</span><span class="cpp1-reservedword" style="color: rgb(58, 110, 165); font-weight: bold;">operator</span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">!=(</span><span class="cpp1-identifier" style="color: rgb(0, 0, 0);">Time_new</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-identifier" style="color: rgb(0, 0, 0);">b</span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">)</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-reservedword" style="color: rgb(58, 110, 165); font-weight: bold;">const<br></span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">{</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);">  </span><span class="cpp1-reservedword" style="color: rgb(58, 110, 165); font-weight: bold;">return</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">!(*</span><span class="cpp1-reservedword" style="color: rgb(58, 110, 165); font-weight: bold;">this</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">==</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-identifier" style="color: rgb(0, 0, 0);">b</span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">);<br>}<br><br></span><span class="cpp1-comment" style="color: rgb(10, 36, 106); font-style: italic;">/**<br>   Prefix increment by 1 second.<br>   @return the new value<br>*/<br></span><span class="cpp1-identifier" style="color: rgb(0, 0, 0);">Time_new</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-identifier" style="color: rgb(0, 0, 0);">Time_new</span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">::</span><span class="cpp1-reservedword" style="color: rgb(58, 110, 165); font-weight: bold;">operator</span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">++()</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);">   </span><span class="cpp1-comment" style="color: rgb(10, 36, 106); font-style: italic;">// prefix<br></span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">{</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);">  </span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">*</span><span class="cpp1-reservedword" style="color: rgb(58, 110, 165); font-weight: bold;">this</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">=</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">*</span><span class="cpp1-reservedword" style="color: rgb(58, 110, 165); font-weight: bold;">this</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">+</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-number" style="color: rgb(128, 0, 128); font-weight: bold;">1</span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">;<br></span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);">   </span><span class="cpp1-reservedword" style="color: rgb(58, 110, 165); font-weight: bold;">return</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">*</span><span class="cpp1-reservedword" style="color: rgb(58, 110, 165); font-weight: bold;">this</span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">;</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> <br></span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">}<br><br></span><span class="cpp1-comment" style="color: rgb(10, 36, 106); font-style: italic;">/**<br>   Postfix increment by 1 second.<br>   @return the old value<br>*/</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);">    <br></span><span class="cpp1-identifier" style="color: rgb(0, 0, 0);">Time_new</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-identifier" style="color: rgb(0, 0, 0);">Time_new</span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">::</span><span class="cpp1-reservedword" style="color: rgb(58, 110, 165); font-weight: bold;">operator</span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">++(</span><span class="cpp1-reservedword" style="color: rgb(58, 110, 165); font-weight: bold;">int</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-identifier" style="color: rgb(0, 0, 0);">dummy</span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">)</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);">  </span><span class="cpp1-comment" style="color: rgb(10, 36, 106); font-style: italic;">// postfix<br></span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">{</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);">  </span><span class="cpp1-identifier" style="color: rgb(0, 0, 0);">Time_new</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-identifier" style="color: rgb(0, 0, 0);">t</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">=</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">*</span><span class="cpp1-reservedword" style="color: rgb(58, 110, 165); font-weight: bold;">this</span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">;<br></span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);">   </span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">*</span><span class="cpp1-reservedword" style="color: rgb(58, 110, 165); font-weight: bold;">this</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">=</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">*</span><span class="cpp1-reservedword" style="color: rgb(58, 110, 165); font-weight: bold;">this</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">+</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-number" style="color: rgb(128, 0, 128); font-weight: bold;">1</span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">;<br></span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);">   </span><span class="cpp1-reservedword" style="color: rgb(58, 110, 165); font-weight: bold;">return</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-identifier" style="color: rgb(0, 0, 0);">t</span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">;<br>}</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);">    <br><br></span><span class="cpp1-comment" style="color: rgb(10, 36, 106); font-style: italic;">/**<br>   Print a Time object<br>   @param out an output stream<br>   @param a a point in time<br>   @return out<br>*/<br></span><span class="cpp1-identifier" style="color: rgb(0, 0, 0);">ostream</span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">&amp;</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-reservedword" style="color: rgb(58, 110, 165); font-weight: bold;">operator</span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">&lt;&lt;(</span><span class="cpp1-identifier" style="color: rgb(0, 0, 0);">ostream</span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">&amp;</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-identifier" style="color: rgb(0, 0, 0);">out</span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">,</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-identifier" style="color: rgb(0, 0, 0);">Time_new</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-identifier" style="color: rgb(0, 0, 0);">a</span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">)<br>{</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);">  </span><span class="cpp1-identifier" style="color: rgb(0, 0, 0);">out</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">&lt;&lt;</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-identifier" style="color: rgb(0, 0, 0);">a</span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">.</span><span class="cpp1-identifier" style="color: rgb(0, 0, 0);">get_hours</span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">()</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">&lt;&lt;</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-string" style="color: rgb(255, 0, 0); font-weight: bold;">":"<br></span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);">      </span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">&lt;&lt;</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-identifier" style="color: rgb(0, 0, 0);">setw</span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">(</span><span class="cpp1-number" style="color: rgb(128, 0, 128); font-weight: bold;">2</span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">)</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">&lt;&lt;</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-identifier" style="color: rgb(0, 0, 0);">setfill</span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">(</span><span class="cpp1-character" style="color: rgb(0, 0, 0); font-weight: bold;">'0'</span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">)</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> <br>      </span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">&lt;&lt;</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-identifier" style="color: rgb(0, 0, 0);">a</span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">.</span><span class="cpp1-identifier" style="color: rgb(0, 0, 0);">get_minutes</span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">()</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">&lt;&lt;</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-string" style="color: rgb(255, 0, 0); font-weight: bold;">":"<br></span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);">      </span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">&lt;&lt;</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-identifier" style="color: rgb(0, 0, 0);">setw</span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">(</span><span class="cpp1-number" style="color: rgb(128, 0, 128); font-weight: bold;">2</span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">)</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">&lt;&lt;</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-identifier" style="color: rgb(0, 0, 0);">a</span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">.</span><span class="cpp1-identifier" style="color: rgb(0, 0, 0);">get_seconds</span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">()</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">&lt;&lt;</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-identifier" style="color: rgb(0, 0, 0);">setfill</span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">(</span><span class="cpp1-character" style="color: rgb(0, 0, 0); font-weight: bold;">' '</span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">);<br></span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);">   </span><span class="cpp1-reservedword" style="color: rgb(58, 110, 165); font-weight: bold;">return</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-identifier" style="color: rgb(0, 0, 0);">out</span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">;<br>}</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> <br><br></span><span class="cpp1-reservedword" style="color: rgb(58, 110, 165); font-weight: bold;">int</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-identifier" style="color: rgb(0, 0, 0);">main</span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">()<br>{</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);">  </span><span class="cpp1-identifier" style="color: rgb(0, 0, 0);">Time_new</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-identifier" style="color: rgb(0, 0, 0);">now</span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">;<br></span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);">   </span><span class="cpp1-identifier" style="color: rgb(0, 0, 0);">cout</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">&lt;&lt;</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-string" style="color: rgb(255, 0, 0); font-weight: bold;">"now: "</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">&lt;&lt;</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-identifier" style="color: rgb(0, 0, 0);">now</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">&lt;&lt;</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-identifier" style="color: rgb(0, 0, 0);">endl</span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">;<br></span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);">   </span><span class="cpp1-identifier" style="color: rgb(0, 0, 0);">Time_new</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-identifier" style="color: rgb(0, 0, 0);">later</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">=</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-identifier" style="color: rgb(0, 0, 0);">now</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">+</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-number" style="color: rgb(128, 0, 128); font-weight: bold;">1000</span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">;<br></span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);">   </span><span class="cpp1-identifier" style="color: rgb(0, 0, 0);">cout</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">&lt;&lt;</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-string" style="color: rgb(255, 0, 0); font-weight: bold;">"later: "</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">&lt;&lt;</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-identifier" style="color: rgb(0, 0, 0);">later</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">&lt;&lt;</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-identifier" style="color: rgb(0, 0, 0);">endl</span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">;<br></span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);">   </span><span class="cpp1-identifier" style="color: rgb(0, 0, 0);">Time_new</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-identifier" style="color: rgb(0, 0, 0);">now2</span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">;<br></span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);">   </span><span class="cpp1-reservedword" style="color: rgb(58, 110, 165); font-weight: bold;">if</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">(</span><span class="cpp1-identifier" style="color: rgb(0, 0, 0);">now</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">==</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-identifier" style="color: rgb(0, 0, 0);">now2</span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">)<br></span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);">      </span><span class="cpp1-identifier" style="color: rgb(0, 0, 0);">cout</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">&lt;&lt;</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-string" style="color: rgb(255, 0, 0); font-weight: bold;">"now == now2: "</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">&lt;&lt;</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-identifier" style="color: rgb(0, 0, 0);">now2</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">&lt;&lt;</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-identifier" style="color: rgb(0, 0, 0);">endl</span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">;<br></span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);">   </span><span class="cpp1-reservedword" style="color: rgb(58, 110, 165); font-weight: bold;">if</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">(</span><span class="cpp1-identifier" style="color: rgb(0, 0, 0);">now</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">!=</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-identifier" style="color: rgb(0, 0, 0);">now2</span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">)<br></span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);">      </span><span class="cpp1-identifier" style="color: rgb(0, 0, 0);">cout</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">&lt;&lt;</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-string" style="color: rgb(255, 0, 0); font-weight: bold;">"now != now2 "</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">&lt;&lt;</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-identifier" style="color: rgb(0, 0, 0);">now2</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">&lt;&lt;</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-identifier" style="color: rgb(0, 0, 0);">endl</span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">;<br></span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);">   </span><span class="cpp1-identifier" style="color: rgb(0, 0, 0);">cout</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">&lt;&lt;</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-string" style="color: rgb(255, 0, 0); font-weight: bold;">"now++: "</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">&lt;&lt;</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-identifier" style="color: rgb(0, 0, 0);">now</span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">++</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> <br>        </span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">&lt;&lt;</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-string" style="color: rgb(255, 0, 0); font-weight: bold;">"  ++now2: "</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">&lt;&lt;</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">++</span><span class="cpp1-identifier" style="color: rgb(0, 0, 0);">now2</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">&lt;&lt;</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-identifier" style="color: rgb(0, 0, 0);">endl</span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">;<br></span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);">   </span><span class="cpp1-identifier" style="color: rgb(0, 0, 0);">cout</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">&lt;&lt;</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-string" style="color: rgb(255, 0, 0); font-weight: bold;">"now: "</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">&lt;&lt;</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-identifier" style="color: rgb(0, 0, 0);">now</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">&lt;&lt;</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-string" style="color: rgb(255, 0, 0); font-weight: bold;">" now2: "</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">&lt;&lt;</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-identifier" style="color: rgb(0, 0, 0);">now2</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">&lt;&lt;</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-identifier" style="color: rgb(0, 0, 0);">endl</span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">;<br></span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);">   </span><span class="cpp1-identifier" style="color: rgb(0, 0, 0);">cout</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">&lt;&lt;</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-string" style="color: rgb(255, 0, 0); font-weight: bold;">"later - now2: "</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">&lt;&lt;</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-identifier" style="color: rgb(0, 0, 0);">later</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">-</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-identifier" style="color: rgb(0, 0, 0);">now2</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">&lt;&lt;</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-identifier" style="color: rgb(0, 0, 0);">endl</span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">;</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);">   <br>   </span><span class="cpp1-reservedword" style="color: rgb(58, 110, 165); font-weight: bold;">return</span><span class="cpp1-space" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"> </span><span class="cpp1-number" style="color: rgb(128, 0, 128); font-weight: bold;">0</span><span class="cpp1-symbol" style="color: rgb(153, 51, 0); font-weight: bold;">;<br>}<br></span></span></code></pre>
    Сега можем да заменим функциите в класовете за реализация на свързан
    списък (<a href="../../../2014/NETB151/sources/ch16/list2.cpp"><tt>list2.cpp</tt></a>),




    които заместваха операциите от STL-реализацията&nbsp; с
    предефинирани операции:<br>
    <p><b><tt><font color="#006600">bool operator!=(Iterator a, Iterator
            b); /* </font><font color="#000000">външна за класа функция
            */</font></tt></b> <br>
      <b><tt><font color="#006600">bool Iterator::operator!=(Iterator
            b);&nbsp;&nbsp; /* </font><font color="#000000">член-функция














            */</font></tt></b> </p>
    <p><b><tt><font color="#006600">string Iterator::operator*() const</font></tt></b>
      <br>
      <b><tt><font color="#006600">{&nbsp; assert(position != NULL);</font></tt></b>
      <br>
      <b><tt><font color="#006600">&nbsp;&nbsp; return
            position-&gt;data;&nbsp; }</font></tt></b> </p>
    <p><b><tt><font color="#006600">void Iterator::operator++(int dummy)</font></tt></b>
      <br>
      <b><tt><font color="#006600">{&nbsp; assert(position != NULL);</font></tt></b>
      <br>
      <b><tt><font color="#006600">&nbsp;&nbsp; position =
            position-&gt;next; }</font></tt></b> </p>
    <p><b><tt><font color="#006600">void Iterator::operator--(int dummy)</font></tt></b>
      <br>
      <b><tt><font color="#006600">{&nbsp; if (position == NULL)&nbsp;
            position = last;</font></tt></b> <br>
      <b><tt><font color="#006600">&nbsp;&nbsp;
            else&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
position















            = position-&gt;previous;</font></tt></b> <br>
      <b><tt><font color="#006600">&nbsp;&nbsp; assert(position !=
            NULL);&nbsp;&nbsp; }</font></tt></b> </p>
    <p><b><tt><font color="#006600">bool Iterator::operator!=(Iterator
            b) const</font></tt></b> <br>
      <b><tt><font color="#006600">{&nbsp; return position !=
            b.position;&nbsp;&nbsp; }</font></tt></b> </p>
    <p><b><tt><font color="#006600">bool Iterator::operator==(Iterator
            b) const</font></tt></b> <br>
      <b><tt><font color="#006600">{&nbsp; return position ==
            b.position;&nbsp;&nbsp;&nbsp;</font></tt></b> </p>
    <hr size="2" width="100%">
    <p><img alt="" src="../b5.gif" height="18" width="20"> <b>Управление




        на паметта<br>
      </b></p>
    <p>Ще разгледаме примера от <a href="lec02.html">Указатели</a> за
      използване на указател в клас - <a
        href="../../../2014/NETB151/sources/ch10/department.cpp"
        style="font-family: 'Times New Roman'; font-size: medium;
        font-style: normal; font-variant: normal; font-weight: normal;
        letter-spacing: normal; line-height: normal; orphans: auto;
        text-align: left; text-indent: 0px; text-transform: none;
        white-space: normal; widows: auto; word-spacing: 0px;
        -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px;
        background-color: rgb(255, 255, 255);"><font size="+1"><span
            style="font-family: monospace;">department.cpp</span></font></a><span
        style="font-family: 'Times New Roman'; font-size: medium;
        font-style: normal; font-variant: normal; font-weight: normal;
        letter-spacing: normal; line-height: normal; orphans: auto;
        text-align: left; text-indent: 0px; text-transform: none;
        white-space: normal; widows: auto; word-spacing: 0px;
        -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px;
        background-color: rgb(255, 255, 255);"><font size="+1"><span
            style="font-family: monospace;">.<br>
          </span></font></span></p>
    <pre style="color: rgb(0, 0, 0); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-indent: 0px; text-transform: none; word-spacing: 0px; -webkit-text-stroke-width: 0px; orphans: 2; text-align: left; widows: 2; background-color: rgb(255, 255, 255);"><tt><b>// <a href="http://nikolay.kirov.be/2014/NETB151/sources/ch10/department.cpp">department0.cpp</a><br> #include </b><b><font color="#990000">&lt;</font></b><b>string</b><b><font color="#990000">&gt;</font></b><b>
 #include </b><b><font color="#990000">&lt;</font></b><b>iostream</b><b><font color="#990000">&gt;</font></b><b>
 using namespace std</b><b><font color="#990000">;</font></b><b>

 #include </b><b><font color="#ff0000">"ccc_empl.h"</font></b><b>
</b><b><i><font color="#9a1900"> /**</font></i></b><b><span style="font-family: mon;"><span style="font-style: italic;"><br></span></span></b><b><i><font color="#9a1900">    A department in an organization.</font></i></b><b>
</b><b><i><font color="#9a1900"> */</font></i></b><b>
</b><b><font color="#0000ff"> class</font></b><b> Department </b><b><font color="#ff0000">{</font></b><b>
 </b><b><font color="#0000ff">public</font></b><b><font color="#990000">:</font></b><b>
    </b><b><font color="#000000">Department</font></b><b><font color="#990000">(</font></b><b>string n</b><b><font color="#990000">)</font></b><b><font color="#990000">;</font></b><b>
    </b><b><font color="#009900">void</font></b><b> </b><b><font color="#000000">set_receptionist</font></b><b><font color="#990000">(</font></b><b>Employee</b><b><font color="#990000">*</font></b><b> e</b><b><font color="#990000">)</font></b><b><font color="#990000">;</font></b><b>
</b><b>    </b><b><font color="#009900">void</font></b><b> </b><b><font color="#000000">print</font></b><b><font color="#990000">(</font></b><b><font color="#990000">)</font></b><b> </b><b><font color="#0000ff">const</font></b><b><font color="#990000">;</font></b><b>
 </b><b><font color="#0000ff">private</font></b><b><font color="#990000">:</font></b><b>
    string name</b><b><font color="#990000">;</font></b><b>
    Employee</b><b><font color="#990000">*</font></b><b> receptionist</b><b><font color="#990000">;</font></b><b>
</b><b> </b><b><font color="#ff0000">}</font></b><b><font color="#990000">;</font></b><b>
 </b><b><i><font color="#9a1900">/**</font></i></b><b>
 </b><b><i><font color="#9a1900">   Constructs a department with a given name.</font></i></b><b>
 </b><b><i><font color="#9a1900">   @param n the department name</font></i></b><b>
 </b><b><i><font color="#9a1900">*/</font></i></b><b>
 Department</b><b><font color="#990000">:</font></b><b><font color="#990000">:</font></b><b><font color="#000000">Department</font></b><b><font color="#990000">(</font></b><b>string n</b><b><font color="#990000">)</font></b><b>
 </b><b><font color="#ff0000">{</font></b><b>  name </b><b><font color="#990000">=</font></b><b> n</b><b><font color="#990000">;</font></b><b>
    receptionist </b><b><font color="#990000">=</font></b><b> NULL</b><b><font color="#990000">;</font></b><b>
 </b><b><font color="#ff0000">}</font></b><b>
 </b><b><i><font color="#9a1900">/**</font></i></b><b>
 </b><b><i><font color="#9a1900">   Sets the receptionist for this department.</font></i></b><b>
 </b><b><i><font color="#9a1900">   @param e the receptionist</font></i></b><b>
 </b><b><i><font color="#9a1900">*/</font></i></b><b>
 </b><b><font color="#009900">void</font></b><b> Department</b><b><font color="#990000">:</font></b><b><font color="#990000">:</font></b><b><font color="#000000">set_receptionist</font></b><b><font color="#990000">(</font></b><b>Employee</b><b><font color="#990000">*</font></b><b> e</b><b><font color="#990000">)</font></b><b>
 </b><b><font color="#ff0000">{</font></b><b> receptionist </b><b><font color="#990000">=</font></b><b> e</b><b><font color="#990000">;</font></b><b> </b><b><font color="#ff0000">}</font></b><b>
</b><b> </b><b><i><font color="#9a1900">/**</font></i></b><b>
 </b><b><i><font color="#9a1900">   Prints a description of this department.</font></i></b><b>
 </b><b><i><font color="#9a1900">*/</font></i></b><b>
 </b><b><font color="#009900">void</font></b><b> Department</b><b><font color="#990000">:</font></b><b><font color="#990000">:</font></b><b><font color="#000000">print</font></b><b><font color="#990000">(</font></b><b><font color="#990000">)</font></b><b> </b><b><font color="#0000ff">const</font></b><b>
 </b><b><font color="#ff0000">{</font></b><b>  cout </b><b><font color="#990000">&lt;</font></b><b><font color="#990000">&lt;</font></b><b> </b><b><font color="#ff0000">"Name: "</font></b><b> </b><b><font color="#990000">&lt;</font></b><b><font color="#990000">&lt;</font></b><b> name </b><b><font color="#990000">&lt;</font></b><b><font color="#990000">&lt;</font></b><b> </b><b><font color="#ff0000">"\n"</font></b><b>
         </b><b><font color="#990000">&lt;</font></b><b><font color="#990000">&lt;</font></b><b> </b><b><font color="#ff0000">"Receptionist: "</font></b><b><font color="#990000">;</font></b><b>
    </b><b><font color="#000000">if</font></b><b> </b><b><font color="#990000">(</font></b><b>receptionist </b><b><font color="#990000">=</font></b><b><font color="#990000">=</font></b><b> NULL</b><b><font color="#990000">)</font></b><b> cout </b><b><font color="#990000">&lt;</font></b><b><font color="#990000">&lt;</font></b><b> </b><b><font color="#ff0000">"None"</font></b><b><font color="#990000">;</font></b><b>
    </b><b><font color="#0000ff">else</font></b><b>
       cout </b><b><font color="#990000">&lt;</font></b><b><font color="#990000">&lt;</font></b><b> receptionist</b><b><font color="#990000">-</font></b><b><font color="#990000">&gt;</font></b><b><font color="#000000">get_name</font></b><b><font color="#990000">(</font></b><b><font color="#990000">)</font></b><b> </b><b><font color="#990000">&lt;</font></b><b><font color="#990000">&lt;</font></b><b> </b><b><font color="#ff0000">" "</font></b><b>
            </b><b><font color="#990000">&lt;</font></b><b><font color="#990000">&lt;</font></b><b> receptionist</b><b><font color="#990000">-</font></b><b><font color="#990000">&gt;</font></b><b><font color="#000000">get_salary</font></b><b><font color="#990000">(</font></b><b><font color="#990000">)</font></b><b><font color="#990000">;</font></b><b>
</b><b>    cout </b><b><font color="#990000">&lt;</font></b><b><font color="#990000">&lt;</font></b><b> </b><b><font color="#ff0000">"\n"</font></b><b><font color="#990000">;</font></b><b>
 </b><b><font color="#ff0000">}</font></b><b>
 
 </b><b><font color="#009900">int</font></b><b> </b><b><font color="#000000">main</font></b><b><font color="#990000">(</font></b><b><font color="#990000">)</font></b><b>
 </b><b><font color="#ff0000">{</font></b><b>  Department </b><b><font color="#000000">shipping</font></b><b><font color="#990000">(</font></b><b><font color="#ff0000">"Shipping"</font></b><b><font color="#990000">)</font></b><b><font color="#990000">;</font></b><b>
    Department </b><b><font color="#000000">qc</font></b><b><font color="#990000">(</font></b><b><font color="#ff0000">"Quality Control"</font></b><b><font color="#990000">)</font></b><b><font color="#990000">;</font></b><b>
    Employee</b><b><font color="#990000">*</font></b><b> harry </b><b><font color="#990000">=</font></b><b> </b><b><font color="#0000ff">new</font></b><b> </b><b><font color="#000000">Employee</font></b><b><font color="#990000">(</font></b><b><font color="#ff0000">"Hacker, Harry"</font></b><b><font color="#990000">,</font></b><b> </b><b><font color="#993399">45000</font></b><b><font color="#990000">)</font></b><b><font color="#990000">;</font></b><b>
    shipping</b><b><font color="#990000">.</font></b></tt><tt><b><font color="#000000">receptionist</font></b></tt><tt><b><font color="#990000">(</font></b><b>harry</b><b><font color="#990000">)</font></b><b><font color="#990000">;</font></b><b>
    Employee</b><b><font color="#990000">*</font></b><b> tina </b><b><font color="#990000">=</font></b><b> </b><b><font color="#0000ff">new</font></b><b> </b><b><font color="#000000">Employee</font></b><b><font color="#990000">(</font></b><b><font color="#ff0000">"Tester, Tina"</font></b><b><font color="#990000">,</font></b><b> </b><b><font color="#993399">50000</font></b><b><font color="#990000">)</font></b><b><font color="#990000">;</font></b><b>
    qc</b><b><font color="#990000">.</font></b><b><font color="#000000">set_receptionist</font></b><b><font color="#990000">(</font></b><b>tina</b><b><font color="#990000">)</font></b><b><font color="#990000">;</font></b><b>
    tina</b><b><font color="#990000">-</font></b><b><font color="#990000">&gt;</font></b><b><font color="#000000">set_salary</font></b><b><font color="#990000">(</font></b><b><font color="#993399">55000</font></b><b><font color="#990000">)</font></b><b><font color="#990000">;</font></b><b>
    shipping</b><b><font color="#990000">.</font></b><b><font color="#000000">print</font></b><b><font color="#990000">(</font></b><b><font color="#990000">)</font></b><b><font color="#990000">;</font></b><b>
    qc</b><b><font color="#990000">.</font></b><b><font color="#000000">print</font></b><b><font color="#990000">(</font></b><b><font color="#990000">)</font></b><b><font color="#990000">;<br>    </font><font color="#3366ff">delete</font> harry;<br>    <font color="#3366ff">delete</font> tina;<font color="#990000"> &nbsp;<br></font></b><b>   &nbsp;</b><b><font color="#0000ff">return</font></b><b> </b><b><font color="#993399">0</font></b><b><font color="#990000">;</font></b><b>
 </b><b><font color="#ff0000">}</font></b></tt></pre>
    Променяме конструктора на класа, като там конструираме обект -
    член-данна на класа.<br>
    <pre>class Department {<br>   ...<br><span style="color: rgb(51, 51, 255);">private:</span>
   string name;<br>   Employee* receptionist;<br>};<br><br>Department::Department(string n, Employee e)<br>{  <br>   name = n;
   receptionist = <span style="color: rgb(51, 51, 255);">new </span>Employee(e.get_name(), e.get_salary());<br>}<br><br>/* second constructor */<br>
Department::Department(string n)<br>{  <br>   name = n;<br>   receptionist = NULL;<br>}<br><br></pre>
    <p><b>** Деструктор</b><br>
    </p>
    <p>Деструктор е специална член-функция, която се извиква автоматично
      когато обектът излезе от обхват.<br>
      Деструкторът на класа <tt>Department </tt>трябва да унищожи
      създадения от конструктора обект:<br>
    </p>
    <tt>Department::~Department()</tt><tt><br>
    </tt><tt>{ </tt><tt><span style="color: rgb(51, 51, 255);">delete</span></tt><tt>
      receptionist;</tt><tt><br>
    </tt><tt>} </tt>
    <p><b>** Предефиниране на операция за присвояване<br>
      </b></p>
    <p>Нека имаме следните дефиниции:<b><br>
      </b></p>
    <pre style="color: rgb(0, 0, 0); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: auto; text-align: left; text-indent: 0px; text-transform: none; widows: auto; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><font size="+1">Department qc("Quality Control", Employee("Tester, Tina", 50000));<br>Department dept("Shipping", Employee("Hacker, Harry", 35000));</font></pre>
    <p>и след това приложим операция присвояване (почленно копиране)<b>:<br>
      </b></p>
    <pre style="color: rgb(0, 0, 0); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: auto; text-align: left; text-indent: 0px; text-transform: none; widows: auto; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><font size="+1">dept = qc;</font></pre>
    <p>1. Това присвоявано води до загуба на памет (memory leak) - имаме
      недостъпен обект (от тип<font size="+1"> </font>Employee)! <br>
      2. Когато един от обектите (<tt>qc</tt> или <tt>dept</tt>) излезе
      от обхват (и изтрие обекта), получаваме висящ указател (dangling
      pointer)!<br>
    </p>
    <pre style="color: rgb(0, 0, 0); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: auto; text-align: left; text-indent: 0px; text-transform: none; widows: auto; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><img alt="" src="../../../2014/NETB151/slides/ch17/images/department_assignment.png" height="679" width="486"><br><b><br></b></pre>
    <p>Затова трябва да предефинираме операция присвояване за обекти от
      класа<font size="+1"><font size="+1"> </font></font><font
        size="+1"><tt>Employee</tt></font></p>
    <pre style="color: rgb(0, 0, 0); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: auto; text-align: left; text-indent: 0px; text-transform: none; widows: auto; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">Department&amp; Department::<span style="color: rgb(51, 51, 255);">operator</span>=(<span style="color: rgb(51, 51, 255);">const</span> Department&amp; b)<br>{  if (<span style="color: rgb(51, 51, 255);">this</span> != &amp;b)<br>   {  name = b.name;<br>      <span style="color: rgb(51, 51, 255);">delete</span> receptionist;<br>      <span style="color: rgb(51, 51, 255);">if</span> (b.receptionist == <span style="color: rgb(51, 51, 255);">NULL</span>) receptionist == <span style="color: rgb(51, 51, 255);">NULL</span>;<br>      <span style="color: rgb(51, 51, 255);">else</span><br>         receptionist = <span style="color: rgb(51, 51, 255);">new</span> Employee(b.receptionist-&gt;get_name(),<br>         			b.receptionist-&gt;get_salary());<br>    }<br>    <span style="color: rgb(51, 51, 255);">return</span> *<span style="color: rgb(51, 51, 255);">this</span>;<br>}</pre>
    <p>Променяме данните, които не са указатели (в случая <tt>name</tt>)
      от обект <tt>b</tt> в <tt>*this</tt>, изтриваме указателя <tt>receptionist</tt>
      от <tt>*this</tt> и създаваме нов обект от тип <tt>Employee</tt>
      за <tt>*this</tt>, копие на обекта<tt> *</tt><tt><tt><tt>receptionist</tt></tt>
        от </tt><tt><tt>b</tt>.&nbsp;</tt><tt> <br>
      </tt></p>
    <p>Функцията за предефиниране трябва да е член-функция (защо)?<b><br>
      </b></p>
    <p><b>** Конструктор за копиране</b><br>
    </p>
    <p>Предназначението на операция присвояване е да промени съшествуващ
      обект, като го направи същия, както друг обект и не е подходяща за
      конструиране на нов обект. <br>
      Например в оператора за дефиниране на обект:<br>
    </p>
    <pre style="color: rgb(0, 0, 0); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: auto; text-align: left; text-indent: 0px; text-transform: none; widows: auto; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">Department dept = qc; // <font color="#ff0000">not assignment operator!</font></pre>
    <p>не може да се използва (и не е!) операция присвояване. <br>
      Правилното конструиране на обект, копие на друг обект е: <br>
    </p>
    <pre style="color: rgb(0, 0, 0); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: auto; text-align: left; text-indent: 0px; text-transform: none; widows: auto; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">Department dept(qc);</pre>
    <p>т.е. като се извика конструктор за копиране. <br>
      За всеки клас в езика С++ има такъв конструктор, но той действа с
      почленно копиране и възникава същия проблем, както при операция
      присвояване. <br>
      Решението е да се напише конструктор за копиране:<br>
    </p>
    <pre style="color: rgb(0, 0, 0); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: auto; text-align: left; text-indent: 0px; text-transform: none; widows: auto; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">Department::Department(<span style="color: rgb(51, 51, 255);">const</span> Department&amp; b)<br>{  name = b.name;<br>   <span style="color: rgb(51, 51, 255);">if</span> (b.receptionist == NULL) receptionist = NULL;<br>   <span style="color: rgb(51, 51, 255);">else</span><br>      receptionist = <span style="color: rgb(51, 51, 255);">new</span> Employee(b.receptionist-&gt;get_name(),<br>         			b.receptionist-&gt;get_salary());<br>}</pre>
    <p>Конструктор за копиране се вика и когато се предава
      параметър-стойност на функция, напр.<br>
    </p>
    <p><tt>void print(Department d)</tt><tt><br>
      </tt><tt>{ ... }</tt></p>
    <p><tt>Department dep("Administration")</tt><tt><br>
      </tt><tt>...</tt><tt><br>
      </tt><tt>print(dep);</tt><tt><br>
      </tt><tt>....</tt><br>
    </p>
    <p>Пример:<br>
    </p>
    <p> </p>
    <pre style="color: rgb(0, 0, 0); font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: auto; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px;"><tt>// <a href="../../../2014/NETB151/sources/ch17/department.cpp"><b>department.cpp</b></a><br>001: <b><font color="#000080">#include</font></b> <font color="#ff0000">&lt;string&gt;</font>
002: <b><font color="#000080">#include</font></b> <font color="#ff0000">&lt;iostream&gt;</font>
004: <b><font color="#0000ff">using</font></b> <b><font color="#0000ff">namespace</font></b> std<font color="#990000">;</font>
005: 
006: <b><font color="#000080">#include</font></b> <font color="#ff0000">"ccc_empl.h"</font>
008: <i><font color="#9a1900">/**</font></i>
009: <i><font color="#9a1900">   A department in an organization.</font></i>
010: <i><font color="#9a1900">*/</font></i>
011: <b><font color="#0000ff">class</font></b> Department <font color="#ff0000">{</font>
013: <b><font color="#0000ff">public</font></b><font color="#990000">:</font>
014:    <b><font color="#000000">Department</font></b><font color="#990000">(</font>string n<font color="#990000">)</font><font color="#990000">;</font>
015:    <b><font color="#000000">Department</font></b><font color="#990000">(</font>string n<font color="#990000">,</font> Employee e<font color="#990000">)</font><font color="#990000">;</font>
016:    <font color="#990000">~</font><b><font color="#000000">Department</font></b><font color="#990000">(</font><font color="#990000">)</font><font color="#990000">;</font>
017:    Department<font color="#990000">&amp;</font> <b><font color="#0000ff">operator</font></b><font color="#990000">=</font><font color="#990000">(</font><b><font color="#0000ff">const</font></b> Department<font color="#990000">&amp;</font> b<font color="#990000">)</font><font color="#990000">;</font>
018:    <b><font color="#000000">Department</font></b><font color="#990000">(</font><b><font color="#0000ff">const</font></b> Department<font color="#990000">&amp;</font> b<font color="#990000">)</font><font color="#990000">;</font>
019:    <font color="#009900">void</font> <b><font color="#000000">print</font></b><font color="#990000">(</font><font color="#990000">)</font> <b><font color="#0000ff">const</font></b><font color="#990000">;</font>
020: <b><font color="#0000ff">private</font></b><font color="#990000">:</font>
021:    string name<font color="#990000">;</font>
022:    Employee<font color="#990000">*</font> receptionist<font color="#990000">;</font>
023: <font color="#ff0000">}</font><font color="#990000">;</font>
024: 
025: <i><font color="#9a1900">/**</font></i>
026: <i><font color="#9a1900">   Constructs a department with a given name and no receptionist.</font></i>
027: <i><font color="#9a1900">   @param n the department name</font></i>
028: <i><font color="#9a1900">*/</font></i>
029: Department<font color="#990000">:</font><font color="#990000">:</font><b><font color="#000000">Department</font></b><font color="#990000">(</font>string n<font color="#990000">)</font>
030: <font color="#ff0000">{</font>  name <font color="#990000">=</font> n<font color="#990000">;</font>
032:    receptionist <font color="#990000">=</font> NULL<font color="#990000">;</font>
034:    cout <font color="#990000">&lt;</font><font color="#990000">&lt;</font> <font color="#ff0000">"Constructor: "</font><font color="#990000">;</font>
035:    <b><font color="#000000">print</font></b><font color="#990000">(</font><font color="#990000">)</font><font color="#990000">;</font>
036: <font color="#ff0000">}</font>
037: 
038: <i><font color="#9a1900">/**</font></i>
039: <i><font color="#9a1900">   Constructs a department with a given name and receptionist.</font></i>
040: <i><font color="#9a1900">   @param n the department name</font></i>
041: <i><font color="#9a1900">   @param e the receptionist</font></i>
042: <i><font color="#9a1900">*/</font></i>
043: Department<font color="#990000">:</font><font color="#990000">:</font><b><font color="#000000">Department</font></b><font color="#990000">(</font>string n<font color="#990000">,</font> Employee e<font color="#990000">)</font>
044: <font color="#ff0000">{</font>  name <font color="#990000">=</font> n<font color="#990000">;</font>
046:    receptionist <font color="#990000">=</font> <b><font color="#0000ff">new</font></b> <b><font color="#000000">Employee</font></b><font color="#990000">(</font>e<font color="#990000">.</font><b><font color="#000000">get_name</font></b><font color="#990000">(</font><font color="#990000">)</font><font color="#990000">,</font> e<font color="#990000">.</font><b><font color="#000000">get_salary</font></b><font color="#990000">(</font><font color="#990000">)</font><font color="#990000">)</font><font color="#990000">;</font>  
048:    cout <font color="#990000">&lt;</font><font color="#990000">&lt;</font> <font color="#ff0000">"Constructor: "</font><font color="#990000">;</font>
049:    <b><font color="#000000">print</font></b><font color="#990000">(</font><font color="#990000">)</font><font color="#990000">;</font>
050: <font color="#ff0000">}</font>
051: 
052: <i><font color="#9a1900">/**</font></i>
053: <i><font color="#9a1900">   Deletes the Employee object that this Department</font></i>
054: <i><font color="#9a1900">   object manages.</font></i>
055: <i><font color="#9a1900">*/</font></i>
056: Department<font color="#990000">:</font><font color="#990000">:</font><font color="#990000">~</font><b><font color="#000000">Department</font></b><font color="#990000">(</font><font color="#990000">)</font>
057: <font color="#ff0000">{</font>  cout <font color="#990000">&lt;</font><font color="#990000">&lt;</font> <font color="#ff0000">"Destructor: "</font><font color="#990000">;</font>
059:    <b><font color="#000000">print</font></b><font color="#990000">(</font><font color="#990000">)</font><font color="#990000">;</font>
061:    <b><font color="#0000ff">delete</font></b> receptionist<font color="#990000">;</font> <br>062: <font color="#ff0000">}</font>
063: 
064: <i><font color="#9a1900">/**</font></i>
065: <i><font color="#9a1900">   Constructs a Department object as a copy of another</font></i>
066: <i><font color="#9a1900">   Department object.</font></i>
067: <i><font color="#9a1900">   @param b the object to copy</font></i>
068: <i><font color="#9a1900">*/</font></i>
069: Department<font color="#990000">:</font><font color="#990000">:</font><b><font color="#000000">Department</font></b><font color="#990000">(</font><b><font color="#0000ff">const</font></b> Department<font color="#990000">&amp;</font> b<font color="#990000">)</font>
070: <font color="#ff0000">{</font>  cout <font color="#990000">&lt;</font><font color="#990000">&lt;</font> <font color="#ff0000">"Copy constructor: "</font><font color="#990000">;</font>
072:    b<font color="#990000">.</font><b><font color="#000000">print</font></b><font color="#990000">(</font><font color="#990000">)</font><font color="#990000">;</font>
073: 
074:    name <font color="#990000">=</font> b<font color="#990000">.</font>name<font color="#990000">;</font>
075:    <b><font color="#0000ff">if</font></b> <font color="#990000">(</font>b<font color="#990000">.</font>receptionist <font color="#990000">=</font><font color="#990000">=</font> NULL<font color="#990000">)</font> receptionist <font color="#990000">=</font> NULL<font color="#990000">;</font>
077:    <b><font color="#0000ff">else</font></b>
078:       receptionist <font color="#990000">=</font> <b><font color="#0000ff">new</font></b> <b><font color="#000000">Employee</font></b><font color="#990000">(</font>b<font color="#990000">.</font>receptionist<font color="#990000">-</font><font color="#990000">&gt;</font><b><font color="#000000">get_name</font></b><font color="#990000">(</font><font color="#990000">)</font><font color="#990000">,</font>
079:          b<font color="#990000">.</font>receptionist<font color="#990000">-</font><font color="#990000">&gt;</font><b><font color="#000000">get_salary</font></b><font color="#990000">(</font><font color="#990000">)</font><font color="#990000">)</font><font color="#990000">;</font>
080: <font color="#ff0000">}</font>
081: 
082: <i><font color="#9a1900">/**</font></i>
083: <i><font color="#9a1900">   Sets this Department object to a copy of another</font></i>
084: <i><font color="#9a1900">   Department object.</font></i>
085: <i><font color="#9a1900">   @param b the object to copy</font></i>
086: <i><font color="#9a1900">*/</font></i>
087: Department<font color="#990000">&amp;</font> Department<font color="#990000">:</font><font color="#990000">:</font><b><font color="#0000ff">operator</font></b><font color="#990000">=</font><font color="#990000">(</font><b><font color="#0000ff">const</font></b> Department<font color="#990000">&amp;</font> b<font color="#990000">)</font>
088: <font color="#ff0000">{</font>  cout <font color="#990000">&lt;</font><font color="#990000">&lt;</font> <font color="#ff0000">"Assignment: "</font><font color="#990000">;</font>
090:    <b><font color="#000000">print</font></b><font color="#990000">(</font><font color="#990000">)</font><font color="#990000">;</font>
091:    cout <font color="#990000">&lt;</font><font color="#990000">&lt;</font> <font color="#ff0000">"= "</font><font color="#990000">;</font>
092:    b<font color="#990000">.</font><b><font color="#000000">print</font></b><font color="#990000">(</font><font color="#990000">)</font><font color="#990000">;</font>
093:    
094:    <b><font color="#0000ff">if</font></b> <font color="#990000">(</font><b><font color="#0000ff">this</font></b> <font color="#990000">!</font><font color="#990000">=</font> <font color="#990000">&amp;</font> b<font color="#990000">)</font>
095:    <font color="#ff0000">{</font>  name <font color="#990000">=</font> b<font color="#990000">.</font>name<font color="#990000">;</font>
097:       <b><font color="#0000ff">delete</font></b> receptionist<font color="#990000">;</font>
098:       <b><font color="#0000ff">if</font></b> <font color="#990000">(</font>b<font color="#990000">.</font>receptionist <font color="#990000">=</font><font color="#990000">=</font> NULL<font color="#990000">)</font> receptionist <font color="#990000">=</font> NULL<font color="#990000">;</font>
100:       <b><font color="#0000ff">else</font></b>
101:          receptionist <font color="#990000">=</font> <b><font color="#0000ff">new</font></b> <b><font color="#000000">Employee</font></b><font color="#990000">(</font>b<font color="#990000">.</font>receptionist<font color="#990000">-</font><font color="#990000">&gt;</font><b><font color="#000000">get_name</font></b><font color="#990000">(</font><font color="#990000">)</font><font color="#990000">,</font>
102:             b<font color="#990000">.</font>receptionist<font color="#990000">-</font><font color="#990000">&gt;</font><b><font color="#000000">get_salary</font></b><font color="#990000">(</font><font color="#990000">)</font><font color="#990000">)</font><font color="#990000">;</font>
103:    <font color="#ff0000">}</font>
104:    <b><font color="#0000ff">return</font></b> <font color="#990000">*</font><b><font color="#0000ff">this</font></b><font color="#990000">;</font>
105: <font color="#ff0000">}</font>
106: 
107: <i><font color="#9a1900">/**</font></i>
108: <i><font color="#9a1900">   Prints a description of this department.</font></i>
109: <i><font color="#9a1900">*/</font></i>
110: <font color="#009900">void</font> Department<font color="#990000">:</font><font color="#990000">:</font><b><font color="#000000">print</font></b><font color="#990000">(</font><font color="#990000">)</font> <b><font color="#0000ff">const</font></b>
111: <font color="#ff0000">{</font>  cout <font color="#990000">&lt;</font><font color="#990000">&lt;</font> <font color="#ff0000">"[name="</font> <font color="#990000">&lt;</font><font color="#990000">&lt;</font> name <font color="#990000">&lt;</font><font color="#990000">&lt;</font> <font color="#ff0000">",receptionist="</font><font color="#990000">;</font>
113:    <b><font color="#0000ff">if</font></b> <font color="#990000">(</font>receptionist <font color="#990000">=</font><font color="#990000">=</font> NULL<font color="#990000">)</font>  cout <font color="#990000">&lt;</font><font color="#990000">&lt;</font> <font color="#ff0000">"NULL"</font><font color="#990000">;</font>
115:    <b><font color="#0000ff">else</font></b> cout <font color="#990000">&lt;</font><font color="#990000">&lt;</font> receptionist<font color="#990000">-</font><font color="#990000">&gt;</font><b><font color="#000000">get_name</font></b><font color="#990000">(</font><font color="#990000">)</font><font color="#990000">;</font>
117:    cout <font color="#990000">&lt;</font><font color="#990000">&lt;</font> <font color="#ff0000">"]\n"</font><font color="#990000">;</font>
118: <font color="#ff0000">}</font>
119: 
120: <font color="#009900">int</font> <b><font color="#000000">main</font></b><font color="#990000">(</font><font color="#990000">)</font>
121: <font color="#ff0000">{</font>  Department <b><font color="#000000">shipping</font></b><font color="#990000">(</font><font color="#ff0000">"Shipping"</font><font color="#990000">)</font><font color="#990000">;</font>
123:    Department <b><font color="#000000">qc</font></b><font color="#990000">(</font><font color="#ff0000">"Quality Control"</font><font color="#990000">,</font> <br>124:               <b><font color="#000000">Employee</font></b><font color="#990000">(</font><font color="#ff0000">"Tester, Tina"</font><font color="#990000">,</font> <font color="#993399">50000</font><font color="#990000">)</font><font color="#990000">)</font><font color="#990000">;</font>
125:    Department <b><font color="#000000">dept</font></b><font color="#990000">(</font>qc<font color="#990000">)</font><font color="#990000">;</font> <br>126:    dept <font color="#990000">=</font> shipping<font color="#990000">;</font>
127:    <b><font color="#0000ff">return</font></b> <font color="#993399">0</font><font color="#990000">;</font>
128: <font color="#ff0000">}</font>
</tt></pre>
    Когато използваме указатели (и динамична памет) в данните на клас,
    винаги трябва да дефинираме<b> "големите три": <br>
    </b>
    <ul>
      <li><b>конструктор за копиране, </b></li>
      <li><b>операция присвояване и </b></li>
      <li><b>деструктор</b>.</li>
    </ul>
    Пример с класа <tt>List</tt> (да си припомним <a
      href="../../../2014/NETB151/sources/ch16/list2.cpp"><tt>list2.cpp</tt></a>):<br>
    <br>
    <b><tt>// <a href="../../../2014/NETB151/sources/ch17/list0.cpp">list0.cpp</a></tt></b><b><tt><br>
      </tt></b><tt><b>#include &lt;string&gt;<br>
        #include &lt;iostream&gt;<br>
        #include &lt;cassert&gt;<br>
        using namespace std;<br>
        <br>
      </b>/* forward declarations */<b><br>
        class List;<br>
        class Iterator;<br>
        <br>
      </b>/** A class to hold the nodes of the linked list.&nbsp; */<b><br>
        class Node {<br>
        public:<br>
      </b>/** Constructs a node for a given data value.<br>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; @param s the data to store in
      this node&nbsp; */<b><br>
        &nbsp;&nbsp; Node(string s);<br>
        private:<br>
        &nbsp;&nbsp; string data;<br>
        &nbsp;&nbsp; Node* previous;<br>
        &nbsp;&nbsp; Node* next;<br>
        friend class List;<br>
        friend class Iterator;<br>
        };<br>
        &nbsp;&nbsp; <br>
      </b>/** An iterator denotes a position in the list or<br>
      &nbsp;&nbsp;&nbsp; past the end of the list.&nbsp; */<b><br>
        class Iterator {<br>
        public:<br>
      </b>/** Constructs an iterator that is not attached to any
      list.&nbsp; */<b><br>
        &nbsp;&nbsp; Iterator();<br>
        <br>
      </b>/** Looks up the value at a position.<br>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; @return the value of the Node
      to which the iterator <br>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; points &nbsp; */<b><br>
        &nbsp;&nbsp; string operator*() const;<br>
        <br>
      </b>/** Advances the iterator to the next position.&nbsp;&nbsp; */<b><br>
        &nbsp;&nbsp; void operator++(int dummy);<br>
        &nbsp;&nbsp;</b> <br>
      /** Moves the iterator to the previous position.&nbsp;&nbsp; */<b><br>
        &nbsp;&nbsp; void operator--(int dummy);<br>
        <br>
      </b>/** Compares two iterators.<br>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; @param b the iterator to
      compare with this iterator<br>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; @return true if this iterator
      and b are equal&nbsp;&nbsp; */<b><br>
        &nbsp;&nbsp; bool operator==(Iterator b) const;<br>
        <br>
      </b>/** Compares two iterators.<br>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; @param b the iterator to
      compare with this iterator<br>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; @return true if this iterator
      and b are not equal&nbsp;&nbsp; */<b><br>
        &nbsp;&nbsp; bool operator!=(Iterator b) const;<br>
        private:<br>
        &nbsp;&nbsp; Node* position;<br>
        &nbsp;&nbsp; Node* last;<br>
        friend class List;<br>
        };<br>
        <br>
      </b>/** A linked list of values of a given type.<br>
      &nbsp;&nbsp;&nbsp; @param T the type of the list values&nbsp; */<b><br>
        class List {<br>
        public:<br>
        &nbsp;&nbsp; </b>/** Constructs an empty list.&nbsp; */<b><br>
        &nbsp;&nbsp; List();<br>
        <br>
        &nbsp;&nbsp; </b>/** Constructs a list as a copy of another
      list.<br>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; @param b the list to
      copy&nbsp; */<b><br>
        &nbsp;&nbsp; List(const List&amp; b);<br>
        <br>
        &nbsp;&nbsp; </b>/** Deletes all nodes of this
      list.&nbsp;&nbsp; */<b><br>
        &nbsp;&nbsp; ~List();<br>
        &nbsp;&nbsp; </b><br>
      &nbsp;&nbsp;&nbsp; /** Assigns another list to this list.<br>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; @param b the list to assign<br>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; @return a reference to this
      list&nbsp; */<b><br>
        &nbsp;&nbsp; List&amp; operator=(const List&amp; b);<br>
        <br>
        &nbsp;&nbsp; </b>/** Appends an element to the list.<br>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; @param s the value to
      append&nbsp; */<b><br>
        &nbsp;&nbsp; void push_back(string s);<br>
        <br>
        &nbsp;&nbsp; </b>/** Inserts an element into the list.<br>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; @param iter the position
      before which to insert<br>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; @param s the value to
      append&nbsp; */<br>
      <b> &nbsp;&nbsp; void insert(Iterator iter, string s);<br>
        <br>
        &nbsp;&nbsp; </b>/** Removes an element from the list.<br>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; @param i the position to
      remove<br>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; @return an iterator pointing
      to the element after the<br>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; erased element&nbsp; */<b><br>
        &nbsp;&nbsp; Iterator erase(Iterator i);<br>
        <br>
        &nbsp;&nbsp;</b> /** Gets the beginning position of the list.<br>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; @return an iterator pointing
      to the beginning of the list&nbsp; */<b><br>
        &nbsp;&nbsp; Iterator begin() const;<br>
        <br>
        &nbsp;&nbsp; </b>/** Gets the past-the-end position of the
      list.<br>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; @return an iterator pointing
      past the end of the list&nbsp; */<b><br>
        &nbsp; </b></tt><tt><b><tt><b>Iterator </b></tt>end() const;<br>
        <br>
        private:<br>
        &nbsp;&nbsp; </b>/** Copies another list to this list.<br>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; @param b the list to
      copy&nbsp; */<b><br>
        &nbsp;&nbsp; void copy(const List&amp; b);<br>
        <br>
        &nbsp;&nbsp;</b> /** Deletes all nodes of this list.&nbsp;&nbsp;
      */<b><br>
        &nbsp;&nbsp; void free();<br>
        <br>
        &nbsp;&nbsp; Node* first;<br>
        &nbsp;&nbsp; Node* last;<br>
        };<br>
        <br>
        List::List()<br>
        {&nbsp; first = NULL;<br>
        &nbsp;&nbsp; last = NULL;<br>
        }<br>
        <br>
        List::~List()<br>
        {&nbsp; free();<br>
        }<br>
        <br>
        List::List(const List&amp; b)<br>
        {&nbsp; first = NULL;<br>
        &nbsp;&nbsp; last = NULL;<br>
        &nbsp;&nbsp; copy(b);<br>
        }<br>
        <br>
        List&amp; List::operator=(const List&amp; b)<br>
        {&nbsp; if (this != &amp;b)<br>
        &nbsp;&nbsp; {&nbsp; free();<br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; copy(b);<br>
        &nbsp;&nbsp; }<br>
        &nbsp;&nbsp; return *this;<br>
        }<br>
        <br>
        void List::push_back(string s)<br>
        {&nbsp; Node* newnode = new Node(s);<br>
        &nbsp;&nbsp; if (last == NULL) /* list is empty */<br>
        &nbsp;&nbsp; {&nbsp; first = newnode;<br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; last = newnode;<br>
        &nbsp;&nbsp; }<br>
        &nbsp;&nbsp; else<br>
        &nbsp;&nbsp; {&nbsp; newnode-&gt;previous = last;<br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; last-&gt;next = newnode;<br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; last = newnode;<br>
        &nbsp;&nbsp; }<br>
        }<br>
        <br>
        void List::insert(Iterator iter, string s)<br>
        {&nbsp; if (iter.position == NULL)<br>
        &nbsp;&nbsp; {&nbsp; push_back(s);<br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return;<br>
        &nbsp;&nbsp; }<br>
        <br>
        &nbsp;&nbsp; Node* after = iter.position;<br>
        &nbsp;&nbsp; Node* before = after-&gt;previous;<br>
        &nbsp;&nbsp; Node* newnode = new Node(s);<br>
        &nbsp;&nbsp; newnode-&gt;previous = before;<br>
        &nbsp;&nbsp; newnode-&gt;next = after;<br>
        &nbsp;&nbsp; after-&gt;previous = newnode;<br>
        &nbsp;&nbsp; if (before == NULL) /* insert at beginning */<br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; first = newnode;<br>
        &nbsp;&nbsp; else<br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; before-&gt;next = newnode;<br>
        }<br>
        <br>
        Iterator List::erase(Iterator i)<br>
        {&nbsp; Iterator iter = i;<br>
        &nbsp;&nbsp; assert(iter.position != NULL);<br>
        &nbsp;&nbsp; Node* remove = iter.position;<br>
        &nbsp;&nbsp; Node* before = remove-&gt;previous;<br>
        &nbsp;&nbsp; Node* after = remove-&gt;next;<br>
        &nbsp;&nbsp; <br>
        &nbsp;&nbsp; if (remove == first) first = after;<br>
        &nbsp;&nbsp; else before-&gt;next = after;<br>
        &nbsp;&nbsp; if (remove == last) last = before;<br>
        &nbsp;&nbsp; else after-&gt;previous = before;<br>
        &nbsp;&nbsp; <br>
        &nbsp;&nbsp; iter.position = after;<br>
        &nbsp;&nbsp; delete remove;<br>
        &nbsp;&nbsp; return iter;<br>
        }<br>
        <br>
        Iterator List::begin() const<br>
        {&nbsp; Iterator iter;<br>
        &nbsp;&nbsp; iter.position = first;<br>
        &nbsp;&nbsp; iter.last = last;<br>
        &nbsp;&nbsp; return iter;<br>
        }<br>
        <br>
        Iterator List::end() const<br>
        {&nbsp; Iterator iter;<br>
        &nbsp;&nbsp; iter.position = NULL;<br>
        &nbsp;&nbsp; iter.last = last;<br>
        &nbsp;&nbsp; return iter;<br>
        }<br>
        <br>
        Iterator::Iterator()<br>
        {&nbsp; position = NULL;<br>
        &nbsp;&nbsp; last = NULL;<br>
        }<br>
        <br>
        string Iterator::operator*() const<br>
        {&nbsp; assert(position != NULL);<br>
        &nbsp;&nbsp; return position-&gt;data;<br>
        }<br>
        <br>
        void Iterator::operator++(int dummy)<br>
        {&nbsp; assert(position != NULL);<br>
        &nbsp;&nbsp; position = position-&gt;next;<br>
        }<br>
        <br>
        void Iterator::operator--(int dummy)<br>
        {&nbsp; if (position == NULL) position = last;<br>
        &nbsp;&nbsp; else position = position-&gt;previous;<br>
        &nbsp;&nbsp; assert(position != NULL);<br>
        }<br>
        <br>
        bool Iterator::operator==(Iterator b) const<br>
        {&nbsp; return position == b.position;<br>
        }<br>
        <br>
        bool Iterator::operator!=(Iterator b) const<br>
        {&nbsp; return position != b.position;<br>
        }<br>
        <br>
        Node::Node(string s)<br>
        {&nbsp; data = s;<br>
        &nbsp;&nbsp; previous = NULL;<br>
        &nbsp;&nbsp; next = NULL;<br>
        }<br>
        <br>
        void List::copy(const List&amp; b)<br>
        {&nbsp; for (Iterator p = b.begin(); p != b.end(); p++)<br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; push_back(*p);<br>
        }<br>
        <br>
        void List::free()<br>
        {&nbsp; while (begin() != end()) <br>
        &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;
        erase(begin());<br>
        }<br>
        <br>
        int main()<br>
        {&nbsp; List staff;<br>
        <br>
        &nbsp;&nbsp; staff.push_back("Cracker, Carl");<br>
        &nbsp;&nbsp; staff.push_back("Hacker, Harry");<br>
        &nbsp;&nbsp; staff.push_back("Lam, Larry");<br>
        &nbsp;&nbsp; staff.push_back("Sandman, Susan");<br>
        <br>
      </b>&nbsp;&nbsp; /* add a value in fourth place */<b><br>
        &nbsp;&nbsp; Iterator pos;<br>
        &nbsp;&nbsp; pos = staff.begin();<br>
        &nbsp;&nbsp; pos++;<br>
        &nbsp;&nbsp; pos++;<br>
        &nbsp;&nbsp; pos++;<br>
        <br>
        &nbsp;&nbsp; staff.insert(pos, "Reindeer, Rudolf");</b><br>
      <b><br>
      </b><b> </b><b>&nbsp;&nbsp; </b>/* remove the value in second
      place */<b><br>
        &nbsp;&nbsp; pos = staff.begin();<br>
        &nbsp;&nbsp; pos++;<br>
        <br>
        &nbsp;&nbsp; staff.erase(pos);<br>
        <br>
        &nbsp;&nbsp; </b>/* print all values */<b><br>
        &nbsp;&nbsp; for (pos = staff.begin(); pos != staff.end();
        pos++)<br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cout &lt;&lt; *pos &lt;&lt; "\n";<br>
        <br>
        &nbsp;&nbsp; return 0;<br>
        }</b></tt><br>
    <hr width="100%">
  </body>
</html>
